

shapes:
    "l.red_sq": shapes: : "sq" (0 0 0 0) 0 f "l.red"
    "l.red_tri": shapes: : "tri" (0 0 0 0) 0 f "l.red"
    "l.red_dia": shapes: : "dia" (0 0 0 0) 0 f "l.red"
    "red_curvy_sq": shapes: : "curvy_sq" (0 0 0 0) 0 f "red"
    "red_curvy_tri": shapes: : "curvy_tri" (0 0 0 0) 0 f "red"
    "red_curvy_dia": shapes: : "curvy_dia" (0 0 0 0) 0 f "red"
    "red_double_sq": shapes: : "double_sq" (0 0 0 0) 0 f "red"
    "red_double_tri": shapes: : "double_tri" (0 0 0 0) 0 f "red"
    "red_double_dia": shapes: : "double_dia" (0 0 0 0) 0 f "red"
    "l.blu_double_sq": shapes: : "double_sq" (0 0 0 0) 0 f "l.blu"
    "l.blu_double_tri": shapes: : "double_tri" (0 0 0 0) 0 f "l.blu"
    "l.blu_double_dia": shapes: : "double_dia" (0 0 0 0) 0 f "l.blu"

mappers:

    "l.red":
        unit: 1 0 0 0
        entries:
            : "sq" -> "l.red_sq"
            : "tri" -> "l.red_tri"
            : "dia" -> "l.red_dia"

    "red_curvy":
        unit: 2 4 0 -2
        entries:
            : "sq" -> "red_curvy_sq"
            : "tri" -> "red_curvy_tri"
            : "dia" -> "red_curvy_dia"

    "red_double":
        unit: 2 0 0 0
        entries:
            : "sq" -> "red_double_sq"
            : "tri" -> "red_double_tri"
            : "dia" -> "red_double_dia"

    "l.blu_double":
        unit: 2 0 0 0
        entries:
            : "sq" -> "l.blu_double_sq"
            : "tri" -> "l.blu_double_tri"
            : "dia" -> "l.blu_double_dia"

    "double_curvy": map ("double") ("curvy")
    "curvy_double": map ("curvy") ("double")
    "curvy_curvy": map ("curvy") ("curvy")

    "double_curvy_curvy": map ("double") ("curvy_curvy")
    "curvy_double_curvy": map ("curvy") ("double_curvy")

    "double_double_curvy_curvy": map ("double") ("double_curvy_curvy")
    "double_curvy_double_curvy": map ("double") ("curvy_double_curvy")

shapes:

    "double_dodeca_anim": map ("double") ("dodeca_anim")
    "curvy_dodeca_anim": map ("curvy") ("dodeca_anim")
    "double_dodeca_B": map ("double") ("dodeca_B")
    "curvy_dodeca_B": map ("curvy") ("dodeca_B")

    "double_double_dodeca_anim": map ("double") ("double_dodeca_anim")
    "double_curvy_dodeca_anim": map ("double") ("curvy_dodeca_anim")
    "curvy_double_dodeca_anim": map ("curvy") ("double_dodeca_anim")
    "curvy_curvy_dodeca_anim": map ("curvy") ("curvy_dodeca_anim")

    "double_double_dodeca_B": map ("double") ("double_dodeca_B")
    "double_curvy_dodeca_B": map ("double_curvy") ("dodeca_B")
    "curvy_double_dodeca_B": map ("curvy_double") ("double_dodeca_B")
    "curvy_curvy_dodeca_B": map ("curvy_curvy") ("dodeca_B")

    "double_curvy_curvy_dodeca_anim": map ("double_curvy_curvy") ("dodeca_anim")
    "curvy_double_curvy_dodeca_anim": map ("curvy_double_curvy") ("dodeca_anim")

    "double_curvy_curvy_dodeca_B": map ("double_curvy_curvy") ("dodeca_B")
    "curvy_double_curvy_dodeca_B": map ("curvy_double_curvy") ("dodeca_B")

    "double_double_curvy_curvy_dodeca_B": map ("double_double_curvy_curvy") ("dodeca_B")
    "double_curvy_double_curvy_dodeca_B": map ("double_curvy_double_curvy") ("dodeca_B")

    "red_curvy_dodeca_anim": map ("red_curvy") ("dodeca_anim")

    "l.blu_double_curvy_dodeca_anim":
        animation: cycle 12
        shapes:
            : "double_curvy_dodeca_anim" (0 0 0 0)  0 f "l.blu"

    "palmap_grid":
        shapes:
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 0) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 1) 0 f "cycle1"
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 2) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 0) 0 f "cycle1"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 1) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 2) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 0) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 1) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 2) 0 f "cycle1"

shapes:

    ##########
    # DOUBLE #
    ##########

    "double_sq":
        prismels:
            : "sq"  (0 0 0 0)  0 f eval: 1 + 1
            : "sq"  (1 0 0 0)  0 f eval: 1 + 1
            : "sq"  (0 0 0 1)  0 f eval: 1 + 1
            : "sq"  (1 0 0 1)  0 f eval: 1 + 1

    "double_tri":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 0 0)  0 f eval: 1 + 1
            : "tri" (0 0 1 0)  0 f eval: 1 + 1
            : "tri" (1 0 1 0)  6 f eval: 1 + 1

    "double_dia":
        prismels:
            : "dia" (0 0 0 0)  0 f eval: 1 + 1
            : "dia" (1 0 0 0)  0 f eval: 1 + 1
            : "dia" (0 1 0 0)  0 f eval: 1 + 1
            : "dia" (1 1 0 0)  0 f eval: 1 + 1


    ##########
    # TRIPLE #
    ##########

    "triple_sq":
        shapes:
            : "double_sq" (0 0 0 0) 0 f
        prismels:
            : "sq"  (2 0 0 0)  0 f eval: 1 + 1
            : "sq"  (2 0 0 1)  0 f eval: 1 + 1
            : "sq"  (2 0 0 2)  0 f eval: 1 + 1
            : "sq"  (1 0 0 2)  0 f eval: 1 + 1
            : "sq"  (0 0 0 2)  0 f eval: 1 + 1

    "triple_tri":
        shapes:
            : "double_tri" (0 0 0 0) 0 f
        prismels:
            : "tri" (2 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 1 0)  0 f eval: 1 + 1
            : "tri" (0 0 2 0)  0 f eval: 1 + 1
            : "tri" (2 0 1 0)  6 f eval: 1 + 1
            : "tri" (1 0 2 0)  6 f eval: 1 + 1

    "triple_dia":
        shapes:
            : "double_dia" (0 0 0 0) 0 f
        prismels:
            : "dia" (2 0 0 0)  0 f eval: 1 + 1
            : "dia" (2 1 0 0)  0 f eval: 1 + 1
            : "dia" (2 2 0 0)  0 f eval: 1 + 1
            : "dia" (1 2 0 0)  0 f eval: 1 + 1
            : "dia" (0 2 0 0)  0 f eval: 1 + 1

mappers:

    "double":
        solid
        unit: 2 0 0 0
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "double_sq"
            : "tri"  -> "double_tri"
            : "dia"  -> "double_dia"

    "triple":
        solid
        unit: 3 0 0 0
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "triple_sq"
            : "tri"  -> "triple_tri"
            : "dia"  -> "triple_dia"

    "quadruple": solid map ("double") ("double")

verts:
    "0": "map_vert0"
    "1": "map_vert1"
edges:
    "0": "map_edge0"
    "1": "map_edge1"
    "2": "map_edge2"
faces:
    "0": "map_face0"
    "1": "map_face1"
    "2": "map_face2"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"

geomfonts:
    "geomfont1":
        "data/font.fus" autoupper
        prismel: "sq" (1 0 0 0) (0 0 0 1)

shapes:
    "txt_title":
        text: "geomfont1" "Depths\n  of\n  Uo" (3 1)
    "txt_new_game":
        text: "geomfont1" "New"
    "txt_continue":
        text: "geomfont1" "Load"
    "txt_exit":
        text: "geomfont1" "Quit"

shapes:

    ##########
    # PLAYER #
    ##########

    #      -+   .   +-
    #     / |       | \
    #   +-  |       |  -+
    #   | \ |       | / |
    #  /   -+   .   +-   \
    # |     |       |     |
    # +-   /         \   -+
    # | \ |           | / |
    # |  -+   .   .   +-  |
    # | /               \ |
    # 0-                 -+

    "player_leg":
        prismels:
            : "tri" (  0 -1 -1 -1)  1 f eval: 1 + 8 + 3
            : "sq"  (  0  0 -1 -1)  2 f eval: 1 + 8 + 3
            : "tri" (  0  0  0 -1)  3 f eval: 1 + 8 + 5

    "_player_head_sixth":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" (1 0 0 0) 11 f eval: 1 + 8 + 2
            : "sq"  (1 0 0 0)  1 f eval: 1 + 8 + 1

    "_player_head":
        shapes:
            : "_player_head_sixth" (0 0 0 0)  0 f
            : "_player_head_sixth" (0 0 0 0)  2 f
            : "_player_head_sixth" (0 0 0 0)  4 f
            : "_player_head_sixth" (0 0 0 0)  6 f
            : "_player_head_sixth" (0 0 0 0)  8 f
            : "_player_head_sixth" (0 0 0 0) 10 f

    "player_head":
        shapes:
            : "_player_head" (0 0 0 0) 0 f
        prismels:
            : "sq"  (1 1 0 -1) 0 f eval: 1 + 8 + 1
            : "tri" (2 1 0 -1) 1 f eval: 1 + 8 + 2

    "player_stand":
        shapes:
            : "player_head" ( 0  1  3  1)  0 f
            : "player_leg"  ( 0  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  1)  6 t

    "player_look_up":
        shapes:
            : "player_head" ( 0  1  3  1)  1 f
            : "player_leg"  ( 0  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  1)  6 t

    "player_looking_up":
        shapes:
            : "player_head" ( 0  1  3  1)  2 f
            : "player_leg"  ( 0  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  1)  6 t

    "player_step":
        animation: cycle 4
        shapes:
            : "player_head" (-1  0  3  1)  0 f  0 (0 1)
            : "player_head" ( 0  0  3  1)  0 f  0 (1 1)
            : "player_head" ( 0  1  3  1)  0 f  0 (2 1)
            : "player_head" ( 0  1  3  1)  0 f  0 (3 1)
            : "player_leg"  (-1  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  1)  6 t

    "player_spit":
        animation: cycle 10
        shapes:
            # Player stand:
            #: "player_head" ( 0  1  3  1)  0 f  0 (6 1)
            #: "player_leg"  ( 0  1  1  1)  0 f  0 (6 1)
            #: "player_leg"  ( 2  1  1  1)  6 t  0 (6 1)

            # Head
            : "player_head" (-2  1  3  1)  0 f  0 (0 1)
            : "player_head" (-2  0  3  1)  0 f  0 (1 4)
            : "player_head" (-2  1  3  1)  0 f  0 (5 1)
            : "player_head" (-1  1  3  1)  0 f  0 (6 1)
            : "player_head" ( 0  1  3  1)  0 f  0 (7 3)

            # Back leg
            : "player_leg"  (-1  1  1  1)  0 f  0 (0 1)
            : "player_leg"  (-2  1  1  1)  1 f  0 (1 5)
            : "player_leg"  (-1  1  1  1)  0 f  0 (6 1)
            : "player_leg"  ( 0  1  1  1)  0 f  0 (7 3)

            # Front leg
            : "player_leg"  ( 1  1  1  1)  7 t  0 (0 1)
            : "player_leg"  ( 0  1  1  1)  7 t  0 (1 1)
            : "player_leg"  ( 0  1  1  1)  6 t  0 (2 7)
            : "player_leg"  ( 1  1  1  1)  6 t  0 (9 1)

    "player_looking_up_spit":
        animation: cycle 10
        shapes:
            # Player stand:
            #: "player_head" ( 0  1  3  1)  0 f  0 (6 1)
            #: "player_leg"  ( 0  1  1  1)  0 f  0 (6 1)
            #: "player_leg"  ( 2  1  1  1)  6 t  0 (6 1)

            # Head
            : "player_head" (-2  1  3  1)  2 f  0 (0 1)
            : "player_head" (-2  0  3  1)  2 f  0 (1 4)
            : "player_head" (-2  1  3  1)  2 f  0 (5 1)
            : "player_head" (-1  1  3  1)  2 f  0 (6 1)
            : "player_head" ( 0  1  3  1)  2 f  0 (7 3)

            # Back leg
            : "player_leg"  (-1  1  1  1)  0 f  0 (0 1)
            : "player_leg"  (-2  1  1  1)  1 f  0 (1 5)
            : "player_leg"  (-1  1  1  1)  0 f  0 (6 1)
            : "player_leg"  ( 0  1  1  1)  0 f  0 (7 3)

            # Front leg
            : "player_leg"  ( 1  1  1  1)  7 t  0 (0 1)
            : "player_leg"  ( 0  1  1  1)  7 t  0 (1 1)
            : "player_leg"  ( 0  1  1  1)  6 t  0 (2 7)
            : "player_leg"  ( 1  1  1  1)  6 t  0 (9 1)

    "player_crawl_spit":
        animation: cycle 10
        shapes:
            # Player crawl:
            #: "player_head" ( 0  1  2  0)  0 f
            #: "player_leg"  (-1  1  1  1)  0 f
            #: "player_leg"  ( 2  1  1  1)  6 t

            # Head
            : "player_head" (-2  1  2  0)  0 f  0 (0 1)
            : "player_head" (-2  0  2  0)  0 f  0 (1 4)
            : "player_head" (-2  1  2  0)  0 f  0 (5 1)
            : "player_head" (-1  1  2  0)  0 f  0 (6 1)
            : "player_head" ( 0  1  2  0)  0 f  0 (7 3)

            # Back leg
            : "player_leg"  (-2  1  1  1)  0 f  0 (0 1)
            : "player_leg"  (-3  1  1  1)  1 f  0 (1 5)
            : "player_leg"  (-2  1  1  1)  0 f  0 (6 1)
            : "player_leg"  (-1  1  1  1)  0 f  0 (7 3)

            # Front leg
            : "player_leg"  ( 1  1  1  1)  7 t  0 (0 1)
            : "player_leg"  ( 0  1  1  1)  7 t  0 (1 1)
            : "player_leg"  ( 0  1  1  1)  6 t  0 (2 7)
            : "player_leg"  ( 1  1  1  1)  6 t  0 (9 1)

    "player_crawl_looking_up_spit":
        animation: cycle 10
        shapes:
            # player_crawl_looking_up:
            #: "player_head" ( 3  1  1  1)  2 f
            #: "player_leg"  ( 1  1  1  1)  0 f
            #: "player_leg"  ( 4  2  0  0)  5 t

            # Head
            : "player_head" ( 1  1  1  1)  2 f  0 (0 1)
            : "player_head" ( 1  0  1  1)  2 f  0 (1 4)
            : "player_head" ( 1  1  1  1)  2 f  0 (5 1)
            : "player_head" ( 2  1  1  1)  2 f  0 (6 1)
            : "player_head" ( 3  1  1  1)  2 f  0 (7 3)

            # Back leg
            : "player_leg"  ( 0  1  1  1)  0 f  0 (0 1)
            : "player_leg"  (-1  1  1  1)  1 f  0 (1 5)
            : "player_leg"  ( 0  1  1  1)  0 f  0 (6 1)
            : "player_leg"  ( 1  1  1  1)  0 f  0 (7 3)

            # Front leg
            : "player_leg"  ( 2  2  1  0)  7 t  0 (0 1)
            : "player_leg"  ( 1  2  1  0)  7 t  0 (1 1)
            : "player_leg"  ( 1  2  1  0)  6 t  0 (2 7)
            : "player_leg"  ( 2  2  1  0)  6 t  0 (9 1)

    "_player_swim_spit_leg":
        animation: cycle 10
        shapes:
            # Front leg
            : "player_leg"  ( 0  2  1  0)  7 t  0 (0 1)
            : "player_leg"  ( 0  1  1  0)  8 t  0 (1 1)
            : "player_leg"  ( 0  0  1  0)  8 t  0 (2 1)
            : "player_leg"  ( 0  0  1  0)  7 t  0 (3 1)
            : "player_leg"  ( 0  0  1  0)  6 t  0 (4 1)
            : "player_leg"  ( 0  0  1  0)  5 t  0 (5 1)
            : "player_leg"  ( 1  0  1  0)  4 t  0 (6 1)
            : "player_leg"  ( 1  1  1  0)  4 t  0 (7 1)
            : "player_leg"  ( 1  2  1  0)  4 t  0 (8 1)
            : "player_leg"  ( 1  3  1  0)  5 t  0 (9 1)

    "player_swim_spit":
        animation: cycle 10
        shapes:
            # Head
            : "player_head" (-2  1  3  0)  1 f  0 (0 1)
            : "player_head" (-2  0  3  0)  1 f  0 (1 1)
            : "player_head" (-2 -1  3  0)  1 f  0 (2 2)
            : "player_head" (-1 -1  3  0)  1 f  0 (4 1)
            : "player_head" ( 0 -1  3  0)  0 f  0 (5 1)
            : "player_head" ( 0  0  3  0)  0 f  0 (6 1)
            : "player_head" ( 0  1  3  0)  0 f  0 (7 1)
            : "player_head" ( 0  1  4  0)  0 f  0 (8 1)
            : "player_head" ( 0  2  3  1)  0 f  0 (9 1)

            # Back leg
            : "_player_swim_spit_leg" (-1 -1 0 1) 0 f

            # Front leg
            : "_player_swim_spit_leg" ( 0  0 0 0) 0 f

    "_player_jump":
        shapes:
            : "player_head" ( 0  1  3  1)  0 f
            : "player_leg"  ( 0  1  1  1) 10 f
            : "player_leg"  ( 2  1  1  1)  7 t

    "player_jump":
        animation: cycle 3
        shapes:
            # The following is very "smooth", but somehow ends up looking
            # strange compared to the version below which pauses on the
            # first frame. *shrug*
            #: "_player_jump" (-2 0 0  0) 0 f  0 (0 1)
            #: "_player_jump" (-1 0 0  0) 0 f  0 (1 1)
            #: "_player_jump" ( 0 0 0  0) 0 f  0 (2 1)

            : "_player_jump" (-1 0 0  0) 0 f  0 (0 2)
            : "_player_jump" ( 0 0 0  0) 0 f  0 (2 1)

    "player_swim_jump":
        animation: cycle 5
        shapes:
            : "_player_jump" (-2 0 0  0) 0 f  0 (0 1)
            : "_player_jump" (-1 0 0  0) 0 f  0 (1 2)
            : "_player_jump" ( 0 0 0  0) 0 f  0 (3 2)

    "player_crawl":
        shapes:
            : "player_head" ( 0  1  2  0)  0 f
            : "player_leg"  (-1  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  1)  6 t

    "player_crawl_look_up":
        shapes:
            : "player_head" ( 1  1  2  0)  1 f
            : "player_leg"  ( 1  0  2  1) 11 f
            : "player_leg"  ( 3  1  1  1)  5 t

    "player_crawl_looking_up":
        shapes:
            : "player_head" ( 3  1  1  1)  2 f
            : "player_leg"  ( 1  1  1  1)  0 f
            : "player_leg"  ( 4  2  0  0)  5 t


    "player_crawl_step":
        animation: cycle 3
        shapes:
            : "player_head" (-1  0  2  1)  1 f  0 (0 1)
            : "player_head" ( 0  0  2  1)  1 f  0 (1 1)
            : "player_head" ( 0  1  2  0)  1 f  0 (2 1)
            : "player_leg"  (-1  1  1  1)  0 f
            : "player_leg"  ( 2  1  1  2)  7 t  0 (0 1)
            : "player_leg"  ( 3  1  1  2)  6 t  0 (1 1)
            : "player_leg"  ( 3  1  1  1)  6 t  0 (2 1)

    "player_swim":
        animation: cycle 12
        shapes:
            : "player_head" ( 0  1  3  2)  0 f 0 ( 0 2)
            : "player_leg"  ( 0  1  1  2)  1 f 0 ( 0 2)
            : "player_leg"  ( 2  1  1  2)  5 t 0 ( 0 2)

            : "player_head" ( 0  1  3  3)  0 f 0 ( 2 2)
            : "player_leg"  ( 0  1  1  3)  1 f 0 ( 2 2)
            : "player_leg"  ( 2  1  1  3)  5 t 0 ( 2 2)

            : "player_head" ( 0  1  3  3)  0 f 0 ( 4 2)
            : "player_leg"  ( 0  1  1  3)  0 f 0 ( 4 2)
            : "player_leg"  ( 2  1  1  3)  6 t 0 ( 4 2)

            : "player_head" ( 0  1  3  2)  0 f 0 ( 6 2)
            : "player_leg"  ( 0  1  1  2)  0 f 0 ( 6 2)
            : "player_leg"  ( 2  1  1  2)  6 t 0 ( 6 2)

            : "player_head" ( 0  1  3  1)  0 f 0 ( 8 2)
            : "player_leg"  ( 0  1  1  1) -1 f 0 ( 8 2)
            : "player_leg"  ( 2  1  1  1)  7 t 0 ( 8 2)

            : "player_head" ( 0  1  3  0)  0 f 0 (10 2)
            : "player_leg"  ( 0  1  1  0) -2 f 0 (10 2)
            : "player_leg"  ( 2  1  1  0)  8 t 0 (10 2)

    "player_dead_particle":
        animation: cycle 6
        prismels:
            : "tri" (1 0 0 0)  0 f eval(1 + 8 + 3)  (0 1)
            : "tri" (2 0 0 0)  2 f eval(1 + 8 + 4)  (1 1)
            : "tri" (3 0 0 0)  4 f eval(1 + 8 + 5)  (2 1)
            : "tri" (4 0 0 0)  6 f eval(1 + 8 + 3)  (3 1)
            : "tri" (5 0 0 0)  8 f eval(1 + 8 + 4)  (4 1)
            : "tri" (6 0 0 0) 10 f eval(1 + 8 + 5)  (5 1)

    "player_dead":
        animation: cycle 6
        shapes:
            : "player_dead_particle" (0 1 3 1) 1 f  0+
            : "player_dead_particle" (0 1 3 1) 3 f  2+
            : "player_dead_particle" (0 1 3 1) 6 f  3+
            : "player_dead_particle" (0 1 3 1) 9 f  5+

    "_spit":
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0)  2 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0)  4 f eval(1 + 8 + 7)
            : "tri" (0 0 0 0)  6 f eval(1 + 8 + 7)
            : "tri" (0 0 0 0)  8 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0) 10 f eval(1 + 8 + 7)

    "spit_fly":
        shapes:
            # NOTE: The center of a hexagon is at (0 1 3 1)
            : "_spit" ( 0  1 3 1)  0 f  0 (1 1)

    "spit_dead":
        animation: once 12
        shapes:
            : "player_dead_particle" (0 1 3 1) 1 f  0+ (0 6)
            : "player_dead_particle" (0 1 3 1) 3 f -2+ (2 6)
            : "player_dead_particle" (0 1 3 1) 6 f -3+ (3 6)
            : "player_dead_particle" (0 1 3 1) 9 f -5+ (5 6)

    "spit_crouch_fly":
        shapes:
            # NOTE: The center of a face is at (1 1 1 0).
            # But if you want that to line up with player's nose,
            # you need to elevate it to (1 1 2 0).
            # But then crouching spit and crouching coins don't
            # line up!..
            # So we should probably fix player's nose when crouching.
            : "_spit" ( 1  1 1 0)  0 f  0 (1 1)

    "spit_crouch_dead":
        animation: once 12
        shapes:
            : "player_dead_particle" (1 1 2 0) 1 f  0+ (0 6)
            : "player_dead_particle" (1 1 2 0) 3 f -2+ (2 6)
            : "player_dead_particle" (1 1 2 0) 6 f -3+ (3 6)
            : "player_dead_particle" (1 1 2 0) 9 f -5+ (5 6)

    "_coin":
        prismels:
            : "tri" ( 0  0  0  0)  0 f eval: 5 + 0 + 1
            : "tri" ( 0  0  0  0)  2 f eval: 5 + 0 + 1
            : "tri" ( 0  0  0  0)  4 f eval: 5 + 8 + 1
            : "tri" ( 0  0  0  0)  6 f eval: 5 + 8 + 1
            : "tri" ( 0  0  0  0)  8 f eval: 7 + 8 + 1
            : "tri" ( 0  0  0  0) 10 f eval: 5 + 8 + 1

    "coin":
        animation: cycle 12
        shapes:
            : "_coin" (0 0 0 0)  0 f  0 ( 0 1)
            : "_coin" (0 0 0 0)  1 f  0 ( 1 1)
            : "_coin" (0 0 0 0)  2 f  0 ( 2 1)
            : "_coin" (0 0 0 0)  3 f  0 ( 3 1)
            : "_coin" (0 0 0 0)  4 f  0 ( 4 1)
            : "_coin" (0 0 0 0)  5 f  0 ( 5 1)
            : "_coin" (0 0 0 0)  6 f  0 ( 6 1)
            : "_coin" (0 0 0 0)  7 f  0 ( 7 1)
            : "_coin" (0 0 0 0)  8 f  0 ( 8 1)
            : "_coin" (0 0 0 0)  9 f  0 ( 9 1)
            : "_coin" (0 0 0 0) 10 f  0 (10 1)
            : "_coin" (0 0 0 0) 11 f  0 (11 1)

    "coin_crouch":
        animation: cycle 12
        shapes:
            : "coin" (1 1 1 0)  0 f

    "coin_dead":

shapes:

    ############
    # CURVY SQ #
    ############

    "curvy_sq_eighth":

        #   +-
        #   | \
        #   |  -+-
        #   | / | \
        #   +-  |  -+
        #   | \ | / |
        #  /   -+-   \
        # |     |     |
        # 0-   / \   -+
        #   \ |   | /
        #    -+---+-

        prismels:
            : "sq"  (0 0 0  0) 11 f eval: 1 + 8 + 1
            : "tri" (0 1 0 -1)  0 f eval: 1 + 8 + 2
            : "sq"  (0 1 1 -1) 10 f eval: 1 + 8 + 3
            : "tri" (0 1 1  0)  5 f eval: 1 + 2
            : "tri" (0 1 1  0)  7 f eval: 1 + 3
            : "tri" (0 1 1  0)  9 f eval: 1 + 3

    "curvy_sq_quarter":

        shapes:
            : "curvy_sq_eighth" (0 0 0 0)  0 f
            : "curvy_sq_eighth" (0 2 2 0)  6 f

    "curvy_sq":

        shapes:
            : "curvy_sq_quarter" ( 0  0  0  0)  0 f
            : "curvy_sq_quarter" ( 2  4  0 -2)  3 f
            : "curvy_sq_quarter" ( 0  4  4  0)  6 f
            : "curvy_sq_quarter" (-2  0  4  2)  9 f


    #############
    # CURVY TRI #
    #############

    "curvy_tri_third":

        #       +-
        #       | \
        #       |  -+
        #       | / |
        #       +-   \
        #       |     |
        #      / \   -+
        #     |   | / |
        #    -+---+-  |
        #   / |   | \ |
        # 0-  |   |  -+
        #   \ |   | /
        #    -+---+-

        prismels:
            : "tri" ( 0 0 0 0) 11 f eval: 1 + 8 + 1
            : "sq"  ( 1 1 0 0)  1 f eval: 1 + 2
            : "tri" ( 1 1 0 0)  4 f eval: 1 + 3
            : "sq"  ( 1 1 0 0)  6 f eval: 1 + 8 + 2
            : "tri" ( 1 1 0 0)  9 f eval: 1 + 8 + 3
            : "tri" ( 1 1 0 0) 11 f eval: 1 + 8 + 3
            : "tri" ( 0 1 1 0)  1 f eval: 1 + 8 + 3

    "curvy_tri":

        shapes:
            : "curvy_tri_third" ( 0  0  0  0)  0 f
            : "curvy_tri_third" ( 2  4  0 -2)  4 f
            : "curvy_tri_third" ( 0  2  2  2)  8 f

        prismels:
            : "tri" ( 0  2  1  0) 10 f eval: 1 + 4


    #############
    # CURVY DIA #
    #############

    "curvy_dia_half":

        #                -+---X
        #               / | \
        #             +-  |  -+
        #             | \ | / |
        #            /   -+- / \
        #           |     | |   |
        #           +-   / -+---+
        #           | \ | / |   |
        #          /   -+- / \ / \
        #         |     | |   |   |
        #        -+-   / -+---+---+-
        #       / | \ | /       \   \
        # 0---+-  |  -+-         -X---+
        #   \   \ | /
        #    -+---+-

        prismels:
            : "dia" ( 0  0  0  0) 11 f  eval: 1 + 8 + 1
            : "tri" ( 1  1  0 -1)  1 f  eval: 1 + 8 + 2
            : "tri" ( 1  1  0 -1)  3 f  eval: 1 + 8 + 3
            : "sq"  ( 1  1  0  0) 11 f  eval: 1 + 8 + 2
            : "sq"  ( 1  1  1  0) 11 f  eval: 1 + 8 + 3
            : "tri" ( 1  2  2 -1)  1 f  eval: 1 + 8 + 2
            : "tri" ( 1  2  2 -1)  3 f  eval: 1 + 8 + 2
            : "dia" ( 1  2  0 -1)  1 f  eval: 1 + 2
            : "dia" ( 1  2  1 -1)  1 f  eval: 1 + 3
            : "dia" ( 2  3  0 -1) 11 f  eval: 1 + 8 + 1
            : "tri" ( 2  3  0 -1)  0 f  eval: 1 + 2
            : "tri" ( 2  3  0 -1)  2 f  eval: 1 + 3
            : "tri" ( 2  3  0 -1)  4 f  eval: 1 + 4
            : "tri" ( 2  3  1 -1)  4 f  eval: 1 + 5

    "curvy_dia":

        shapes:
            : "curvy_dia_half" ( 0  0  0  0)  0 f
            : "curvy_dia_half" ( 4  6  2 -2)  6 f

mappers:

    "curvy":
        unit: 2 4 0 -2
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "curvy_sq"
            : "tri"  -> "curvy_tri"
            : "dia"  -> "curvy_dia"

    "solid_curvy":
        solid
        unit: 2 4 0 -2
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "curvy_sq"
            : "tri"  -> "curvy_tri"
            : "dia"  -> "curvy_dia"

collmap:
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;

parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

prismels:

    "vert":
        # ++
        # +X
        images:
            : (-1 -1 2) (-1 0 2)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)

    "edge":
        # an edge (invisible line)
        images:
            () () () () () () () () () () () ()
            () () () () () () () () () () () ()

    "sq":

        # +---+
        # |   |
        # |   |
        # 0---+

        #     +   +
        # ++ +++ +++ ++   +                             +
        # ++  +   +  ++  +++   +                    +  +++
        # .   .    .   .  + . +++. ++.  +.  X  X+  X++ .+
        #                      +   ++  +++ +++ ++   +
        #                               +   +

        images:
            : ( 0 -2  2) ( 0 -1  2)
            : ( 0 -3  1) (-1 -2  3) ( 0 -1  1)
            : (-1 -3  1) (-2 -2  3) (-1 -1  1)
            : (-2 -2  2) (-2 -1  2)
            : (-2 -2  1) (-3 -1  3) (-2  0  1)
            : (-2 -1  1) (-3  0  3) (-2  1  1)
            : (-2  0  2) (-2  1  2)
            : (-1  0  1) (-2  1  3) (-1  2  1)
            : ( 0  0  1) (-1  1  3) ( 0  2  1)
            : ( 0  0  2) ( 0  1  2)
            : ( 1 -1  1) ( 0  0  3) ( 1  1  1)
            : ( 1 -2  1) ( 0 -1  3) ( 1  0  1)
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0
            : 11
            : 10

    "tri":

        #   +
        #   |
        #  / \
        # |   |
        # 0---+

        #
        #    + ++ +
        # ++ +    +  ++  +                   +
        # .  .  .  .   . + . ++. +.  . X X+ .+
        #                        +  ++ +

        images:
            : ( 0 -1  2)
            : ( 0 -2  1) ( 0 -1  1)
            : (-1 -2  2)
            : (-1 -2  1) (-1 -1  1)
            : (-2 -1  2)
            : (-2 -1  1) (-2  0  1)
            : (-2  0  2)
            : (-1  0  1) (-1  1  1)
            : (-1  1  2)
            : ( 0  0  1) ( 0  1  1)
            : ( 0  0  2)
            : ( 1 -1  1) ( 1  0  1)
            : 10
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0
            : 11

    "dia":

        #    -+---+
        #   /   /
        # 0---+-

        #       + + +  +
        #      +  + +   +
        #  ++ +          +  ++
        # .   .   .  .    .    . ++ .   +.  . . X   .++
        #                              +   +  +  +
        #                             +    +  +   +

        images:
            : ( 1 -1  2)
            : ( 0 -1  1) ( 1 -2  1) ( 2 -3  1)
            : ( 0 -2  1) ( 0 -3  1)
            : (-1 -2  1) (-1 -3  1)
            : (-1 -1  1) (-2 -2  1) (-3 -3  1)
            : (-3 -1  2)
            : (-3  0  2)
            : (-1  0  1) (-2  1  1) (-3  2  1)
            : (-1  1  1) (-1  2  1)
            : ( 0  1  1) ( 0  2  1)
            : ( 0  0  1) ( 1  1  1) ( 2  2  1)
            : ( 1  0  2)
            : 11
            : 10
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0

shapes:

    "empty":
        prismels:

    "vert":
        prismels:
            : "vert"  (0 0 0 0)  0 f 2

    "edge":
        prismels:
            : "edge"  (0 0 0 0)  0 f 2

    "sq":
        prismels:
            : "sq"  (0 0 0 0)  0 f 2

    "tri":
        prismels:
            : "tri" (0 0 0 0)  0 f 2

    "dia":
        prismels:
            : "dia" (0 0 0 0)  0 f 2


import "data/palmappers.fus"

import "data/prismels.fus"
import "data/double.fus"
import "data/curvy.fus"
import "data/dodecas.fus"

import "data/mappers.fus"
import "data/texts.fus"

import "data/maps/test/tiles.fus"
import "data/maps/demo/tilesets/water_tiles.fus"
import "data/maps/trees/tilesets/bark_tiles.fus"
import "data/player.fus"
import "data/roller.fus"
import "data/flier.fus"
import "data/bird.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

shapes:

    #########
    # FLIER #
    #########

    "flier_born_sixth":
        prismels:
            : "tri" (0 0 0 0) 0 f eval: 1 + 8 + 3
            : "tri" (1 0 0 0) 2 f eval: 1 + 8 + 4

    "flier_born":
        shapes:
            : "flier_born_sixth" (0 0 0 0)  0 f
            : "flier_born_sixth" (0 0 0 0)  2 f
            : "flier_born_sixth" (0 0 0 0)  4 f
            : "flier_born_sixth" (0 0 0 0)  6 f
            : "flier_born_sixth" (0 0 0 0)  8 f
            : "flier_born_sixth" (0 0 0 0) 10 f

    "flier_head":
        shapes:
            : "player_head" (0 0 0 0) 0 f

    "flier":
        shapes:
            : "flier_head" (0 0 0 0) 0 f

    "flier_fly":
        animation: cycle 3
        shapes:
            : "flier_head" (-2 0 0 0) 0 f  0 (0 1)
            : "flier_head" (-1 0 0 0) 0 f  0 (1 1)
            : "flier_head" ( 0 0 0 0) 0 f  0 (2 1)

shapes:

    ##########
    # DODECA #
    ##########

    "dodeca_sixth":

        #   +
        #  +++
        # ++++
        # .  +

        #      -+
        #     / |
        #   +-   \
        #   |     |
        #  / \   -+
        # |   | / |
        # 0---+-  |
        #       \ |
        #        -+

        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 0 0) 11 f eval: 1 + 2
            : "sq"  (1 0 0 0)  1 f eval: 1 + 3

    "dodeca":
        shapes:
            : "dodeca_sixth" (0 0 0 0)  0 f
            : "dodeca_sixth" (0 0 0 0)  2 f
            : "dodeca_sixth" (0 0 0 0)  4 f
            : "dodeca_sixth" (0 0 0 0)  6 f
            : "dodeca_sixth" (0 0 0 0)  8 f
            : "dodeca_sixth" (0 0 0 0) 10 f


    ###############
    # DODECA ANIM #
    ###############

    "dodeca_anim_sixth":
        animation: oscillate 6
        shapes:
            : "dodeca_sixth" (0 0 0 0) 0 f
        prismels:
            : "tri" (1 1 0 0)  2 f eval(1 + 4) (1 1)
            : "sq"  (1 1 0 0)  1 f eval(1 + 4) (2 4)
            : "tri" (1 2 0 0)  2 f eval(1 + 3) (3 1)
            : "sq"  (1 2 0 0)  1 f eval(1 + 3) (4 2)
            : "tri" (1 3 0 0)  2 f eval(1 + 2) (5 1)

    "dodeca_anim":
        animation: cycle 12
        shapes:
            : "dodeca_anim_sixth" (0 0 0 0)  0 f  0+
            : "dodeca_anim_sixth" (0 0 0 0)  2 f  2+
            : "dodeca_anim_sixth" (0 0 0 0)  4 f  4+
            : "dodeca_anim_sixth" (0 0 0 0)  6 f  6+
            : "dodeca_anim_sixth" (0 0 0 0)  8 f  8+
            : "dodeca_anim_sixth" (0 0 0 0) 10 f 10+


    ############
    # DODECA B #
    ############

    "dodeca_B_twelfth":
        animation: oscillate 6

        #       +
        #       |
        #      / \
        #     |   |
        #    -+---+
        #   /   /
        # 0---+-

        prismels:
            : "dia" (0 0 0 0)  0 f eval(1 + 1) (0 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 1) (0 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 1) (1 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 2) (1 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 2) (2 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 3) (2 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 3) (3 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 4) (3 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 4) (4 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 5) (4 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 5) (5 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 5) (5 1)

    "dodeca_B":
        animation: cycle 12

        shapes:
            : "dodeca_B_twelfth" (0 0 0 0)  0 f  0+
            : "dodeca_B_twelfth" (0 0 0 0)  1 f  1+
            : "dodeca_B_twelfth" (0 0 0 0)  2 f  2+
            : "dodeca_B_twelfth" (0 0 0 0)  3 f  3+
            : "dodeca_B_twelfth" (0 0 0 0)  4 f  4+
            : "dodeca_B_twelfth" (0 0 0 0)  5 f  5+
            : "dodeca_B_twelfth" (0 0 0 0)  6 f  6+
            : "dodeca_B_twelfth" (0 0 0 0)  7 f  7+
            : "dodeca_B_twelfth" (0 0 0 0)  8 f  8+
            : "dodeca_B_twelfth" (0 0 0 0)  9 f  9+
            : "dodeca_B_twelfth" (0 0 0 0) 10 f 10+
            : "dodeca_B_twelfth" (0 0 0 0) 11 f 11+


char_w: 8
char_h: 8
chars:
    " ":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
    "A":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 222222 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "B":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 22222  "
        " 2    2 "
        " 2    2 "
        " 222221 "
    "C":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 122222 "
    "D":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 222221 "
    "E":
        "        "
        " 222222 "
        " 2      "
        " 2      "
        " 222222 "
        " 2      "
        " 2      "
        " 222222 "
    "F":
        "        "
        " 222222 "
        " 2      "
        " 2      "
        " 22222  "
        " 2      "
        " 2      "
        " 2      "
    "G":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 2      "
        " 2  222 "
        " 2    2 "
        " 122222 "
    "H":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 222222 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "I":
        "        "
        "  222   "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "  222   "
    "J":
        "        "
        "    222 "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        " 2   2  "
        " 12221  "
    "K":
        "        "
        " 2    2 "
        " 2   21 "
        " 2  21  "
        " 2221   "
        " 2  21  "
        " 2   21 "
        " 2    2 "
    "L":
        "        "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 222222 "
    "M":
        "        "
        " 2    2 "
        " 21  12 "
        " 221122 "
        " 2 22 2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "N":
        "        "
        " 21   2 "
        " 221  2 "
        " 2 21 2 "
        " 2  212 "
        " 2   22 "
        " 2    2 "
        " 2    2 "
    "O":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "P":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 222221 "
        " 2      "
        " 2      "
        " 2      "
    "Q":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 2  1 2 "
        " 2  212 "
        " 2   22 "
        "  22222 "
    "R":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 222221 "
        " 2  21  "
        " 2   21 "
        " 2    2 "
    "S":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 12222  "
        "      2 "
        " 2    2 "
        " 122221 "
    "T":
        "        "
        " 222222 "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "U":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "V":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 21  12 "
        "  2  2  "
        "  2112  "
        "   22   "
    "W":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2 11 2 "
        " 212212 "
        " 22  22 "
        " 2    2 "
    "X":
        "        "
        " 21  12 "
        "  2  2  "
        "  2112  "
        "   22   "
        "  1221  "
        " 12  21 "
        " 2    2 "
    "Y":
        "        "
        " 2   2  "
        " 2   2  "
        " 21 12  "
        "  212   "
        "   2    "
        "   2    "
        "   2    "
    "Z":
        "        "
        " 222222 "
        "    12  "
        "   12   "
        "  12    "
        " 12     "
        " 2      "
        " 222222 "
    "0":
        "        "
        "  1221  "
        " 12  21 "
        " 2  122 "
        " 2 12 2 "
        " 212  2 "
        " 22   2 "
        " 122221 "
    "1":
        "    1   "
        "   12   "
        "   22   "
        "    2   "
        "    2   "
        "    2   "
        "    2   "
        "   222  "
    "2":
        "        "
        "  12221 "
        "  2   2 "
        "     12 "
        "    12  "
        "   12   "
        "  12    "
        "  22222 "
    "3":
        "        "
        "  12221 "
        "  2   2 "
        "      2 "
        "    221 "
        "      2 "
        "  2   2 "
        "  12221 "
    "4":
        "     1  "
        "    12  "
        "   122  "
        "  12 2  "
        " 12  2  "
        " 222222 "
        "     2  "
        "     2  "
    "5":
        "        "
        " 22222  "
        " 2      "
        " 22221  "
        "     21 "
        "      2 "
        " 2    2 "
        " 122221 "
    "6":
        "        "
        "  1222  "
        " 12     "
        " 2      "
        " 222221 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "7":
        "        "
        " 22222  "
        "     2  "
        "    12  "
        "   12   "
        "   2    "
        "   2    "
        "   2    "
    "8":
        "        "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12221  "
    "9":
        "        "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12222  "
        "     2  "
        "     2  "
        "  2221  "
    "_":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        " 222222 "
    ".":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "  22    "
        "  22    "
    ",":
        "        "
        "        "
        "        "
        "        "
        "        "
        "   2    "
        "  22    "
        "  21    "
    ":":
        "        "
        "  22    "
        "  22    "
        "        "
        "        "
        "        "
        "  22    "
        "  22    "
    ";":
        "        "
        "  22    "
        "  22    "
        "        "
        "        "
        "   2    "
        "  22    "
        "  21    "
    "(":
        "        "
        "   12   "
        "  12    "
        "  2     "
        "  2     "
        "  2     "
        "  12    "
        "   12   "
    ")":
        "        "
        "   21   "
        "    21  "
        "     2  "
        "     2  "
        "     2  "
        "    21  "
        "   21   "
    "[":
        "        "
        "  222   "
        "  2     "
        "  2     "
        "  2     "
        "  2     "
        "  2     "
        "  222   "
    "]":
        "        "
        "   222  "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        "   222  "
    "{":
        "        "
        "   122  "
        "   2    "
        "   2    "
        " 221    "
        "   2    "
        "   2    "
        "   122  "
    "}":
        "        "
        "  221   "
        "    2   "
        "    2   "
        "    122 "
        "    2   "
        "    2   "
        "  221   "
    "+":
        "        "
        "        "
        "   2    "
        "   2    "
        " 22222  "
        "   2    "
        "   2    "
        "        "
    "-":
        "        "
        "        "
        "        "
        "        "
        " 22222  "
        "        "
        "        "
        "        "
    "*":
        "        "
        "  1 1   "
        "  212   "
        "   2    "
        " 22222  "
        "  121   "
        "  2 2   "
        "        "
    "/":
        "        "
        "     1  "
        "    12  "
        "   12   "
        "  12    "
        " 12     "
        " 2      "
        "        "
    "%":
        "        "
        "     1  "
        " 22 12  "
        " 2212   "
        "  12    "
        " 12 22  "
        " 2  22  "
        "        "
    "\\":
        "        "
        " 1      "
        " 21     "
        "  21    "
        "   21   "
        "    21  "
        "     2  "
        "        "
    "|":
        "        "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "'":
        "        "
        "   2    "
        "   2    "
        "        "
        "        "
        "        "
        "        "
        "        "
    "\"":
        "        "
        "  2 2   "
        "  2 2   "
        "        "
        "        "
        "        "
        "        "
        "        "
    "!":
        "        "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "        "
        "   2    "
        "        "
    "?":
        "        "
        "  12221 "
        "  2   2 "
        "  2   2 "
        "     21 "
        "    21  "
        "        "
        "    2   "
    "@":
        "        "
        "  1221  "
        " 12  21 "
        " 2 12 2 "
        " 2 2 22 "
        " 2 1221 "
        " 2      "
        " 12222  "
    "#":
        "        "
        "  2  2  "
        " 222222 "
        "  2  2  "
        "  2  2  "
        " 222222 "
        "  2  2  "
        "        "
    "$":
        "        "
        "   2    "
        " 12222  "
        " 2 2    "
        " 12221  "
        "   2 2  "
        " 22221  "
        "   2    "
    "^":
        "   1    "
        "  121   "
        " 12 21  "
        " 2   2  "
        "        "
        "        "
        "        "
        "        "
    "&":
        "        "
        " 1221   "
        " 21 2   "
        "  21    "
        " 1221 1 "
        " 2  212 "
        " 2  121 "
        " 122212 "
    "`":
        " 1      "
        " 21     "
        "  2     "
        "        "
        "        "
        "        "
        "        "
        "        "
    "~":
        "        "
        "        "
        "        "
        " 1221 2 "
        " 2 1221 "
        "        "
        "        "
        "        "
    "<":
        "     1  "
        "    12  "
        "   12   "
        "  12    "
        "  21    "
        "   21   "
        "    21  "
        "     2  "
    ">":
        "  1     "
        "  21    "
        "   21   "
        "    21  "
        "    12  "
        "   12   "
        "  12    "
        "  2     "
    "=":
        "        "
        "        "
        " 22222  "
        "        "
        "        "
        " 22222  "
        "        "
        "        "

shapes:

    ########
    # BIRD #
    ########

    "_bird_eye_sixth":
        prismels:
            : "tri" (0 0 0  0)  0 f eval: 1 + 8 + 4

            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 7
            : "sq"  (1 0 0  0)  1 f eval: 1 + 8 + 6

    "_bird_eye":
        shapes:
            : "_bird_eye_sixth" (0 0 0 0)  0 f
            : "_bird_eye_sixth" (0 0 0 0)  2 f
            : "_bird_eye_sixth" (0 0 0 0)  4 f
            : "_bird_eye_sixth" (0 0 0 0)  6 f
            : "_bird_eye_sixth" (0 0 0 0)  8 f
            : "_bird_eye_sixth" (0 0 0 0) 10 f

    "_bird_eye_turn_half":
        prismels:
            : "tri" (0 0  0  0)  0 f eval: 1 + 8 + 4

            : "tri" (0 0  1  0)  1 f eval: 1 + 8 + 7
            : "tri" (1 0  0  0) 11 f eval: 1 + 8 + 7
            : "sq"  (1 0  0  0)  1 f eval: 1 + 8 + 6
            : "sq"  (1 0 -1  0) 11 f eval: 1 + 8 + 6
            : "tri" (1 0 -1  0)  9 f eval: 1 + 8 + 7

    "_bird_eye_turn":
        shapes:
            : "_bird_eye_turn_half" (0 0 0 0)  0 f
            : "_bird_eye_turn_half" (1 0 0 0)  6 f

    "_bird_head_sixth":
        prismels:
            : "tri" (0 0 0  0)  0 f eval: 1 + 8 + 2

            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 1
            : "sq"  (1 0 0  0)  1 f eval: 1 + 8 + 1

            : "tri" (0 1 1  0)  0 f eval: 1 + 0 + 2
            : "tri" (1 1 0  0)  2 f eval: 1 + 0 + 2
            : "tri" (1 1 0  0)  0 f eval: 1 + 8 + 2
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 1

    "_bird_head_fringe_sixth":
        prismels:
            : "tri" (2 2 0 -1)  3 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  7 f eval: 1 + 8 + 1
            : "sq"  (1 1 1  0) 10 f eval: 1 + 8 + 2
            : "sq"  (1 1 1  0)  1 f eval: 1 + 8 + 2

    "_bird_beak":
        prismels:
            : "tri" (0 0  0 0)  0 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  2 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  4 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  8 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0) 10 f eval: 1 + 8 + 4
            : "tri" (1 0 -1 0)  0 f eval: 1 + 8 + 4

            : "sq"  (0 0  1 0)  3 f eval: 1 + 8 + 2
            : "tri" (0 0  1 0)  1 f eval: 1 + 0 + 2
            : "sq"  (0 0  1 0) 10 f eval: 1 + 0 + 4
            : "sq"  (2 0 -1 0)  1 f eval: 1 + 0 + 4
            : "tri" (2 0 -1 0) 11 f eval: 1 + 0 + 4

    "_bird_head":
        shapes:
            : "_bird_head_sixth" (0 0 0 0)  0 f
            : "_bird_head_sixth" (0 0 0 0)  2 f
            : "_bird_head_sixth" (0 0 0 0)  4 f
            : "_bird_head_sixth" (0 0 0 0)  6 f
            : "_bird_head_sixth" (0 0 0 0)  8 f
            : "_bird_head_sixth" (0 0 0 0) 10 f
            : "_bird_head_fringe_sixth" (0 0 0 0)  2 f
            : "_bird_head_fringe_sixth" (0 0 0 0)  4 f
            : "_bird_head_fringe_sixth" (0 0 0 0)  6 f

    "_bird_leg_calf_beefy":
        prismels:
            : "tri" (0 0 0  0)  3 f eval: 1 + 0 + 6
            : "tri" (0 0 0  0)  5 f eval: 1 + 0 + 6
            : "tri" (0 0 0  0)  7 f eval: 1 + 0 + 6
            : "sq"  (0 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (0 0 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (1 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (1 0 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (2 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (2 0 0 -1)  0 f eval: 1 + 0 + 7

            : "tri" (3 1 0  0)  1 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  3 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  5 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  7 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  9 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0) 11 f eval: 1 + 0 + 6

            : "tri" (3 1 0 -1)  5 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1)  7 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1)  9 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1) 11 f eval: 1 + 0 + 6

    "_bird_leg_thigh_beefy":
        prismels:
            : "tri" (0 0 0  0) 11 f eval: 1 + 0 + 6
            : "sq"  (0 1 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (2 1 0 -1)  0 f eval: 1 + 0 + 7
            : "tri" (3 2 0 -1)  5 f eval: 1 + 0 + 6

    "_bird_leg_calf":
        prismels:
            # ball (foot):
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 5
            #: "tri" (0 0 0 0)  2 f eval: 1 + 8 + 5
            #: "tri" (0 0 0 0)  4 f eval: 1 + 8 + 5
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 5

            # stick (calf):
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 5
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 5
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 5

    "_bird_leg_thigh":
        prismels:
            # ball (knee):
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 7
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 7
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 7
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 7

            # stick (thigh):
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 7
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 7
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 7



    "bird_head":
        shapes:
            : "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f
            : "_bird_eye" eval((0 1 3 1) + (1 0 -2 0) + (0 0 0 0))  0 f
            : "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (2 1 -1 -1)) 0 f

    "bird_leg_calf":
        shapes:
            : "_bird_leg_calf" (0 0 0 0) 0 f

    "bird_leg_thigh":
        shapes:
            : "_bird_leg_thigh" (0 0 0 0) 0 f

    "bird_legs_stand":
        shapes:
            # back leg
            : "bird_leg_calf"  ( 0  0 0  0) 4 f
            : "bird_leg_thigh" (-3 -1 3  2) 2 f

            # front leg
            : "bird_leg_calf"  ( 3  2 0 -1) 4 f
            : "bird_leg_thigh" ( 0  1 3  1) 4 f

    "bird_stand":
        shapes:
            : "bird_legs_stand" (0 0 0 0) 0 f
            : "bird_head" (-3 0 6  3)  0 f

    "bird_legs_step":
        animation: cycle 4
        shapes:
            # back leg
            #: "bird_leg_calf"  ( 0  0 0  0) 4 f
            #: "bird_leg_thigh" (-3 -1 3  2) 2 f

            : "bird_leg_calf"  ( 1  0 0  0) 4 f 0 (0 1)
            : "bird_leg_thigh" (-3 -1 3  2) 2 f 0 (0 1)

            : "bird_leg_calf"  ( 2  0 0  0) 4 f 0 (1 1)
            : "bird_leg_thigh" (-2 -1 3  2) 2 f 0 (1 1)

            : "bird_leg_calf"  ( 4  0 0  0) 4 f 0 (2 1)
            : "bird_leg_thigh" (-1 -1 3  2) 2 f 0 (2 1)

            : "bird_leg_calf"  ( 6  0 0  0) 4 f 0 (3 1)
            : "bird_leg_thigh" ( 0 -1 3  2) 2 f 0 (3 1)

            # front leg
            : "bird_leg_calf"  ( 3  2 0 -1) 4 f
            : "bird_leg_thigh" ( 0  1 3  1) 4 f

    "bird_head_turn":
        animation: cycle 3
        shapes:
            ######
            # frame 2 is original bird_head, for debugging purposes
            : "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (2 1)
            : "_bird_eye" eval((0 1 3 1) + (1 0 -2 0) + (0 0 0 0))  0 f 0 (2 1)
            : "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (2 1 -1 -1)) 0 f 0 (2 1)
            ######

            # eye coming from other side of head
            : "_bird_eye_turn" eval((0 1 3 1) + (1 0 -2 0) + ( 2 0 0 0))  0 f 0 (1 1)

            : "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (0 1)
            : "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (1 1)

            : "_bird_eye_turn"      eval((0 1 3 1) + (1 0 -2 0) + (-2 0 0 0))  0 f 0 (0 1)
            : "_bird_eye_turn" eval((0 1 3 1) + (1 0 -2 0) + (-3 0 0 0))  0 f 0 (1 1)

            : "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (1 1 -1 -1)) 11 f 0 (0 1)
            : "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (0 1 -1 -1)) 11 f 0 (1 1)


    "bird_turn_arrive":
        animation: cycle 2
        shapes:
            : "bird_legs_stand" (0 0 0 0) 0 f
            : "bird_head_turn" (-3 0 6  3)  0 f 1 (0 1)
            : "bird_head_turn" (-3 0 6  3)  0 f 0 (1 1)

    "bird_turn":
        animation: cycle 4
        shapes:
            # back/front calves
            #: "bird_leg_calf"  ( 0  0 0  0) 4 f
            #: "bird_leg_calf"  ( 3  2 0 -1) 4 f

            : "bird_leg_calf"  ( 0  0 0  0) 3 f 0 (0 1)
            : "bird_leg_calf"  ( 3  2 0 -1) 3 f 0 (0 1)

            : "bird_leg_calf"  ( 0  0 0  0) 2 f 0 (1 1)
            : "bird_leg_calf"  ( 3  2 0 -1) 2 f 0 (1 1)

            # back/front thighs
            #: "bird_leg_thigh" (-3 -1 3  2) 2 f
            #: "bird_leg_thigh" ( 0  1 3  1) 4 f

            : "bird_leg_thigh" (-1 -1 3  2) 2 f 0 (0 1)
            : "bird_leg_thigh" ( 2  1 3  1) 4 f 0 (0 1)

            : "bird_leg_thigh" ( 1 -1 3  2) 2 f 0 (1 1)
            : "bird_leg_thigh" ( 4  1 3  1) 4 f 0 (1 1)

            # head
            : "bird_head_turn" (-3 0 6  3)  0 f 0+ (0 2)

            ############
            # frames 3, 4 are turn_arrive for debugging purposes
            : "bird_turn_arrive" (3 2 0 -1) 6 t 2+ (2 2)

    "bird_step":
        animation: cycle 4
        shapes:
            : "bird_legs_step" (0 0 0 0) 0 f 1+

            : "bird_head" (-3 0 6  3)  0 f 0 (0 1)
            : "bird_head" (-2 0 6  3)  0 f 0 (1 1)
            : "bird_head" (-1 0 6  3)  0 f 0 (2 1)
            : "bird_head" ( 0 0 6  3)  0 f 0 (3 1)

    "bird_step_rev":
        animation: cycle 4
        shapes:
            : "bird_step" (0 0 0 0) 0 f 2 (0 1)
            : "bird_step" (0 0 0 0) 0 f 1 (1 1)
            : "bird_step" (0 0 0 0) 0 f 0 (2 1)
            : "bird_step" (0 0 0 0) 0 f 0 (3 1)

    "bird_step_up_arrive":
        animation: cycle 3
        shapes:
            # frame 2 is bird_stand, for debugging purposes
            : "bird_stand" (0 0 -3 0) 0 f 0 (0 1)
            : "bird_stand" (0 0 -1 0) 0 f 0 (1 1)
            : "bird_stand" (0 0  0 0) 0 f 0 (2 1)

    "bird_step_down_arrive":
        animation: cycle 3
        shapes:
            # frame 2 is bird_stand, for debugging purposes
            : "bird_stand" (-3 0  3 0) 0 f 0 (0 1)
            : "bird_stand" (-1 0  1 0) 0 f 0 (1 1)
            : "bird_stand" ( 0 0  0 0) 0 f 0 (2 1)

    "_bird_step_rot_up_arrive":
        animation: cycle 2
        shapes:
            # Basically just a version of "bird_stand" where:
            # - The legs move forward a bit on frame 1
            # - The head is slightly adjusted back

            : "bird_legs_stand" (0 0 0 0) 0 f 0 (0 1)
            : "bird_legs_stand" (2 0 0 0) 0 f 0 (1 1)

            : "bird_head" (-2 -1 6  3)  0 f

    "bird_step_rot_up_arrive":
        animation: cycle 4
        shapes:
            # frame 2 is equivalent to bird_stand, for debugging purposes
            # frame 3 is equivalent to bird_step's frame 1, for debugging purposes
            : "_bird_step_rot_up_arrive" (-4 -3 2 3) 11 f 0 (0 1)
            : "_bird_step_rot_up_arrive" (-4 -3 2 3) 11 f 1 (1 1)
            : "bird_stand" ( 0  0 0 0)  0 f 0 (2 1)
            : "bird_step" eval((3 2 0 -1) * -3 + (0 1 3 1) * 2) 10 f 1 (3 1)

    "bird_step_rot_down_arrive":
        animation: cycle 4
        shapes:
            # frame 2 is equivalent to bird_stand, for debugging purposes
            # frame 3 is equivalent to bird_step's frame 1, for debugging purposes
            : "bird_stand" eval((0 -1 -3 -1) + (-1 0 2 0))  1 f 0 (0 1)
            : "bird_stand" eval((0 -1 -3 -1) + ( 0 0 3 0))  1 f 0 (1 1)
            : "bird_stand" (0  0  0  0)  0 f 0 (2 1)
            : "bird_step"  (0 -1 -3 -1)  2 f 1 (3 1)

    "bird_crawl":
        shapes:
            : "bird_head" ( 0 0 0  0)  0 f


collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

verts:
    "0": "map_vert0_bg"
edges:
    "0": "map_edge0_bg"
faces:
    "0": "map_face0_bg"

colors:

    :   0   0   0
    :   0   0 127
    :   0 127   0
    :   0 127 127
    : 127   0   0
    : 127   0 127
    : 127 127   0
    : 127 127 127

    :  60  60  60
    :  60  60 255
    :  60 255  60
    :  60 255 255
    : animate:
        : (255  60  60) 30
        : (255 120  60) 30
    : 255  60 255
    : 255 255  60
    : 255 255 255

    :   0   0   0
    :   0   0  60
    :   0  60   0
    :   0  60  60
    :  60   0   0
    :  60   0  60
    :  60  60   0
    :  60  60  60

    255: 30 50 80

shapes:

    ##########
    # ROLLER #
    ##########

    "_roller_body_hollow_third":

        prismels:

            #   +
            #   |
            #  / \
            # |   |
            # +---+-
            # |   | \
            # |   |  -+
            # |   | / |
            # +---+-   \
            #     |     |
            #      \   -+
            #       | / |
            #   0   +-  |
            #         \ |
            #          -+

            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1
            : "tri" (-1 0 1 1)  0 f eval: 1 + 1

            : "tri" ( 0 0 1 0)  1 f eval: 1 + 1
            : "sq"  ( 1 0 0 0)  1 f eval: 1 + 8 + 1
            : "tri" ( 1 0 0 0) 11 f eval: 1 + 1

    "_roller_body_third":
        shapes:
            : "_roller_body_hollow_third" (0 0 0 0) 0 f
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 3
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 3

    "_roller_body":
        shapes:
            : "_roller_body_third" (0 0 0 0)  0 f
            : "_roller_body_third" (0 0 0 0)  4 f
            : "_roller_body_third" (0 0 0 0)  8 f

    "_roller_body_hollow":
        shapes:
            : "_roller_body_hollow_third" (0 0 0 0)  0 f
            : "_roller_body_hollow_third" (0 0 0 0)  4 f
            : "_roller_body_hollow_third" (0 0 0 0)  8 f

    "roller_body":
        shapes:
            : "_roller_body" (1 1 1 0) 0 f

    "roller_body_hollow":
        shapes:
            : "_roller_body_hollow" (1 1 1 0) 0 f

    "roller_foot":
        prismels:
            : "sq" (0 0 0 0)  0 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  3 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  6 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  9 f eval: 1 + 8 + 3

    "roller":
        shapes:
            : "roller_body" (0 0 0 0) 0 f
            : "roller_foot" (0 0 0 0) 0 f

    "roller_grab":
        shapes:
            : "roller_body" (0 0 0  0) 0 f
            : "roller_body_hollow" (3 2 0 -1) 2 f
            : "roller_foot" (0 0 0  0) 0 f


    ################
    # DEATH ROLLER #
    ################

    "death_roller": map ("l.red") ("roller")
    "death_roller_grab": map ("l.red") ("roller_grab")


    ##############
    # BIG ROLLER #
    ##############

    "big_roller": map ("double") ("roller")
    "big_roller_grab": map ("double") ("roller_grab")


    ############
    # ROLLER 2 #
    ############

    "roller2":
        shapes:
            : "roller_body" (0 0 0  0) 0 f
            : "roller_body_hollow" (3 2 0 -1) 2 f
            : "roller_foot" (0 0 0  0) 0 f

    "roller2_flipped":
        shapes:
            : "roller_body" (0 0 0  0) 0 f
            : "roller_body_hollow" (0 0 0  0) 2 f
            : "roller_foot" (0 0 0  0) 0 f


    ############
    # ROLLER 3 #
    ############

    "roller3":
        shapes:
            : "roller_body" (0 0 0 0) 0 f
            : "roller_body_hollow" (3 2 0 -1) 2 f
            : "roller_body_hollow" (3 2 0 -1) 0 f
            : "roller_foot" (0 0 0 0) 0 f


    ################
    # WATER ROLLER #
    ################

    "water_roller_foot":
        animation: cycle 8
        shapes:
            : "roller_foot" (0 0 0 0) 0 f
            : "water_edge" (0 0 0 0) 0 f

    "water_roller_body":
        animation: cycle 8
        shapes:
            : "water_face" (0 0 0 0) 0 f

    "water_roller":
        animation: cycle 8
        shapes:
            : "water_roller_body" (0 0 0 0) 0 f
            : "water_roller_foot" (0 0 0 0) 0 f

    "water_roller_grab":
        animation: cycle 8
        shapes:
            : "water_roller_body" (0 0 0  0) 0 f
            : "water_roller_body" (3 2 0 -1) 2 f
            : "water_roller_foot" (0 0 0  0) 0 f


palmappers:

    "player_cpu":
          :

         # This palmapper is used to mark cpu players, so you can tell
         # yourself apart from them.
         #
         # NOTE: we don't change blacks, whites, or reds (because the demo
         # map's palettes have a pulsating animated red for use with player's
         # eye)

         1:
         2:  4
         3:  6
         4:  3
         5:
         6:  2
         7:
         8:

         9:
        10: 12
        11: 14
        12: 11
        13:
        14: 10
        15:
        16:

    "cycle0":

    "cycle1":
          :

         1:  2
         2:  3
         3:  4
         4:  5
         5:  6
         6:  7
         7:  8
         8:  9

         9: 10
        10: 11
        11: 12
        12: 13
        13: 14
        14: 15
        15: 16
        16:  1

    "cycle2": map ("cycle1") ("cycle1")

    "blk":
        :
        1,  8: eval: 1 + 0
        10, 8: eval: 1 + 8 + 0
    "blu":
        :
        1,  8: eval: 1 + 1
        10, 8: eval: 1 + 8 + 1
    "grn":
        :
        1,  8: eval: 1 + 2
        10, 8: eval: 1 + 8 + 2
    "cya":
        :
        1,  8: eval: 1 + 3
        10, 8: eval: 1 + 8 + 3
    "red":
        :
        1,  8: eval: 1 + 4
        10, 8: eval: 1 + 8 + 4
    "prp":
        :
        1,  8: eval: 1 + 5
        10, 8: eval: 1 + 8 + 5
    "ylw":
        :
        1,  8: eval: 1 + 6
        10, 8: eval: 1 + 8 + 6
    "wht":
        :
        1,  8: eval: 1 + 7
        10, 8: eval: 1 + 8 + 7

    "l.blk":
        :
        1,  8: eval: 1 + 8 + 0
        10, 8: eval: 1 + 8 + 7
    "l.blu":
        :
        1,  8: eval: 1 + 8 + 1
        10, 8: eval: 1 + 8 + 7
    "l.grn":
        :
        1,  8: eval: 1 + 8 + 2
        10, 8: eval: 1 + 8 + 7
    "l.cya":
        :
        1,  8: eval: 1 + 8 + 3
        10, 8: eval: 1 + 8 + 7
    "l.red":
        :
        1,  8: eval: 1 + 8 + 4
        10, 8: eval: 1 + 8 + 7
    "l.prp":
        :
        1,  8: eval: 1 + 8 + 5
        10, 8: eval: 1 + 8 + 7
    "l.ylw":
        :
        1,  8: eval: 1 + 8 + 6
        10, 8: eval: 1 + 8 + 7
    "l.wht":
        :
        1,  8: eval: 1 + 8 + 7
        10, 8: eval: 1 + 8 + 7

@beat: 250

@def bass_a: @triangle: 1000 400  9000 addinc1(1)
@def bass_b: @triangle: 2000 400 11000
@def bass_c: @triangle: 1000 1200  9000
@def bass:
    : bass_a,, bass_b,, bass_c
@def bass_e:
    @triangle: 500 2200  9000
    : + 500 @triangle: 1000 2200  9000  limit(-1000)

@def tenor_a:
    @square: 5000 40  1  6000  volinc(-5) freq2inc(10)
    @square: 3000 20  1  6000  offset(10) volinc(-5) freq2inc(10)
@def tenor_b: @square: 500  15 1  6000  volinc(-5)
@def tenor_c: @square: 500  12 1  6000  volinc(-5)
@def tenor_d: @square: 500   9 1  6000  volinc(-5)
@def tenor:
    : tenor_a, tenor_b, tenor_c,, tenor_d

@def zoop:
    @square: 2000 40 20  6000  volinc(-5) freq2inc(10)
    @square: 1000 20 10  6000  volinc(-5) freq2inc(50)
    @triangle: 1000 2200  9000  limit(-1000)

@def measure: ,, ,, ,,

@def song:
    @loop 4:
        bass measure
        tenor measure
        zoop measure
        bass_e

@print: "Primary song is in variable \"song\""
@beat: 250

# I'm gonna call this a "jazz scale" for now...
# ...until we can fix it

@def a0: @square: 500  29 1  6000  volinc(-5)
@def b0: @square: 500  28 1  6000  volinc(-5)
@def c0: @square: 500  27 1  6000  volinc(-5)
@def d0: @square: 500  26 1  6000  volinc(-5)
@def e0: @square: 500  25 1  6000  volinc(-5)
@def f0: @square: 500  24 1  6000  volinc(-5)
@def g0: @square: 500  23 1  6000  volinc(-5)

@def a1: @square: 500  22 1  6000  volinc(-5)
@def b1: @square: 500  21 1  6000  volinc(-5)
@def c1: @square: 500  20 1  6000  volinc(-5)
@def d1: @square: 500  19 1  6000  volinc(-5)
@def e1: @square: 500  18 1  6000  volinc(-5)
@def f1: @square: 500  17 1  6000  volinc(-5)
@def g1: @square: 500  16 1  6000  volinc(-5)

@def a2: @square: 500  15 1  6000  volinc(-5)
@def b2: @square: 500  14 1  6000  volinc(-5)
@def c2: @square: 500  13 1  6000  volinc(-5)
@def d2: @square: 500  12 1  6000  volinc(-5)
@def e2: @square: 500  11 1  6000  volinc(-5)
@def f2: @square: 500  10 1  6000  volinc(-5)
@def g2: @square: 500   9 1  6000  volinc(-5)

@def a3: @square: 500   8 1  6000  volinc(-5)
@def b3: @square: 500   7 1  6000  volinc(-5)
@def c3: @square: 500   6 1  6000  volinc(-5)
@def d3: @square: 500   5 1  6000  volinc(-5)
@def e3: @square: 500   4 1  6000  volinc(-5)
@def f3: @square: 500   3 1  6000  volinc(-5)
@def g3: @square: 500   2 1  6000  volinc(-5)

@def drum1: @noise:  500 10000 volinc(-10) limit(5000) step(1)
@def drum2: @noise:  500 10000 volinc(-10) limit(5000) step(2)
@def drum3: @noise:  500 10000 volinc(-10) limit(5000) step(3)
@def cymb1: @noise: 1500 10000 volinc(-10) limit(1000)
@def drums1:
    drum1,, drum2,, drum3,,
    drum1,, drum2,, drum3,,
    cymb1,,      ,, drum1,,
    cymb1,, cymb1,, drum2,,
@def drums2:
    drum1,, drum2,, drum3,,
    cymb1,,      ,,      ,,
    drum1,,      ,,      ,,
    cymb1,,      ,, drum1,,

@def bass1: @triangle:  500  500 10000 limit(1000)
@def bass2: @triangle:  500 1000  9000 limit(0)
@def bass3: @triangle:  500  750  9000 addinc1(1)
@def bass4: @triangle: 7500 1000 15000 addinc1(-1)
@def bass:
    bass1 ,, ,, ,,
    bass2 ,, ,, ,,
    bass1 ,, ,, ,,
    bass3 ,, ,, ,,

    bass1 ,, ,, ,,
    bass2 ,, ,, ,,
    bass1 ,, ,, ,,
    bass4 ,, ,, ,,


@def verse: @loop 4: @loop 4: ,, ,, ,,


@def v1a: a0
@def v1b: a1
@def v1c: d1
@def v1d: e1
@def v1e: a2
@def melody1:
    v1e,,    ,, v1e,,
       ,,    ,, v1e,,
    v1b,, v1c,, v1d,,
    v1e,,    ,, v1e,,

       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,

    v1e,,    ,, v1e,,
       ,,    ,, v1e,,
    v1b,, v1c,, v1d,,
    v1a,,    ,, v1a,,

       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,

@def v2a: a2
@def v2b: b2
@def v2c: c2
@def v2d: e2
@def v2e: f2
@def v2f: g2
@def v2g: a3
@def melody2:
    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,, v2d,, v2c,,
    v2c,, v2d,, v2e,,

    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,,    ,, v2e,,
    v2d,, v2e,, v2f,,

    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,, v2d,, v2c,,
    v2c,, v2d,, v2e,,

    v2f,, v2d,, v2c,,
    v2b,, v2a,, v2a,,
       ,,    ,,    ,,
       ,,    ,,    ,,


@def intro:
    drums1
    drums1

    (bass)
    drums1
    drums1

@def verse1:
    : @loop 4: drums1
    : @loop 2: bass
    melody1

@def verse2:
    : @loop 4: drums2
    melody2

@def verse3:
    : @loop 4: drums1
    : @loop 2: bass

    # maybe the melodies harmonize?..
    (melody1) melody2


@def song:
    intro
    @loop 2: verse1
    @loop 2: verse2
    @loop 2: verse3

@print: "Primary song is in variable \"song\""
@beat: 250

# I'm gonna call this a "jazz scale" for now...
# ...until we can fix it

@def a0: @square: 500  29 1  6000  volinc(-5)
@def b0: @square: 500  28 1  6000  volinc(-5)
@def c0: @square: 500  27 1  6000  volinc(-5)
@def d0: @square: 500  26 1  6000  volinc(-5)
@def e0: @square: 500  25 1  6000  volinc(-5)
@def f0: @square: 500  24 1  6000  volinc(-5)
@def g0: @square: 500  23 1  6000  volinc(-5)

@def a1: @square: 500  22 1  6000  volinc(-5)
@def b1: @square: 500  21 1  6000  volinc(-5)
@def c1: @square: 500  20 1  6000  volinc(-5)
@def d1: @square: 500  19 1  6000  volinc(-5)
@def e1: @square: 500  18 1  6000  volinc(-5)
@def f1: @square: 500  17 1  6000  volinc(-5)
@def g1: @square: 500  16 1  6000  volinc(-5)

@def a2: @square: 500  15 1  6000  volinc(-5)
@def b2: @square: 500  14 1  6000  volinc(-5)
@def c2: @square: 500  13 1  6000  volinc(-5)
@def d2: @square: 500  12 1  6000  volinc(-5)
@def e2: @square: 500  11 1  6000  volinc(-5)
@def f2: @square: 500  10 1  6000  volinc(-5)
@def g2: @square: 500   9 1  6000  volinc(-5)

@def a3: @square: 500   8 1  6000  volinc(-5)
@def b3: @square: 500   7 1  6000  volinc(-5)
@def c3: @square: 500   6 1  6000  volinc(-5)
@def d3: @square: 500   5 1  6000  volinc(-5)
@def e3: @square: 500   4 1  6000  volinc(-5)
@def f3: @square: 500   3 1  6000  volinc(-5)
@def g3: @square: 500   2 1  6000  volinc(-5)

@def drum1: @noise:  500 10000 volinc(-10) limit(5000) step(1) wacky(y)
@def drum2: @noise:  500 10000 volinc(-10) limit(5000) step(2) wacky(y)
@def drum3: @noise:  500 10000 volinc(-10) limit(5000) step(3) wacky(y)
@def cymb1: @noise: 1500 10000 volinc(-10) limit(1000) wacky(y)
@def drums1:
    drum1,, drum2,, drum3,,
    drum1,, drum2,, drum3,,
    cymb1,,      ,, drum1,,
    cymb1,, cymb1,, drum2,,
@def drums2:
    drum1,, drum2,, drum3,,
    cymb1,,      ,,      ,,
    drum1,,      ,,      ,,
    cymb1,,      ,, drum1,,

@def bass1: @triangle:  500  500 10000 limit(1000) wacky(y)
@def bass2: @triangle:  500 1000  9000 limit(0) wacky(y)
@def bass3: @triangle:  500  750  9000 addinc1(1) wacky(y)
@def bass4: @triangle: 7500 1000 15000 addinc1(-1) wacky(y)
@def bass:
    bass1 ,, ,, ,,
    bass2 ,, ,, ,,
    bass1 ,, ,, ,,
    bass3 ,, ,, ,,

    bass1 ,, ,, ,,
    bass2 ,, ,, ,,
    bass1 ,, ,, ,,
    bass4 ,, ,, ,,


@def verse: @loop 4: @loop 4: ,, ,, ,,


@def v1a: a0
@def v1b: a1
@def v1c: d1
@def v1d: e1
@def v1e: a2
@def melody1:
    v1e,,    ,, v1e,,
       ,,    ,, v1e,,
    v1b,, v1c,, v1d,,
    v1e,,    ,, v1e,,

       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,

    v1e,,    ,, v1e,,
       ,,    ,, v1e,,
    v1b,, v1c,, v1d,,
    v1a,,    ,, v1a,,

       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,
       ,,    ,,    ,,

@def v2a: a2
@def v2b: b2
@def v2c: c2
@def v2d: e2
@def v2e: f2
@def v2f: g2
@def v2g: a3
@def melody2:
    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,, v2d,, v2c,,
    v2c,, v2d,, v2e,,

    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,,    ,, v2e,,
    v2d,, v2e,, v2f,,

    v2g,, v2f,, v2e,,
    v2f,, v2e,, v2d,,
    v2e,, v2d,, v2c,,
    v2c,, v2d,, v2e,,

    v2f,, v2d,, v2c,,
    v2b,, v2a,, v2a,,
       ,,    ,,    ,,
       ,,    ,,    ,,


@def intro:
    drums1
    drums1

    (bass)
    drums1
    drums1

@def verse1:
    : @loop 4: drums1
    : @loop 2: bass
    melody1

@def verse2:
    : @loop 4: drums2
    melody2

@def verse3:
    : @loop 4: drums1
    : @loop 2: bass

    # maybe the melodies harmonize?..
    (melody1) melody2


@def song:
    intro
    @loop 2: verse1
    @loop 2: verse2
    @loop 2: verse3

@print: "Primary song is in variable \"song\""
@beat: 250

@def a0: @square: 500  29 1  6000  volinc(-5)
@def b0: @square: 500  28 1  6000  volinc(-5)
@def c0: @square: 500  27 1  6000  volinc(-5)
@def d0: @square: 500  26 1  6000  volinc(-5)
@def e0: @square: 500  25 1  6000  volinc(-5)
@def f0: @square: 500  24 1  6000  volinc(-5)
@def g0: @square: 500  23 1  6000  volinc(-5)

@def a1: @square: 500  22 1  6000  volinc(-5)
@def b1: @square: 500  21 1  6000  volinc(-5)
@def c1: @square: 500  20 1  6000  volinc(-5)
@def d1: @square: 500  19 1  6000  volinc(-5)
@def e1: @square: 500  18 1  6000  volinc(-5)
@def f1: @square: 500  17 1  6000  volinc(-5)
@def g1: @square: 500  16 1  6000  volinc(-5)

@def a2: @square: 500  15 1  6000  volinc(-5)
@def b2: @square: 500  14 1  6000  volinc(-5)
@def c2: @square: 500  13 1  6000  volinc(-5)
@def d2: @square: 500  12 1  6000  volinc(-5)
@def e2: @square: 500  11 1  6000  volinc(-5)
@def f2: @square: 500  10 1  6000  volinc(-5)
@def g2: @square: 500   9 1  6000  volinc(-5)

@def scale0: a0, b0, c0, d0, e0, f0, g0,
@def scale1: a1, b1, c1, d1, e1, f1, g1,
@def scale2: a2, b2, c2, d2, e2, f2, g2,

@def scale01: (scale0) scale1
@def scale02: (scale0) scale2
@def scale12: (scale1) scale2
@def scale012: (scale0) (scale1) scale2

@def do(c1) @def re(d1) @def mi(e1) @def fa(f1)
@def so(g1) @def la(a2) @def ti(b2) @def doo(c2)
@def doremi: do,, re,, mi,, fa,, so,, la,, ti,, doo, doo, doo, doo,

@def scales:
    # glorious music!
    scale1 scale02 scale1 scale0 scale12 scale01 scale2 scale012
    a0, a0, a0, a1, a1, a1, a2, a2, a2,
    ,, ,,
    f0 f1 f2,,
    d0 d1 d2,, d0 d1 d2,, d0 d1 d2,,

@print: "Track 1 is in variable \"scales\""
@print: "Track 2 is in variable \"doremi\""

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas2.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [s^1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] [g]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .  %+ - .   +   .   .   .   .   .   .   .   .   .  [x|1 x|1]
    ;;                                                             %\*/                                           [x|1 x|1]
    ;;   .   .   .   .   .   + - + - +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \   \
    ;; .   .   .   .   .   .   .   + - +   ?   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .       [t^3|1]
    ;;                                                                             S
    ;;   .   .   .   .   .   .   .   +   .   +   ?   .   +   .   +   .   + - +   .   +   .   .   .   .   .   .              [e^2|1]
    ;;                                                                  /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   .   .   .   +   +   .   .   .   .   .   .                  [t^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   ?   .  (?)  .   .   .   .   +   .   +   .   .   .   .   .                     [e^1|1]    [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   ?   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .                [t^1|1]
    ;;
    ;; .   .   .   .   + - ?   .   ?   .   ?   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .  [t|1] [t|1] [e|1]
    ;;                                                   %/*\                                                      [x|1 x|1]
    ;;   .   .   .   .   .   .   .   +   .   +   .   .  %+ - .   +   .   .   +   .   +   .   .   .   .   .   .     [x|1 x|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .  %+ - + - +   .   .   .   .  %+ - + - + - + - + - +   .   .   .   .   .  [x|1 x|1 x|1 x|1 x|1]  [x|1 x|1 x|1 x|1]
    ;;                                     %\* * * *\                %/* * * */                             [x|1 x|1 x|1 x|1 x|1 x|1]  [x|1 x|1 x|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   + - + - +   +  %+ - +   + - + - +   .   .   .   .   .   .   .   .   [0|1 x|1 x|1]
    ;;                                                       %\*/                                                [0|1 x|1 x|1]
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .  %+   +   .   +   .   .   .   .   .   .   .   .   . [0|1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas3.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [s^4 s^5]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [g^2]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [s^3 s^1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s^1 s]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;
    ;; .   +   +   .
    ;;
    ;;   +  (.)  +
    ;;
    ;; .   +   +   .
    ;;
    ;;   .   .   .
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .  %+ - + - + - + - + - +   .   +   .   .   .   .   .   .          [0|1 x|1 x|1 x|1 0|1]
    ;;                                                   %\*/*\*/                                                   [0|1 x|1 x|1 S|1 x|1 x|1 0|1]
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .  %+ - +   .   +   .   .   .   .   .   .   .   .   .   .            [0|1 0|1 0|1]
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   .   .  (?)  .   .   .   .   +   .   +   .   .   .   .   .        [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +  %+   .   .   .   .   .   .   .   .   .   .                        [0|1]
    ;;                                                             %/*\                                                           [x|1 x|1 0|1]
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +  %+ - +  %+ - +   +   .   .   .   .   .   .   .   .   .   [0|1 0|1 0|1]  [x|1 x|1 0|1]
    ;;                                                     %\*/                                                    [x|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .   .   .         [x|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                         * * *           *             */*\*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                         *
    ;; .   .   .   .   .   .   .   .   .   .  %+ - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [111]
    ;;                                       %/* * *\                                          * *                 [11111]
    ;;   .   .   .   .   .   .   .   .   .  %+ - + - +   .   .   .   .   .   .   .   .   .   .   +   .   .   .     [11111]
    ;;                                               %\                                                * *             [1]
    ;; .   .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .   .   .   .   .       [1]
    ;;                                                                                                   *
    ;;   .   .   .   .   +   .   .   .   .   .   .   .%- + - + - + - +   .   .   .   .   .   .   .   +   .   .     [11111111]
    ;;                  /                                            %\                                  * * *              [1]
    ;; .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .              [1]
    ;;                  \                                              %\                                *                      [1]
    ;;   .   .   .   .  (+)- +   ?   + - +   ?   .   .   .   .   .   .  %+ - + - +   .   .   ?   .   .   +   .         [_] [_]    [11111]  [O]
    ;;                        \           \
    ;; .   .   ?   .   .   ?   + - + - +   +   .   ?   .   .   ?   .   .  %+   .   .   +   .   .   ?   .   .   . [_] [_]     [_] [_]    [1]  [O]
    ;;                                  \ /                              %/                                                             [1]
    ;;   .   .   .   ?   .   .   ?   .   +   ?   .   .   ?   .   .   ?  %+   .   .   .   .   .   .   .   .   +     [_] [_] [_] [_] [_]  [1]
    ;;                                    \
    ;; .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   +   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [O]
    ;;                                          \     /     \                                  *       *
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   .   .   .   .   .     [_] [_] [_] [_] [_] [_]
    ;;                                                            \                            *
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                 S              /           /
    ;;   .   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   ?   .     [_] [_] [_] [_] [_] [_] [_] [i]
    ;;                                          /                 \                                      *
    ;; .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   + [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                          \                                                        *      \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   + [_] [_] [_] [_] [_] [_] [o]
    ;;                                                \                                                         /
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   + [_] [_] [_] [_] [_] [_] [o] [_]
    ;;                                                /
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [O]
    ;;                                                            \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [O] [_]
    ;;                                                                  \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [O] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

parts:
    "_": empty
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   + - +   .   .   .  (+)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                      /     \             / \
    ;; .   .   .   .   .   +   .   +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .  [O]
    ;;                      \     /
    ;;   .   .   .   .   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   ?   .   .   .   .    [O]
    ;;                      /           /     \     /     \     /     \     /     \     /     \
    ;; .   .   .   .   + - +   .   .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   ?   .   .   .  [O]
    ;;                /                 \                                   \     /     \     /     \
    ;;   .   .   + - +   .   + - +   .   +   +   .   + - +   .   + - +   .   + - +   .   +   .   +   + - +   .   .
    ;;          /     \     /     \     /     \     /     \     /                 \                 /     \
    ;; .   .   +   .   +   +   .   + - +   .   + - +   .   + - +   .   .   .   .   +   .   .   .   +   .   +   .   .
    ;;          \     /     \           \           \     /                                         \     /
    ;;   .   .   +   +   .   +   + - +   + - +   .   + - +   .   .   .   .   .   .   .   + - +   .   + - +   .   .
    ;;          /     \     /   /     \             /        S                          /     \
    ;; .   + - +   .   +   +   +   .   + - +   .   +   .   + - +   .   .   .   .   + - +   .   + - +   .   .   .   .
    ;;      \   \     /     \   \           \       \     /     \                 /     \     /     \
    ;;   .   +   +   +   .   +   +   .   .   +   .   +   +   ?   +   .   .   .   +   .   + - +   ?   + - +   .   .    [O][O]
    ;;      /   /     \         /           /       /     \     /                 \     /     \     /     \
    ;; .   + - +   .   + - +   +   .   + - +   + - +   .   + - +   .   .   .   .   + - +   ?   + - +   .   +   .   .  [O]
    ;;          \           \   \     /       /     \                             /     \     /     \     /
    ;;   .   .   +   .   .   +   + - +   + - +   ?   +   .   .   + - +   .   + - +   ?   + - +   .   .   +   .   .    [O][O]
    ;;          /           /           /     \     /           /     \     /     \     /     \           \
    ;; .   .   +   .   +   +   .   + - +   ?   + - +   .   + - +   +   + - +   ?   + - +   .   .   .   .   +   .   .  [O][O]
    ;;          \  D  /     \     /     \     /           /       /*\       \     /     \               \
    ;;   .   .   + - +   .   + - +   ?   + - +   .   + - +   .   +   +   .   + - +   .   .   .   .   +   +   .   .    [O]
    ;;                      /     \     /           /     \     /* * *\     /     \               \
    ;; .   .   .   .   .   +   ?   + - +   .   + - +   .   +   +   .   +   +   .   + - +   .   +   +   .   .   .   .  [O]
    ;;                      \     /           /     \     /   /* * * * *\   \     /     \   \
    ;;   .   .   .   .   .   + - +   .   + - +   .   + - +   + - + - + - +   + - +   .   +   +   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                                          \     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;     .       .       .       .       .       .       +       .       .       .       .       .       .
    ;;
    ;;                                                   + - +
    ;;                                                  /* * *\
    ;; .       .       .       .       .       + - +   + - + - +       .       .       .       .       .       .
    ;;                                          \*/   /
    ;;                                           +   +           .
    ;;                                              /
    ;;     .       .       .       + - +   + - + - +       .       .       .       .       .       .       .
    ;;                                      \* * */
    ;;                                       + - +               + - +
    ;;                                                          /     \
    ;; .       .       .       .       .       .       .       +       +       .       .       .       .       .
    ;;                                                                /
    ;;                                       + - +                   +
    ;;                                      /* * *\                 /
    ;;     .       .       .       .       + - + - +       .       +       +   .   +       .       .       .
    ;;                                                                      \       \
    ;;                                                                       + - +   +
    ;;                                                                        \* *\
    ;; .       .       .       .       .       +       +       .       .       + - + - +       .       .       .
    ;;                                          \     /*\                               \
    ;;                                          (+)- +   +                       + - +   +
    ;;                                            \*/* * *\                       \* *\   \
    ;;     .       .       .       +       .       + - + - +       .       .       + - +   +       .       .
    ;;                            /
    ;;                   +       +
    ;;                    \  D  /
    ;; .       .       .   + - +       .       .       +       +       .       .       .       .       .       .
    ;;                                                /       /*\
    ;;                                               +       + - +
    ;;                                              /             \
    ;;     .       .       .       .       .       +       +       +       .       .       .       .       .
    ;;                                              \       \     /
    ;;                                               +       + - +
    ;;                                                \
    ;; .       .       .       .       .       .       + - + - +       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;

collmap:
    ;;
    ;;     .       .       .       .       .       .       +       .       .       .       .       .       .
    ;;
    ;;                                                   + - +
    ;;                                                  /* * *\
    ;; .       .       .       .       .       + - +   + - + - +       .       .       .       .       .       .
    ;;                                 *        \*/   /
    ;;                                 -         +   +           .
    ;;                               *\*/*          /
    ;;     .       .       .       + - +   + - + - +       .       .       .       .       .       .       .
    ;;                                      \* * */
    ;;                                       + - +               + - +
    ;;                                        \*/               /     \
    ;; .       .       .       .       .       +       .       +       +       .       .       .       .       .
    ;;                                        /*\                     /
    ;;                                       + - +                   +
    ;;                                      /* * *\                 /
    ;;     .       .       .       .       + - + - +       .       +       +   + - +       .       .       .
    ;;                                                                      \       \
    ;;                                                                       + - +   +
    ;;                                                                        \* *\
    ;; .       .       .       .       .       +       +       .       .       + - + - +       .       .       .
    ;;                                          \     /*\                               \
    ;;                                          (+)- +   +                       + - +   +
    ;;                                            \*/* * *\                       \* *\   \
    ;;     .       .       .       .       .       + - + - +       .       .       + - +   +       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       +       +       .       .       .       .       .       .
    ;;                                                /       /*\
    ;;                                               +       + - +
    ;;                                              /             \
    ;;     .       .       .       .       .       +       +       +       .       .       .       .       .
    ;;                                              \       \     /
    ;;                                               +       + - +
    ;;                                                \
    ;; .       .       .       .       .       .       + - + - +       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
collmap:
    ;;
    ;; .   + - +   .
    ;;    /* * *\
    ;;   +  (.)  +
    ;;    \* * */
    ;; .   + - +   .
    ;;
    ;;   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?  (.)  .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [o] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [o] [_] [_] [o] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [o] [_] [o] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [o] [_] [o] [_] [o] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [o] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [o]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;                                                    /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   ?   +   .   .   .   .   .   .   .   .   .   .   .  [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .  [c][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .  (?)  .   +   .   +   +   .   ?   .   ?   .   .   .    [D][c][]
    ;;                                              /                 \     /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   +   .   +   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   +   +   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                  /     \
    ;; .   .   .   .   .   .   .   .   +   ?   +   .   .   .   .   .   +   .   ?   ?   +   .   .   .   .   .   .  [c] [][c]
    ;;                                                                /               /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   +   .   .   .   .   .   .      [c]
    ;;                                                                              /
    ;; .   .   .   .   .   .   .   +   .   ?   .   +   .   .   .   .   + - +   ?   +   .   .   .   .   .   .   .  [][c]
    ;;                            /                 \
    ;;   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   + - +   .   + - +   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .  [C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   + - +   .   .
    ;;                                                                       * *\                 /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - + - + - +   .   + - +
    ;;                                                                    \* * */
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   +   +   .   .   .   .   .   .   .   .
    ;;                                                                      \
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   +   +   .   .   + - + - + - + - .   .   .   .   .
    ;;                                                    \     /              * * * * * *\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   + - +   .   .   .   . - + - + - +   .   .   .   .   .
    ;;                                                                                 * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   + - +   + - +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                                                            /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                      /*                                  /
    ;; .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .
    ;;                                      \*/*                              /         \  * * *
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .
    ;;                                                                      /           /     \*
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   + - +   .   .   .
    ;;                                                                                        / \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "D": recording "data/maps/demo/recs/coin_crouch.fus"
    "D": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 *
    ;;   .   .   .   . - + - +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 */     \         /*    \         /*\*  \
    ;; .   .   .   .   ?   ?   +   .   +   +   +   .   +   ?   +   .   .   .   .   .   .   .   .   .   .   .   .  [D][C]  [C]
    ;;                 *\               \*   */               /        *
    ;;   .   .   .   .   +   .   .   .   +   +   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                    \
    ;; .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                          /*\*/*\            */*\
    ;; .   .   .   .   .   .   .   .   .   .   +   . - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                          \    */            * */
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 *                   S
    ;;   .   .   .   . -(+)- +   .   .   + - +   .   .   + - +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                 */     \         /     \               \        *
    ;; .   .   .   .   +   .   +   .   +   .   +   .   + - ?   +   .   .   .   .   .   .   .   .   .   .   .   .    [C]
    ;;                  \     /         \     /         \  *\ /
    ;;   .   .   .   .   + - +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   +   .       .   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                          /*    \             / \        * * *
    ;; .   .   .   .   .   .   +   ?   +   .   + - +   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .     [C]
    ;;                          \*/* */*\       \*    /
    ;;   .   .   .   .   +   .   + - + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                   *
    ;; .   .   +   + - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;           * * *
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D s^1 s^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [s^1 s^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s s^4]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   + - + - +   + - +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                        \       \   \       \
    ;; .   .   .   .   .   .   +   .   + - + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                          \       \       \   \
    ;;   .   .   .   .   .   .   +   .   + - + - +   + - + - +   .   +   +   +   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap: "(+)"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                     S
    ;;   .   .   .   .  (+)- +   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /     \                         /   /
    ;; .   .   .   .   +   .   +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  \     /                         \ /
    ;;   .   .   .   .   + - +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "c": recording "data/maps/demo/recs/coin.fus"

collmap:
    ;;                                         +
    ;;
    ;;                                       ?   .                                                    [c]
    ;;
    ;;                                     ?   +                                   +                 [c]
    ;;                 * */                * * *                                    \
    ;;                   +       .   .   ?   +   +   .   .   .   .   +   +   +   .   +       .      [c]
    ;;                 * *\        *     * */                             \*        /*\
    ;;                     .   .   +   + - +                               +   .   +   +       + - +
    ;;                                /                                       /*    \* *\       \* *
    ;;                   .           +                                   +           +   +       +
    ;;                               *\              S                  /*    \*    /* */       / \*
    ;;                 .               + - +   + - + - +               +       .   +   +       +
    ;;                                   */   /* * * *                  \* *\     /* */       /* *
    ;;               .                       +               +           +       + - +       +
    ;;               *\                     /    *   *   * * *             * *    \* *        \* * *
    ;;               - + -         + - + - +               + - +   +   .   + -     +   .       +
    ;;               */*\*           * * * * *           */* *  \*           *                /*\* *
    ;;                               + - + - +           +       +                           +   .
    ;;                             */         \*         *\     /                             \* *\
    ;;                             +   ?   ?   +   .   .   +                                   +        [c]  [c]
    ;;                           */           /*                                                \*
    ;;                           +   ?   ?   +                                       .   .   .   +     [c]  [c]
    ;;                                                                            \*            /*\
    ;;                         .           .                                       +           +
    ;;                                                                            /*            \*
    ;;               + - +   .          (+)- +               +           .   . - +               +
    ;;              /* */               /*\* * *        /* */*\          *                        \
    ;;             +   + - +       .   + - +   .   .   .   + - +   .   + - +
    ;;              \* * */
    ;;               + - +
    ;;
    ;;

unit: 3 2 0 -1
spawn: "data/maps/demo/start.fus"
#spawn: "data/maps/demo/pebbles3.fus"
#spawn: "data/maps/demo/jungle.fus"
#spawn: "data/maps/demo/jungle2.fus"
#spawn: "data/maps/demo/big.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

actors:
    : "actor/guide/actor.fus" "player_cpu"

submaps:
    :
        file: "data/maps/demo/start.fus"
        pos: (0 0)
        camera: (5 4)
        mapper: ("quadruple")
        palette: "data/maps/demo/pals/start.fus"
        submaps:
            #:
            #    bg
            #    file: "data/maps/demo/keys_text.fus"
            #    tileset: "data/tileset1_bg.fus"
    :
        file: "data/maps/demo/start2.fus"
        pos: (7 11)
        camera: (5 4)
        mapper: ("quadruple")
        palette: "data/maps/demo/pals/start.fus"
        submaps:
            :
                file: "data/maps/demo/start3.fus"
                pos: (2 15)
                camera: (5 -5)
                mapper: ("triple")
                tileset: "data/maps/demo/tilesets/shiny.fus"
                submaps:
                    :
                        file: "data/maps/demo/start4.fus"
                        pos: (19 6)
                        camera: (5 5)
                        mapper: ("quadruple")
                        tileset: "data/maps/demo/tilesets/shiny.fus"
                    :
                        file: "data/maps/demo/vines.fus"
                        pos: (-4 2)
                        camera: (-5 5)
                        mapper: ("triple")
                        palette: "data/maps/demo/pals/vines.fus"
                        tileset: "data/maps/demo/tilesets/water.fus"
                        submaps:
                            :
                                file: "data/maps/demo/vines2.fus"
                                pos: (-26 -5)
                                camera: (-7 3)
                                mapper: ("quadruple")
                                submaps:
                                    :
                                        file: "data/maps/demo/vines3.fus"
                                        pos: (-21 -6)
                                        camera: (-6 7)
                                        mapper: ("quadruple")
                                        palette: "data/maps/demo/pals/water.fus"
                                    :
                                        file: "data/maps/demo/vines4.fus"
                                        pos: (-40 4)
                                        camera: (0 0)
                                    :
                                        pos: (-40 4)
                                        camera: (-10 -10)
                                        tileset: "data/tileset1.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle.fus"
                                    :
                                        pos: eval: (-40 4) + (-6 -18)
                                        camera: (0 -8)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        #palette: "data/maps/demo/pals/tunnels.fus"
                                        #palette: "data/maps/demo/pals/water.fus"
                                        tileset: "data/tileset1.fus"
                                        #tileset: "data/maps/demo/tilesets/water.fus"
                                        recordings:
                                            : "data/maps/demo/recs/jungle2_roller000.fus"
                                            : "data/maps/demo/recs/jungle2_roller001.fus"
                                            : "data/maps/demo/recs/jungle2_water_roller000.fus"
                                            : "data/maps/demo/recs/jungle2_bird000.fus"
                                            : "data/maps/demo/recs/jungle3_bird000.fus" "player_cpu"
                                            : "data/maps/demo/recs/jungle5_bird000.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle2_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle2.fus"
                                    :
                                        file: "data/maps/demo/jungle3.fus"
                                        pos: eval: (-40 4) + (-6 -18) + (15 -8)
                                        camera: (6 0)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        #palette: "data/maps/demo/pals/tunnels.fus"
                                        #palette: "data/maps/demo/pals/water.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                        #tileset: "data/tileset1.fus"
                                    :
                                        file: "data/maps/demo/jungle4.fus"
                                        pos: eval: (-40 4) + (-6 -18) + (10 -16)
                                        camera: (0 0)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        #palette: "data/maps/demo/pals/tunnels.fus"
                                        #palette: "data/maps/demo/pals/water.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                        #tileset: "data/tileset1.fus"
                                    :
                                        pos: eval: (-40 4) + (-6 -18) + (15 -8) + (24 7)
                                        camera: follow
                                        mapper: ("solid_curvy")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        #palette: "data/maps/demo/pals/tunnels.fus"
                                        #palette: "data/maps/demo/pals/water.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                        #tileset: "data/tileset1.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle5_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle5.fus"
            :
                file: "data/maps/demo/pebbles.fus"
                pos: (15 -2)
                camera: (3 1)
                mapper: ("solid_curvy")
                submaps:
                    :
                        file: "data/maps/demo/pebbles3.fus"
                        pos: (1 -9)
                        camera: (0 -4)
                        mapper: ("triple")
                        recordings:
                            : "data/maps/demo/recs/dodecas_000.fus" "player_cpu"
                            : "data/maps/demo/recs/dodecas_001.fus" "player_cpu"
                            : "data/maps/demo/recs/dodecas_roller_000.fus"
                            : "data/maps/demo/recs/dodecas_roller_001.fus"
                            : "data/maps/demo/recs/dodecas_roller_002.fus"
                        submaps: : mapper(("double")) submaps:
                            :
                                file: "data/maps/demo/dodecas_bg.fus"
                                pos: (-55 -60)
                            :
                                file: "data/maps/demo/dodecas_bg2.fus"
                                pos: (20 -65)
                            :
                                file: "data/maps/demo/dodecas_0_0.fus"
                                pos: (1 -6)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_0_-1.fus"
                                pos: (-27 -15)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_1_0.fus"
                                pos: (0 -28)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_1_-1.fus"
                                pos: (-22 -30)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_2_0.fus"
                                pos: (0 -48)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_2_-1.fus"
                                pos: (-22 -50)
                                camera: (0 -4)
                            :
                                pos: (20 -50)
                                submaps:
                                    :
                                        pos: (0 -28)
                                        camera: (0 0)
                                        recordings:
                                            : "data/maps/demo/recs/big_000.fus"
                                            : "data/maps/demo/recs/big_big_roller000.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/big_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/big.fus"
                                                doors:
                                                    :
                                                        map: "data/maps/trees/worldmap.fus"
                                                        pos: (1 1)
                                                        rot: 0
                                                        turn: n
                                    :
                                        file: "data/maps/demo/fisheye.fus"
                                        pos: (0 0)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye2.fus"
                                        pos: (-12 -16)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye3.fus"
                                        pos: (-32 -26)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye4.fus"
                                        pos: (-48 -28)
                                        camera: (0 0)
                                        doors:
                                            :
                                                anim: "anim/roller.fus"
                                                pos: (-11 -80)
                                                rot: 0
                                                turn: n
            :
                file: "data/maps/demo/pebbles2.fus"
                pos: (22 9)
                camera: (4 0)
                mapper: ("solid_curvy")
                submaps:
                    :
                        file: "data/maps/demo/tunnels.fus"
                        pos: (13 1)
                        #camera: follow
                        camera: (6 -5)
                        mapper: ("triple")
                        palette: "data/maps/demo/pals/tunnels.fus"
                        recordings:
                            : "data/maps/demo/recs/tunnels_000.fus"
                            : "data/maps/demo/recs/tunnels_000b.fus"
                            : "data/maps/demo/recs/tunnels_001.fus"
                            : "data/maps/demo/recs/tunnels_002.fus"
                    :
                        file: "data/maps/demo/tunnels2.fus"
                        pos: eval: (13 1) + (18 8)
                        camera: (0 5)
                        mapper: ("triple")
                        tileset: "data/maps/demo/tilesets/shiny.fus"
                        doors:
                            :
                                #map: "data/maps/wilderness/worldmap.fus"
                                map: "data/maps/water/worldmap.fus"
                                pos: (0 0)
                                rot: 0
                                turn: n


    :
        pos: (40 60)
        camera: (0 0)
        recordings:
            : "data/maps/demo/recs/test_000.fus" "player_cpu"
            : "data/maps/demo/recs/test_001.fus" "player_cpu"
            : "data/maps/demo/recs/test_002.fus" "player_cpu"
            : "data/maps/demo/recs/test_003.fus" "player_cpu"
            : "data/maps/demo/recs/test_roller_000.fus"
            : "data/maps/demo/recs/test_flier_000.fus"
        submaps:
            :
                file: "data/maps/test/map3.fus"
                pos: (0 0)
                camera: (0 4)
                mapper: ("triple")
                doors:
                    :
                        map: "data/maps/test/worldmap.fus"
                        pos: (0 0)
                        rot: 0
                        turn: n
                submaps:
                    :
                        file: "data/maps/test/map2.fus"
                        pos: (1 10)
            :
                file: "data/maps/test/map2x.fus"
                pos: (15 12)
                camera: (1 8)
                mapper: ("double")
                submaps:
                    :
                        file: "data/maps/test/map3x.fus"
                        pos: (1 10)
                        doors:
                            :
                                map: "data/maps/demo/worldmap.fus"
                                anim: "anim/roller.fus"
                                pos: (62 85)
                                rot: 0
                                turn: y
            :
                pos: (-1 -10)
                camera: (4 0)
                mapper: ("triple")
                submaps:
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  0 + (-1 3) *  0
                    :
                        file: "data/maps/test/map1grid.fus"
                        pos: eval: (8 2) *  0 + (-1 3) * -2
                    :
                        file: "data/maps/test/map1x.fus"
                        pos: eval: (8 2) *  0 + (-1 3) * -4
                        camera: (-1 -1)
                        mapper: ("solid_curvy")
                        submaps:
                            :
                                file: "data/maps/test/map1x_exit.fus"
                                pos: (2 -8)
                                camera: (8 0)
                                mapper: ("solid_curvy")
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  1 + (-1 3) *  0
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  1 + (-1 3) * -1

parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye_B.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []  [] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (?)  .   .   .   .   ?   .   ?   .   .   .   .   .     [] []  [F] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []    [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .           [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .             []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .
    ;;                                                                                            /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - + - + - + - +   .   + - +
    ;;                                                                    \     /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .
    ;;                                                                      \          S
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   .   +   .   .   + - + - + - + - .   .   .   .   .
    ;;                                              /     \     /
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   + - +   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                    /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   + - +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                                                            /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                      /
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   +   .   .   + - +   .   .   .   .
    ;;                                                                      /                 \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .
    ;;                                                                   */*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;      + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .
    ;;
    ;;        .   + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .   .   .
    ;;
    ;;      .   .   + - + - .   + - + - +   + - + - + - + - + - + - .   + - + - .   .   .   .   .   .
    ;;                         /         \
    ;;        .   .   + - + - +   .   .   + - +   + - + - + - + - + - + - + - + - .   .   .   .   .
    ;;               /                         \
    ;;      + - .   +   .   .  %+   +   +   +   +   + - + - + - + - + - + - + - .   .   .   .   .   .  [1111]
    ;;             /                           /
    ;;+ - +   + - +   .   .  %+   +   +   +   +   + - + - + - + - + - + - + - .   .   .   .   .   .    [1111]
    ;;     \                                   \
    ;;      + - + - +   .   .  %+   .   .   .   +   + - + - + - + - + - + - .   .   .   .   .   .   .  [1]
    ;;               \                           \
    ;;        + - .   + - +   .   .   .   .  %+   +   .   + - + - + - + - + - .   .   .   .   .   .    [1]
    ;;                     \                       \
    ;;      + - + - + - .   +   .   +   .   + - + - +   .   + - + - + - + - .   .   .   .   .   .   .
    ;;                       \     /
    ;;        + - + - .   .   + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;      + - + - + - .   .   + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .   .   .
    ;;
    ;;        + - + - .   .   + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .
    ;;
    ;;      + - + - + - + - + - .   + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;        + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;  + - + - + - + - + - + - + - + - .   .   + - + - + - .   .   + - .   .   .   .   .   .   .
    ;;                                                                         /
    ;;    + - + - + - + - .   + - + - + - + - + - .   + - + - + - + - + - + - +   .   .   .   .
    ;;                       /                                                   /    %\                     [1]
    ;;  .   + - + - + - .   +   + - + - + - + - + - + - + - + - + - + - + - + - +      %+   .   + - +   .    [1 111]
    ;;                       \                                                        %/ \  S %/     \       [11] [11]
    ;;    + - + - + - + - .   + - + - +   + - + - + - + - + - + - + - + - + - + - .  %+ -(+)- +   .   +     [11111  1]
    ;;                                 \                                                  %\         /      [1     1]
    ;;  .   .   + - + - + - + - + - .   + - + - + - + - + - + - + - + - + - + - .   .      %+ - + - +   .    [11111]
    ;;         /
    ;;    .   .


collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .  (+)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \ /
    ;;   .   .   .   .   +   +   +   +   + - + - +   +   .   +   +   .   +   +   .   +   +   .   .   .   .   .
    ;;                          /           / \
    ;; .   .   .   +   +   + - +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .
    ;;                          \                                     /
    ;;   .   +   +   .   +   +   +   +   +   .   +   +   .   +   + - +   +   +   .   +   .   +   +   +   .   .
    ;;                                                       * */     \     /
    ;; .   +   .   +   +   .   +   +   .   +   +   .   +   + - +   .   + - +   +   .   .   .   +   .   +   .   .
    ;;                                                          \* * */     \*
    ;;   .   +   +   .   +   +   +   +   +   .   +   +   .   .   + - +   .   +   .   +   +   .   +   +   .   .
    ;;                                                          /     \
    ;; .   +   .   +   +   +   .   +   +   .   +   .   +   + - +   .   +   .   +   +   .   +   +   .   + - +   .
    ;;                       * * */                 \           \* * */                               /     \
    ;;   .   +   +   .   +   + - +   .   +   .   +   +   .   +   + - +   .   +   .   +   +   .   +   +   .   + - +
    ;;                            \* * *            /        * */     \                               \* * */     \
    ;; .   +   .   +   +   +   .   +   +   +   +   +   +   + - +   +   + - +   +   +   .   +   +   .   + - +   .   +
    ;;                       * * *                  \* * */     \* * */                                     \* * */
    ;;   .   +   .   .   +   +   +   +   +   .   +   + - +   +   + - +   +   +   .   +   +   .   .   +   .   + - +
    ;;                                           * */     \*
    ;; .   +   .   +   +   .   +   +   .   +   + - +   +   +   +   +   +   .   +   +   .   .   .   .   +   .   .
    ;;                                        /     \*
    ;;   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .   +   +   .   .
    ;;
    ;; .   .   .   .   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .
    ;;
    ;;   .   .   .   .   +   +   .   +   +   .   +   +   +   +   +   +   +   +   .   +   +   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            / \ / \ / \ / \                             /       /
    ;;   .   .   + - +   .   + - +   +   +   +   +   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .
    ;;                \     /* * * * * * * * * * *\ / \ / \ / \ / \         /       /
    ;; .   .   .   .   + - + - + - + - + - + - + - +   +   +   +   +   .   +   .   +   .   .   .   .   .   .   .
    ;;                                              \* * * * * * * *\ / \ /
    ;;   .   .   .  (+)- +   .   .   .   .   .   .   +   .   .   .   +   +   .   + - + - +   .   + - +   .   .
    ;;              /  */*\                           \* * * * * * * * * *\     /* * * * *\  S  /* * *\
    ;; .   .   + - +   +   + - + - + - + - + - + - +   +   .   . - . - .   + - +   .   +   + - +   +   +   .   .
    ;;                /* * *  /                       /* * * */* * * * *\* * * * * * * * * * * * */ \* *\
    ;;   .   .   .   +   .   +   .   .   + - +   .   +   .   .   +   +   .   .   .   .   .   .   + - +   + - +
    ;;              /*\* * */           /     \     /* * * * *\* * * * */* * * * * * * * * * * * * * * * * * *\
    ;; .   .   .   +   .   +   .   + - + - + - + - +   + - +   . - . - .   .   + - + - +   .   .   .   .   .   +
    ;;              \* *\* *\           \* * * * * * */     \* * * * * * * * * *\ /   /* * * * * * * * * * * */
    ;;   .   .   .   +   .   +   .   .   +   .   .   +   .   +   .   .   .   .   +   +   +   .   .   .   + - +
    ;;              /*\* *\* *\           \* * * * * *\       \* * * * * * * * * *\ /* */ \* * * * * * */
    ;; .   .   .   +   .   .   + - +   .   +   .   .   + - +   + - +   .   .   .   +   +   +   .   .   +   +   .
    ;;              \* *\* *\* * * *\       \* * * * * * * *\       \* * * * * * * * */   / \* * * * */    *\
    ;;   .   .   .   +   .   . - . - +   .   + - +   .   + - + - +   +   + - +   .   + - + - +   .   +   . - +
    ;;                \* *\* * * * * *\           \* * */         \   \*/     \* * * * * * * * * * */    *\*/
    ;; .   .   .   .   +   .   .   .   + - +   .   + - +   .   +   +   + - +   +   .   .   .   .   +   + - +   .
    ;;                /*\* *\* * * * * * * *\                 /   /         \ /* * * * * * * * * */   /
    ;;   .   .   .   +   .   . - . - . - . - + - +   .   + - +   +   +   .   +   .   .   .   .   +   +   .   .
    ;;                \* *\* * * * * * * * */     \     /       /   /*\       \* * * * * * * * */   /
    ;; .   .   .   .   +   .   .   .   .   +   .   + - +   + - +   +   +   .   +   + - +   .   +   +   .   .   .
    ;;                  \* *\* * * * * * */          */   /* * *\   \*/       /* */*\*/*\* * */    *\
    ;;   .   .   .   .   +   .   .   .   +   .   .   +   +   .   +   +   .   +   + - + - +   +   + - +   .   .
    ;;                  /* * *\* * * * */             \   \* * */   /       /* * *\*/*\*/* */   /
    ;; .   .   .   .   +   .   . - . - +   .   .   .   +   + - +   +   + - +   .   + - +   +   +   .   .   .   .
    ;;                  \* * * * * * */                 \         /         \* * * *\*/*\* *\
    ;;   .   .   .   .   + - +   .   +   .   .   .   .   + - + - +   .   .   +   .   + - +   +   .   .   .   .
    ;;                        \* * */                                         \* * * *\*/*\* *\
    ;; .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   + - +   + - +   +   .   .   .   .
    ;;                          \*/                                                 \* * * * */
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                  \       \   \
    ;;   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    \
    ;; .   .   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            /     \      S
    ;;   .   .   .   .   .   .   +   .   + -(+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \     /
    ;; .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   +
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   ?   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   [t^3|1] [t^3|1]
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   .   .   .   +   +   .   .   .   .   .   .            [e^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   .   ?  (?)  .   .   .   .   +   .   +   .   .   .   .   .              [t^2|1] [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   ?   .   .   .   .   +   +   .   .   .   .   .   .                [t^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   ?   +   .   .   +   .   +   .   .   .   .   .   .                 [e^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .                [t^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .             [t^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /
    ;; .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  \
    ;;   .   .   .   ?  (+)- +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [i] [_] [_] [_]
    ;;                        \     /*\*/*\
    ;; .   .   ?   .   .   ?   + - + - ? - +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [O] [_] [o] [_] [_]
    ;;                                  \*/
    ;;   .   .   .   ?   .   .   ?   .   +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [O] [_] [O] [_] [_]
    ;;                                    \
    ;; .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                          \     /     \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;                                                            \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                                /           /
    ;;   .   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   ?   .     [_] [_] [_] [_] [_] [_] [_] [i]
    ;;                                          /                 \
    ;; .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                          \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [o]
    ;;                                                \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [o] [_]
    ;;                                                /
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [O]
    ;;                                                            \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [O] [_]
    ;;                                                                  \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [O] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   +   +   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   +   +   .   +
    ;;                                                                              \* *
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +
    ;;                                                                        \       \* *
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .
    ;;                                                                          \       \*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                           * * *
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                                                                          /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   +   .   .   .               + - +
    ;;                                                                                      \   \     /   /*                          /    *\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - +   +   .   .   .   .           +   . - +
    ;;                                                                                        \         /* *                             *\*
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   +   .   .           .       +   + - .   +
    ;;                                                                                                                              \ /         \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .               .       +   .   .   +
    ;;                                                                                                                                       D  /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   +   .   .   .             - + - +   .   + - +
    ;;                                                                                    /       /                          */     \     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (+)  .   +   .   .   .               .       + - +
    ;;                                                                                  /         \
    ;;                                                         +   +                   +   .       + - + - + - + - + - +   .
    ;;                                                                                  \                               \
    ;;                                                                                   +   .       +                   +
    ;;                                                                                    \                             /
    ;;                                                                                     + - + - + - + - + - +       +
    ;;                                                                                        /                         \
    ;;                                                                                       +               +           +
    ;;                                                                                      /                           /
    ;;                                                                                     +   .   + - + - + - + - + - +

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] [g]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "D": recording "data/maps/demo/recs/coin_crouch.fus"
    "D": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;                                                                       ?   ? - ? - +    [C][C][D]
    ;;                                                                      /* * * * * */
    ;;                                                                     +           +
    ;;                                                                      \* * * * * *\
    ;;                                                                       +   + - +   +
    ;;                                                                      /* * *\ /* */
    ;;                                                                 + - + - +   + - +
    ;;                                                                /* * *\   \*/
    ;;                                                       + - + - + - +   + - +
    ;;                                                      /   /* * *\   \* * */
    ;;                                 + - + - +   + - + - +   + - +   + - +   +       .
    ;;                                /   /             \           \* * * * */*       *
    ;;                   + - + - + - +   +   ?       ?   + - + - +   +   + - + -     + - .          [c][c]
    ;;                  /                 \                       \   \*/  */*\*       *
    ;;                 +   + -             +       ?               +   +               +   .          [c]
    ;;                /   /               /                         \   \
    ;;   ?           +       + - + - + - +           ?   ?           +   +               .   +  [c]   [c][c]
    ;;                \     /                                       /   /
    ;;                 + - +               .   + - +       + - + - +   +
    ;;                                     S  /     \     /             \
    ;;                   .      (+)- + - + - +       + - +     - + -     +
    ;;                          /                   /     \             /*
    ;;                         + - +               +       + - + - + - +
    ;;                        /     \             /                  * * *
    ;;                       +       + - + - + - +
    ;;                        \
    ;;             ?   ?       +                                                               [c][c]
    ;;                        /
    ;;               ?       +                                                                  [c]
    ;;                      /
    ;;                     +
    ;;                   */
    ;;                   .
    ;;
    ;;
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye_B.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []  [] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;                                       %\                                                                      [0|1]
    ;; .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [0|1]
    ;;                                       %/*\                                                                   [0|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   ?   ?%- + - +   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [][0|1 0|1 x|1 x|1]    [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                         D
    ;;   .   .   .   .   ?   .   ?   .   ?   .   .   .   .  (?)  .   .   .   .   ?   .   ?   .   .   .   .   .  [] [] []  [F] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .[T][] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .  %+   .   ?   .   ?   .   .   .   .   .   .   .   .   [] [] [0|1] [] []
    ;;                                                       %/*\                                                    [0|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?  %+ - +   .   .   .   .   .   .   .   .   .   .   .    [] [0|1 x|1 x|1]
    ;;                                                       %\*/                                                    [0|1 x|1 x|1]
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .  %+   ?   .   ?   .   .   .   .   .   .   .   .   .   [] [] [0|1] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .             []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;       +   +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        \   \   \   \
    ;;         + - +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  \
    ;;       .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                \
    ;;         .   + - +   + - +   +   +   +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;              \   \   \   \   \ / \ /   /   /
    ;;       .   .   + - +   + - +   +   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     +   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      \           \       \
    ;;       +   + - +   + - . - + - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        \   \ /     \       \
    ;;         +   + - +   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   +   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              \
    ;;       .   +   .   .   +   . - + - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                        \       \
    ;;     + - +   +   + - +   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      \       \   \   \   \   \   \
    ;;       +   .   +   + - +   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                        \
    ;;         .   .   .   . - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [s^2 s^4]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                    \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                                                    /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   +   .   +   .   .
    ;;                               S                                        \         /   /       /
    ;; .   + - + - +   .   + - + - + - + - +   .   .   +   + - +   .   .   .   +   .   +   +   .   +   .   .   .
    ;;    /         \     /* */ \* * * * * *\  *   * */   /* * *\             /         \ /         \
    ;;   +   + - +   +   + - +   +   .   .   + - + - +   +   + - +   .   .   +   .   .   +   .   .   +   .   .
    ;;    \ /     \ /             \* * * * */         \   \*/                 \           \         /
    ;; .   +   .   +   .   .   .   + - + - +   .   .   +   +   .   .   .   .   +   .   .   +   .   +   .   .   .
    ;;    /                               /           /     \              * * * * * * *   * * *  /
    ;;   +   .   .   .   .   .   .   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   +   .   .   .
    ;;  / \                               \           \     /              * * * * *   * * * * *
    ;; +   +   .   .   .   .   .   .   .   +   .   .   +   +   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;  \ /                               /             \   \                               \
    ;;   +   .   .   .   .   .   .   .   +   .   .   .   +   +   .   .   .   .   .   .   .   +   .   .   .   .
    ;;  / \                                             /     \                             /
    ;; +   +   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +   .   .   .   .   .
    ;;  \ /                                                                                 \
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;  /
    ;; +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;  \
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;  /
    ;; +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .   .  %+ - +   .   .   .  [222] [222]
    ;;                                                                   %/ \ / \            %/ \ /              [2222]  [222]
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - + - +   .   .  %+ - +   .   .   .   [22222]   [222]
    ;;  / \                                                              %\ / \ /                                 [2222]
    ;; +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .   .   .   .   .   .   .   [222]
    ;;  \   \
    ;;   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   . %(+)- +   .   .   [222] [222]
    ;;                                                                               %/ \ /        %\ /            [222]  [22]
    ;;   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .  %+   .   .     [222]   [2]
    ;;      /     \
    ;; .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      \     /
    ;;   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;;                                                        *
    ;;                                                  .   .   .   .
    ;;                                                      * * *
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                                      * * *                        /
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .
    ;;                                                                             /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   +   .   .   .               [_] [o] [_] [_] [_] [_] [i]
    ;;                                                                             \
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   .   .       [_] [o] [O] [_] [_] [_] [i] [O]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [_] [_] [O] [_] [_] [_] [O]
    ;;
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .       [_] [_] [_] [o] [O] [_] [_] [_] [O]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [_] [_] [O] [_] [_] [_] [_]
    ;;                                                                                            S
    ;;  ?   .   .   ?  (.)  .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .       [_] [_] [_] [O] [_] [_] [_] [_] [_]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [O] [O] [_] [_] [_] [_] [O]
    ;;
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .       [_] [O] [_] [o] [_] [i] [_] [_] [O]
    ;;                                                                 /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   +   .   ?   .   .   ?   .   .           [_] [o] [o] [_] [_] [i] [_] [_]
    ;;                                                           /
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   + - +   ?   .   .   ?   .   .   .           [_] [_] [_] [_] [_] [i] [_] [_]
    ;;                                                           \     /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   +   .   ?   .   .   .   .               [_] [_] [_] [_] [i] [i] [_]
    ;;                                                                       /
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   + - +   ?   .   .   .           [_] [_] [_] [_] [i] [_] [_] [_]
    ;;                                                                       \     /
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   .   .               [_] [_] [_] [_] [_] [_] [i]
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   + - + - + - + - .   .   .   .
    ;;                   /
    ;;  .   .   + - +   +   .   .   .   .   .   .   .   .
    ;;               \          S
    ;;    .   .   .   + - + -(+)- + - .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "C": shape "red_curvy_dodeca_anim"

collmap:
    ;; (?)  [C]parts:
    "B": shape "curvy_curvy_dodeca_anim"

collmap:
    ;; (?)   [B]
collmap:
    ;;                    %. - +     [11]
    ;;                         %\    [1]
    ;;                          %+ - +  [111]
    ;;                         %/   /   [11]
    ;; .   .   .   .   .   .  %+   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .  [11]
    ;;                         %\ /                                                               / \             [11]
    ;;   .   .   .   .   .   .  %+   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .    [1]
    ;;                         %/   /     \                                                       \ /              [1]
    ;; .   .   .   .   .   .  %+   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   [1]
    ;;                       %/   /                 \                                               \              [1]
    ;;   .   .   .   .   .  %+   + - + - + - +   .   + - + - + - +   .   .   .   .   .   .   .   .   +   .   .      [1]
    ;;                     %/     \       \               \       \                                 / \                [1]
    ;; .   .   .   .   .  %+   +   + - +   + - + - +   .   +   .   +   .   .   .   .   .   .   .   + - +   .   .         [1]
    ;;                   %/   /         \           \                                             / \ /                 [1]
    ;;   .   .   .   .  %+   + - +   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   + - +   .   .         [1]
    ;;                 %/   /     \                                                                   \                [1]
    ;; .   .   .   .  %+   +   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .         [1]
    ;;                 %\           \           \                                                       \               [1]
    ;;   .   .   .   .  %+   .   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   +   .   +   .         [1]
    ;;                   %\                                                                       \  S                 [1]
    ;; .   .   .   .   .  %+   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   + - +   +   .       [1]
    ;;                     %\   \                                 /                                 \   \   \         [1]
    ;;   .   .   .   .   .  %+   + - + - +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   + -(+)  +         [1]
    ;;                       %\   \       \                     /   /                               /   /              [1]
    ;; .   .   .   .   .   .  %+   +   .   + - +   .   +   + - + - +   .   .   .   .   .   .   .   + - +   + - +         [1]
    ;;                         %\   \                 /   /                                               /   / \         [1]
    ;;   .   .   .   .   .   .  %+   + - +   + - + - + - +   .   .   + - +   .   .   .   .   .   .   .   + - +   +         [1]
    ;;                           %\         /                       /                                     \   \ /         [1]
    ;; .   .   .   .   .   .   .  %+   .   +   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   + - +         [1]
    ;;                                    /       /       /
    ;;   .   .   .   .   .   .   .   .   + - + - + - + - +   .   .   .   .   .   + - +   .   .   .   .   .   .
    ;;                                                \                         /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   + - + - +   .   .   .   .   .   .   .   .
    ;;                                                  \             /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;
    ;;                                                             .   +   .
    ;;
    ;;                                                               +   +
    ;;
    ;;                                                             .               +   .   +
    ;;
    ;;                                                       .   .   .               .   +   .   +   +
    ;;                                                                               * *         *   *
    ;;                                                     .   .   .           +   +   .   .   + - +   .
    ;;                                                                             *          /
    ;;                                                   .   .   .   .   .   +   +   +   .   .
    ;;                                                                           *
    ;;                                                     .   .   .           +   .
    ;;                                                                           *
    ;;                                                                          (+)

collmap:
    ;;                                                                       S
    ;;                                                     + - + - + - + - + - + - + - +
    ;;                                                    /                             \
    ;;                                                   +       + - + - + - + - +       +
    ;;                                                  /       /                 \     /
    ;;                                         + - + - +       +       +       +   + - +
    ;;                                        /               /         \       \
    ;;                                       +       + - + - +           +       +
    ;;              %*                        \     /                                           [o]
    ;;           %(+)- .                       + - +                       +       +            [oo]
    ;;
    ;;           .                                                           .       .
    ;;
    ;;         .                               .                               .       .
    ;;
    ;;       .                                                                   .       .
    ;;  %* */                                                                                  [ooo]
    ;;  %  +                                   .                                   .       .   [  o]
    ;;  %* *\                                                                                  [ooo]
    ;;  %    +   .   .   .   .   .   .   .   .   .                                             [  o]
collmap:
    ;;
    ;; .   + - +   .
    ;;    /     \
    ;;   +  (.)  +
    ;;    \     /
    ;; .   + - +   .
    ;;
    ;;   .   .   .
anim: "anim/player.fus"
state: "stand"
pos: ( 56 82)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w5+d w4+r w38-d w44-r w3+l w7-l w26+r w40-r w13+l w10-l w2+d w4+r w18-d w18-r w2+d w3+l w14-d w44-l w3+r w83-r w1+d w1+l w32"
anim: "anim/roller.fus"
state: "stand"
pos: ( 44 18)
rot: 0
turn: no
data: " w3+l w43+d w62-l w2+r w200-d w71+d w47-d w75+d w167-d w1-r"
anim: "anim/bird.fus"
state: "stand"
pos: ( -21 1)
rot: 1
turn: yes
keys:
    u:
    d:
    l:
    r:
data: " w2+l w53-l w1+r w58+l w1-r w59-l w1+r w59-r w1+l w2-l w3"
anim: "anim/roller.fus"
state: "stand"
pos: ( 40 18)
rot: 1
turn: yes
offset: 300
data: " w4+l w331+d w34-d w74+d w18-d w50-l w1+r w109+d w346-d w120+d w103-d w4-r w8+l w55-l w1+l w3-l"
anim: "anim/roller.fus"
state: "stand"
pos: ( -7 -17)
rot: 2
turn: yes
keys:
    u:
    d:
    l: is was
    r:
data: " w43+d w22-d w51+d w15-d w76+d w64-d w87+d w14-d w55"
anim: "anim/roller.fus"
state: "stand"
pos: ( 56 79)
rot: 2
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w4+l w128-l w29+r w34-r w1+d w2+l w19-d w22-l w14+r w75-r w1+u w9-u w10+r w5+u w1-r w2-u w15+u w6-u w3+r w3-r w1+u w3-u w18+r w25-r w3+u w4-u w10+l w3+u w1-l w2-u w13+l w38-l w3+u w6-u w11+r w36-r w4+u w3-u w15+l w4-l w1+u w2-u w10+l w49-l w1+u w5-u w4+r w47-r w8+l w24+u w3-l w1-u w7+l w32+d w115-d w46-l w2+d w1+r w37-d w15+d w27-d w2-r w6+l w14+d w20-l w12+l w51-d w3-l w1+u w6-u w8+l w72-l w1+l w7"
anim: "anim/coin.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: "w12"anim: "anim/big_roller.fus"
state: "stand"
pos: ( 41 -85)
rot: 0
turn: no
keys:
    u:
    d: is was
    l:
    r:
data: " w172+l w31-d w51-l w2+r w86-r w3+d w4+l w24-l w3-d w8+r w19+d w12-r w2+l w28-l w178+r w20-d w1-r w1+l w29-l w1+u w4+l w1-u w48-l w13+r w27-r w29+l w8+d w22-l w27+l w15-d w4-l w10+r w42-r w2+r w4+u w1-r w5-u w17+l w74-l w1+d w1+r w27-r w3+l w7-l w179+r w15-d w1-r w8+u w4-u w8+r w36+d w11-d w8+u w4-u w26-r w6+d w3+l w18-l w25-d w20"
anim: "anim/coin.fus"
state: "crouch"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: "w12"anim: "anim/roller.fus"
state: "stand"
pos: ( -9 -27)
rot: 2
turn: no
keys:
    u:
    d:
    l:
    r: is was
data: " w134+d w19-d w1-r w12+l w17+d w16-d w6-l w3+r w16+d w10-d w45+d w53-d w55+d w38-d w38+d w19+l w1-d w1-r w129+d w39-d w2+d w26-d w35+d w45-l w1-d w1+r w1-r w1"
anim: "anim/player.fus"
state: "crawl"
pos: ( 47 -71)
rot: 1
turn: no
keys:
    u:
    d: is was
    l:
    r:
data: " w133+l w3-l w22+r w13-r w55+l w1-l w67+r w3-r w93+r w4-d w9-r w8+u w6-u w7+d w6+r w5-r w14+l w3-l w130+r w8-d w4-r w5+l w10-l w15+r w8-r w3+d w3+l w14-l w62+r w7-r w3+l w3-l w83+l w7-d w10-l w8+r w51-r w3+d w4+l w22-l w13-d w5+l w8-l w8+l w8-l w14+d w4+l w5-l w16+r w7-r w127+l w1-l w121-d w10+r w37+d w13-r w10-d w9+l w53-l w11+l w3-l w5+u w3-u w10+d w2+l w6-l w19+l w4-l w42+l w4-l w1+r w2-r w43"
anim: "anim/flier.fus"
state: "fly"
pos: ( 70 90)
rot: 2
turn: no
keys:
    u: is was
    d:
    l:
    r:
data: " w13+l w3-l w14+r w6-r w10+l w5-l w30+l w5-l w5+r w4-r w13+l w7-l w10+r w5-r w32+l w4-l w2+r w3-r w5+l w2-l w2+r w2-r w2+r w7-r w20+l w6-l w9+r w7-r w25+l w1-l w7+r w5-r w11+l w5-l w4+r w5-r w41+r w6-r w10+l w7-l w6+r w6-r w31+r w5-r w4+r w8-r w9+r w3-r w4+r w1-r w21+r w6-r w3+l w6-l w7+l w2-l w9+r w8-r w13+r w7-r w12+l w7-l w11+r w7-r w9+l w6-l w14+r w4-r w12+r w3-r w3+l w6-l w16+l w6-l w1+r w4-r w4+l w6-l w1+r w5-r w3+l w5-l w8+r w5-r w21-u"
anim: "anim/player.fus"
state: "stand"
pos: ( 14 -13)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w3+d w2+r w19-d w1-r w6+r w6-r w11+d w4+l w10-l w10-d w25+r w12-r w4+r w6-r w2+d w3+l w62-d w4-l w4+r w12-r w22+r w1-r w3+u w3-u w29+d w11+r w7-r w5-d w5+r w21-r w2+d w3+r w58-r w13-d w17+u w2-u w28+r w46-r w1+l w16-l w28+l w26-l w4+r w2-r w38+r w12-r w4+l w3-l w13+u w2-u w25+l w5-l w7+d w6+r w4-r w13+r w5-r w5-d w3+r w20+d w27-d w11-r w10+r w5-r w3+d w3+r w5-r w11-d w1+d w1-d w4+r w60-r w13+r w4-r w9+d w6+r w15-d w3-r w11+r w4-r w8+d w5+l w29-d w8-l w16+d w17-d w3+l w7-l w17+u w3-u w5+l w49-l w22+l w17-l w2+r w3+u w1-r w2-u w10+r w77-r w3+d w4+r w5-r w14-d w8+r w20-r w4+d w7+r w29-r w9-d w7+r w8-r w9+d w3+l w7-l w7-d w1+l w45-l w5+d w20+l w7-l w10-d w10+l w4-l w3+d w3+r w34-r w1-d w3+l w32-l w9+l w12-l w7+d w6+l w16-l w9-d w3+l w38-l w2+d w4+l w6-l w25+l w3-l w1-d w2+l w20-l w6+d w37+r w4-r w16+r w3-r w6-d w9+r w4-r w26+d w7+r w16-r w3-d w8+r w14-r w16+d w1+r w12-r w7-d w6+r w12-r w2+d w3+r w5-r w16+l w8-l w14+l w3-l w8-d w23+r w4-r w4+r w6-r w13+d w3+r w9-r w4-d w9+l w12-l w3+d w4+l w5-l w30+l w9-d w2-l w29+l w19-l w8+l w5-l w4+d w6+l w10-l w15-d w2+l w6-l w13+d w4+r w9-r w9+r w3-r w3-d w11+l w18-l w11"
anim: "anim/player.fus"
state: "stand"
pos: ( 56 82)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w5+r w8-r w5+d w4+l w34-d w6-l w3+u w3-u w11+l w6-l w10+u w3-u w27+l w7-l w6+r w2-r w26+l w44-l w45+r w12-r w11+d w3+l w13-d w17-l w24+l w39-l w6+r w15-r w4+u w3-u w14+r w10-r w14+d w6+l w29-d w4-l w12+d w7+r w40-d w2-r w3+l w4-l w4+u w2-u w18+l w7-l w3+r w2+u w1-r w2-u w14+r w9-r w33+r w4-r w16+d w6+r w14-r w10-d w5+r w11-r w5+d w6+l w13-d w45-l w9+r w39+d w28"
anim: "anim/roller.fus"
state: "stand"
pos: ( -80 1)
rot: 0
turn: yes
keys:
    u:
    d: is was
    l:
    r: is was
data: " w400-d w68"
anim: "anim/roller.fus"
state: "stand"
pos: ( -68 -1)
rot: 2
turn: no
keys:
    u:
    d: is was
    l: is was
    r:
data: " w157-d w65+d w106"
anim: "anim/player.fus"
state: "stand"
pos: ( 68 70)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w116+r w4-r w6+l w1-l w27+u w4-u w9+l w5-l w11+l w4-l w2+r w2-r w108+d w13+r w11-r w9-d w5+r w6-r w9+d w4+l w29-l w1-d w1+r w22-r w34+r w5-r w3+l w2-l w72+l w17+d w21-l w5+r w2-r w16-d w6+r w4-r w105+l w16-l w8+r w8-r w17+l w3-l w23+l w4-l w3+r w2+u w1-r w1-u w12+d w3+r w29-d w1-r"
anim: "anim/roller.fus"
state: "stand"
pos: ( 40 18)
rot: 1
turn: yes
data: " w4+l w331+d w34-d w74+d w18-d w50-l w1+r w109+d w346-d w120+d w103-d w4-r w8+l w55-l w1+l w3-l"
anim: "anim/player.fus"
state: "stand"
pos: ( 55 72)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w7+l w82-l w10+r w11-r w2+u w2-u w11+r w124-r w2+l w66-l w2+d w14+r w26-r w3-d w13+r w9-r w36+l w8-l w5+d w5+r w42-r w1-d w3+l w4-l w12+u w4-u w11+u w6-u w15+l w7-l w18+r w7-r w3+l w3-l w2+u w3-u w11+l w6-l w6+r w2-r w2+u w1-u w29+r w18-r w14+d w4+l w12-d w2-l w16+l w14-l w31+r w11-r w16+r w26-r w1+u w3-u w13+r w45-r w4+l w7-l w17+d w5+r w22-d w7-r w18+d w4+r w36-d w5-r w9+r w7-r w15+r w6-r w27+r w13-r w15+l w4-l w4+r w2-r"
anim: "anim/water_roller.fus"
state: "stand"
pos: ( -65 5)
rot: 5
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w361+r w55-r w13+l w5-l w329+r w52-r w368+r w97-r w263+r w20"
anim: "anim/roller.fus"
state: "stand"
pos: ( 46 22)
rot: 3
turn: no
data: " w1+l w199+d w36-d w73-l"
anim: "anim/player.fus"
state: "stand"
pos: ( 35 -2)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w26+d w4+l w34-d w43+d w18-l w14+l w10-l w7-d w3+l w25+d w4-l w6+l w15-d w15-l w16+d w2+r w9-r w4-d w7+r w16-r w9+r w12-r w2+d w6+r w4-r w7+r w4-r w7+r w7-d w1-r w1+r w32-r w2+d w2+l w52-l w1-d w6+r w9-r w3+d w2+r w7-r w11-d w5+r w17-r w1+d w2+l w9-l w14+l w4-l w2-d w2+l w9-l w8+d w1-d w9+l w5-l w3+d w4+l w5-l w10-d w3+l w5-l w12+d w2+r w9-d w4-r w3+r w16-r w7+d w2+l w55-d w33-l w18+d w3+l w9-l w11+l w11-l w7-d w18+d w3-d w7+l w5-l w5+d w3+r w7-d w1-r w9+r w5-r w3+d w4+l w52-d w38+d w42-l w14+l w2-l w3-d w6+r w71-r w16+d w4+l w11-l w18+r w4-r w9+r w3-r w5-d w6+l w28-l w14+u w3-u w9+r w19+l w1-r w62-l w37+l w3-l w3+r w2-r w3+u w3-u w7+r w76-r w16+d w10+r w5-r w10-d w17+r w23-r w14+d w3+r w27-r w1-d w14+r w5-r w5+d w7+r w15-r w12+r w7-r w7+r w28-d w1-r w2+l w31-l w9+l w10-l w1+d w3+l w17-d w40-l w3+d w10+l w8-l w30+l w1-l w6-d w25+l w21-l w2+d w19-d w1+l w8-l w1+d w4+l w8-l w9-d w4+l w6-l w4+d w3+r w8-r w12+r w5-d w33-r w4+d w11+r w11-r w12-d w6+l w44-l w27+d w3+l w11-d w43-l w1+d w4+l w7-l w23+l w10-l w12+r w8-r w7-d w2+l w36-l w1+d w4+l w5-l w19-d w4+l w9-l w1+d w4+l w4-l w15+r w7-r w7-d w2+r w30-r w1+d w7+r w17-d w3+d w5-r w17-d w4+r w25-r w4+d w1+l w62-l w21+l"
anim: "anim/bird.fus"
state: "crawl"
pos: ( -47 2)
rot: 5
turn: yes
keys:
    u:
    d: is was
    l:
    r:
data: " w85-d w17+l w69-l w10+r w3-r w6+d w66-d w17+r w16-r w18+l w80-l w49+r w2-r w13+l w3-l w70+r w13-r w53+l w44-l w8+d w91-d w4+r w169-r w1+d w22"
anim: "anim/bird.fus"
state: "stand"
pos: ( -72 9)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w105+l w2-l w117+r w2-r w46+d w57-d w99+r w75-r w12+l w2-l w103+d w19+r w1-r w43+l w3-l w35-d w61+r w86-r w90+l w13-l w87+r w2-r w71+r w4-r w6+r w37-r w18+l w4-l w61+l w122-l w38+r w4-r w49+r w2-r w43+l w67-l w10+r w3-r w30+l w19-l w3+r w2-r w15+r w4-r w28"
anim: "anim/roller.fus"
state: "stand"
pos: ( -7 -24)
rot: 3
turn: no
keys:
    u:
    d:
    l:
    r: is was
data: " w90"

colors:

    : animate: +eval(5 * 0)
        : (  0   0   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 1)
        : (  0   0  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 2)
        : (  0 127   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 3)
        : (  0 127  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 4)
        : ( 60   0   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 5)
        : ( 60   0  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 6)
        : ( 60 127   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 7)
        : ( 60 127  60) 20
        : (  0   0 127) 20

    : animate: +eval(5 * 0)
        : (  0   0   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 1)
        : (  0   0  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 2)
        : (  0 127   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 3)
        : (  0 127  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 4)
        : ( 60   0   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 5)
        : ( 60   0  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 6)
        : ( 60 127   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 7)
        : ( 60 127  60) 20
        : (  0  60 127) 20

    255: animate:
        : (0 30 30) 100
        : (0  0 30) 300
        : (0  0  0) 100

colors:

    : animate: +eval(8 * 0)
        : (  0   0   0) 80
        : (  0   0   0) 80
    : animate: +eval(8 * 1)
        : (  0   0   0) 80
        : (  0   0  64) 80
    : animate: +eval(8 * 2)
        : (  0   0   0) 80
        : (  0  64   0) 80
    : animate: +eval(8 * 3)
        : (  0   0   0) 80
        : (  0  64  64) 80
    : animate: +eval(8 * 4)
        : (  0   0   0) 80
        : ( 64   0   0) 80
    : animate: +eval(8 * 5)
        : (  0   0   0) 80
        : ( 64   0  64) 80
    : animate: +eval(8 * 6)
        : (  0   0   0) 80
        : ( 64  64   0) 80
    : animate: +eval(8 * 7)
        : (  0   0   0) 80
        : ( 64  64  64) 80

    : animate: +eval(8 * 0)
        : (  0   0   0) 80
        : (  0   0   0) 80
    : animate: +eval(8 * 1)
        : (  0   0   0) 80
        : (  0   0 150) 80
    : animate: +eval(8 * 2)
        : (  0   0   0) 80
        : (  0 150   0) 80
    : animate: +eval(8 * 3)
        : (  0   0   0) 80
        : (  0 150 150) 80
    : animate: +eval(8 * 4)
        : (  0   0   0) 80
        : (150   0   0) 80
    : animate: +eval(8 * 5)
        : (  0   0   0) 80
        : (150   0 150) 80
    : animate: +eval(8 * 6)
        : (  0   0   0) 80
        : (150 150   0) 80
    : animate: +eval(8 * 7)
        : (  0   0   0) 80
        : (150 150 150) 80

    255: 0 0 0

colors:

    :   0   0   0
    :   0   0 127
    :   0 127   0
    :   0 127 127
    : 127   0   0
    : 127   0 127
    : 127 127   0
    : 127 127 127

    :  60  60  60
    :  60  60 255
    :  60 255  60
    :  60 255 255
    : animate:
        : (255  60  60) 30
        : (255 120  60) 30
    : 255  60 255
    : 255 255  60
    : 255 255 255

    :   0   0   0
    :   0   0  60
    :   0  60   0
    :   0  60  60
    :  60   0   0
    :  60   0  60
    :  60  60   0
    :  60  60  60

    255: 30 50 80

colors:

    :   0   0   0
    :   0   0  60
    :   0 127   0
    :   0 127  60
    :  60   0   0
    :  60   0  60
    :  60 127   0
    :  60 127  60

    :  30  60  30
    :  30  60 127
    :  30 255  30
    :  30 255 127
    : animate:
        : (127  60  30) 30
        : (127 120  30) 30
    : 127  60 127
    : 127 255  30
    : 127 255 127

    255: 0 0 30
default_face: "0"
collmap:
    ;;       +
    ;;      /*\
    ;;     +   +
    ;;    /* * *\
    ;;  (+)- + - +parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;         .
    ;;
    ;;       .   .   .
    ;;
    ;;     .   .   .   .
    ;;
    ;;       .   ?   .   .      [t q^1 E^2]
    ;;
    ;;    (?)  .                [E T]

parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       S
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
default_face: "2"
collmap:
    ;;       +
    ;;      /*\
    ;; + - +   +
    ;;  \* * * *\
    ;;   +   + - +
    ;;    \*/
    ;;    (+)collmap:
    ;;            +
    ;;           /
    ;;      + - +
    ;;     /   /
    ;;    + - +
    ;;   /
    ;; (+)parts:
    "T": "data/maps/demo/tiles/hex_vec4/dodeca_third_r.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [T T^1 T^2 T^3 T^4 T^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/dodeca_third.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [t t^1 t^2 t^3 t^4 t^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
collmap:
    ;;       +
    ;;      / \
    ;; + - +   +
    ;;  \       \
    ;;   +   + - +
    ;;    \ /
    ;;    (+)default_face: "2"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   + - +
    ;;                         /* */
    ;;        .   .   .   .   + - +   .
    ;;
    ;;      .   .   .   .   .   .   + - +
    ;;                             /* */
    ;;    .   .   .   .  (.)  .   + - +   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;               .
    ;;
    ;;         .   .   .
    ;;
    ;;       .   .   .   .
    ;;
    ;;    (?)  .   ?   .   .     [t] [E^5 T^5 E Q]
    ;;
    ;;               .   .
default_face: "2"
collmap:
    ;;  + - + - +
    ;;   \* * */
    ;;    +   +
    ;;   /* * *\
    ;; (+)- + - +parts:
    "t": "data/maps/demo/tiles/hex_vec4/dodeca_third_hollow.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [t t^1 t^2 t^3 t^4 t^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/fisheye_B_bigtri.fus"
    "b": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [b] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^1] [T] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .    [] [] [] [] [b^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []    []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] [b^1]  [t^1]   [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^2] [t] []
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (.)  .   .   .   .   ?   .   ?   .   .   .   .   .       [] [T^2] [T^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^3] [t^5] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] []     [t^4]   [b^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .         []   []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   [] [b^2] [] [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^3] [T^4] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .            [] [b^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      []  [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .              []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
default_face: "1"
collmap:
    ;; + - + - +
    ;;  \* * * *\
    ;;   +   .   +
    ;;    \* * * *\
    ;;    (+)- + - +collmap:
    ;;  + - + - +
    ;;   \     /
    ;;    +   +
    ;;   /     \
    ;; (+)- + - +collmap:
    ;;      +
    ;;     / \
    ;;    +   +
    ;;   /     \
    ;; (+)- + - +collmap:
    ;; (+)- + - +collmap:
    ;;        + - + - +
    ;;       /   /
    ;; (+)- + - +collmap:
    ;;  +
    ;;   \
    ;;    + - +
    ;;   /
    ;; (+)collmap:
    ;;    + - +
    ;;   /   /
    ;; (+)- +
parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 S
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [k]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 S
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri.fus"
    "b": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri_b.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [b] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^1] [T] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .    [] [] [] [] [b^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []    []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] [b^1]  [t^1]   [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^2] [t] []
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (.)  .   .   .   .   ?   .   ?   .   .   .   .   .       [] [T^2] [T^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^3] [t^5] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] []     [t^4]   [b^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .         []   []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   [] [b^2] [] [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^3] [T^4] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .            [] [b^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      []  [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .              []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "q": "data/maps/demo/tiles/hex_vec4/sq_face2.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r_face2.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   ?   .   .   .   .       [q]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (.)  .   ?   .   .   [Q]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
collmap:
    ;;       +
    ;;      / \
    ;;     +   +
    ;;    /     \
    ;;  (+)- + - +
default_face: "0"
collmap:
    ;;            +
    ;;           /*\
    ;;          +   +
    ;;         /* * *\
    ;;    .   + - + - +
    ;;
    ;; (.)  .parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;               .
    ;;
    ;;         .   .   .
    ;;
    ;;       .   .   .   .
    ;;
    ;;    (+)  .   ?   .   .     [E^5 T^5 E]
    ;;
    ;;               .   .

shapes:

    ##########
    # VERTEX #
    ##########

    "water_vert":
        animation: cycle 12
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  2 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  4 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  6 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  8 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0) 10 f eval(1 + 0 + 1)

            : "tri" (0 0 0 0)  0 f eval(1 + 8 + 1)  (0 4)
            : "tri" (0 0 0 0)  2 f eval(1 + 8 + 1)  (2 4)

    ########
    # EDGE #
    ########

    "water_edge":
        animation: cycle 8
        prismels:
            : "tri" (1 0 0  0) 11 f eval(1 + 8 + 3) (0 8)

            : "sq"  (1 1 0 -1)  0 f eval(1 + 0 + 3) (0 2)
            : "tri" (1 1 0 -1)  1 f eval(1 + 0 + 3) (2 2)
            : "tri" (1 2 0 -1)  3 f eval(1 + 0 + 3) (2 2)
            : "sq"  (1 1 0 -1)  0 f eval(1 + 0 + 3) (4 2)
            : "tri" (1 1 0 -1)  1 f eval(1 + 0 + 3) (6 2)
            : "tri" (1 2 0 -2)  3 f eval(1 + 0 + 3) (6 2)

            : "tri" (2 1 0 -1)  1 f eval(1 + 8 + 3) (0 2)
            : "tri" (2 2 0 -2)  3 f eval(1 + 8 + 3) (0 2)
            : "sq"  (1 2 0 -1)  0 f eval(1 + 8 + 3) (2 2)
            : "tri" (2 1 0 -1)  1 f eval(1 + 8 + 3) (4 2)
            : "tri" (2 2 0 -1)  3 f eval(1 + 8 + 3) (4 2)
            : "sq"  (1 2 0 -2)  0 f eval(1 + 8 + 3) (6 2)

            : "tri" (2 2 0 -2)  1 f eval(1 + 0 + 3) (0 2)
            : "tri" (2 2 0 -1)  1 f eval(1 + 0 + 3) (2 2)
            : "tri" (2 2 0 -1)  1 f eval(1 + 0 + 3) (4 2)
            : "tri" (2 2 0 -2)  1 f eval(1 + 0 + 3) (6 2)

    ########
    # FACE #
    ########

    "water_face_third_a":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1

    "water_face_third_b":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 1

    "water_face_third_c":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 1

    "water_face":
        shapes:
            : "water_face_third_a" (1 1 1 0)  0 f
            : "water_face_third_b" (1 1 1 0)  4 f
            : "water_face_third_c" (1 1 1 0)  8 f

verts:
    "0": "water_vert"
    "1": "map_vert1"
    "2": "map_vert0"
edges:
    "0": "water_edge"
    "1": "map_edge1"
    "2": "map_edge0"
faces:
    "0": "water_face"
    "1": "map_face1"
    "2": "map_face0"
    "S": "map_savepoint"
    "D": "map_door"

verts:
    "0": "map_vert1"
    "1": "map_vert1"
    "o": "map_vert0"
edges:
    "0": "map_edge1"
    "1": "map_edge1"
    "2": "map_edge2"
    "o": "map_edge0"
faces:
    "0": "map_face1"
    "1": "map_face1"
    "2": "map_face2"
    "o": "map_face0"
    "S": "map_savepoint"
    "D": "map_door"
collmap:
    ;;  + - + - +
    ;;  xxxxxxxxx
    ;;  x x x x x
    ;;  xxxxxxxxx
    ;; (+)- + - +collmap:
    ;;  +
    ;;  xxxx
    ;;  x x x +
    ;;  xxxxx/
    ;; (+)- +collmap:
    ;;
    ;;        .   .   .   .
    ;;        x x x x x x x
    ;;      .   .   .   .   .
    ;;      x x x x x x x x x
    ;;    .   .   .   .   .   .
    ;;    x x x x x x x x x x x
    ;;  .   .   .  (.)  .   .   .
    ;;    x x x x x x x x x x x
    ;;    .   .   .   .   .   .
    ;;      x x x x x x x x x
    ;;      .   .   .   .   .
    ;;        x x x x x x x
    ;;        .   .   .   .
    ;;


parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - +   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w * * * w * w * w */
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w * w * w w w w * w *\ /*\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w * * * w w w w * w *   */
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w * * * * w w w w w w   * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w */w
    ;; .   .   .   .   .   .   .   .   + - .   .   .   .   . - + - + - +   .   .   .   .   .   .   +   .   .   .
    ;; w w w w w w w w w w w w w w w w/w w w w w w w w w w w w w w w w w\w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .
    ;; w w w w w w w w w w w w w w w/w w w w w w w w w w w w w w w w w w w\w w w w w w w w w w w * */w
    ;; .   .   .   .   .   .   .   +   .   .   .  (+)- +   .   .   .   .   + - +   .   .   .   .   +   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w * w w w w w w w\w w w w w w\w w w w w w w w w *\w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   +   .   .   .   .   +   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w\w w w w w w w w w w w w w w\w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w       w w w w w w w w w w w w w w w w w w w w/w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   + - + - .   .   + - + - +   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w           w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w           w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w           w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w       w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;; w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: "data/maps/water/start.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (2 -6)
        mapper: ("triple")
        submaps:
            :
                file: "data/maps/water/start.fus"
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (72 29)
                        rot: 0
                        turn: y

collmap:
    ;;
    ;;        + - + - + - +
    ;;       /*\*/*\*/*\*/*\
    ;;      + - + - + - + - +
    ;;     /*\*/*\*/*\*/*\*/*\
    ;;    + - + - + - + - + - +
    ;;   /*\*/*\*/*\*/*\*/*\*/*\
    ;;  + - + - + -(+)- + - + - +
    ;;   \*/*\*/*\*/*\*/*\*/*\*/
    ;;    + - + - + - + - + - +
    ;;     \*/*\*/*\*/*\*/*\*/
    ;;      + - + - + - + - +
    ;;       \*/*\*/*\*/*\*/
    ;;        + - + - + - +
    ;;


parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       *
    ;; .   .   .   .   .   .   . - . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     * *          \
    ;;   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     *     S            \
    ;; .   .   .   .   . - + - + - + - +   .   . - . - . - .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                           * *    \w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .
    ;;                         * *   D   w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   . - + - + - + -(+)- + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        /w w w w w\w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   +   . - .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /w w/w w w w w w w w w\w w\
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    /w w/w w w w w w w w w w/w w/
    ;;   .   .   .   .   .   .   .   .   +   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                  /w w w\w w w w w w w w w w w/
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                /w w w w/*\w w w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   . - . - . - . - . - . - + - + - +   .   .   .   .   .   .   .   .
    ;;                              /w w w w/w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .
    ;;                            /w w w w/w w w w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                            \w w w w w w w w w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   . - + - + - +   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                              \w w w w w/     \w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   . - . - .   .   +   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                \w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                      \w w w w w w w w w w w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   + - + - +   .   .   .   .   .   +   .   .   .   .
    ;;                                              /w w w\         /w w w w w w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   + - +   .   .   .   .
    ;;                                              \w w w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   + - +   .   +   .   .   .
    ;;                                                      /w w w w w w w w w w w w/     \w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   + - +   .   .   .   .
    ;;                                                      \w w w w w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - +   .   .   .   .   .   .   .
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - +   +   + - +    [r]
    ;;      /*\*/*\     /*\*/*\
    ;; .   + -(+)- + - + - + - +
    ;;    /*\*/*\*/*\*/*\*/*\*/
    ;;   + - + - + - + - + - +
    ;;    \*/*\*/*\*/*\*/
    ;;     + - + - + - +
    ;;          \*/*\*/
    ;;           + - +
    ;;
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"

    "d": recording "data/maps/demo/recs/coin.fus"
    "D": recording "data/maps/demo/recs/coin_crouch.fus"
    "d": "data/maps/demo/vert.fus"
    "D": "data/maps/demo/vert.fus"

    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [M]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                      /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   ?   .   .   .   .   .   [C]
    ;;                                                    /
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          /           / \
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   + - +   .   .   .   .   ?   ?   .   .   .   .   .   .   [L][C]
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   .  (+)  ?   ?   ?   ?   .   + - +   .   .   .   .   .   .   .   .   . [c][c][c][c]
    ;;                                          \                           \
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   ?   ?   .   ?   ?   +   .   .   .   .   .   .   .   .        [c][c]  [D][C]
    ;;                                        \                             /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   ? - +   .   .   .   .   .   .   .   .   .       [c]      [D]
    ;;                                          \                     /
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                            \*/*           *\*/
    ;; .   .   .   .   .   .   .   .   .   .   .   + - +   ?   ?   +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                                  \  *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .      [L] [C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .       [L]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   [l]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                     w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                   w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [l]
    ;;                                       w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                 w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                 w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .    [M]
    ;;                                 w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                               w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   ?   .   .  (.)  .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .  [m]   [m]
    ;;                             w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                               w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                                   w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                                 w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                       w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - +    [r]
    ;;      /*\*/*\
    ;; .   + -(+)- +
    ;;      \*/*\*/
    ;;       + - +
    ;;
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [l]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .    [M]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .  (.)  .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .  [m]   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .    [l] [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - + - +   [r]
    ;;      /*\*/*\*/*\
    ;; .   + -(+)- + - +
    ;;      \*/*\*/*\*/
    ;;       + - + - +
    ;;        \*/*\*/
    ;;         + - +
    ;;
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c]
    ;;
    ;; .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .   [c][l][C][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                          /         \
    ;; .   .   .   .   .   .   .   .   .   .   +   ?   ?   + - + - +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   ?   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [c]
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   .  (?)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .     [r]
    ;;                                          \*/                   /     \
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   +   .   .   .   .   .   .   .   .         [c]
    ;;                                        \                       \     /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   ?   ?   + - +   .   .   .   .   .   .   .   .   .    [c]  [c][c]
    ;;                                          \                     /
    ;;   .   .   .   .   .   ?   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .    [c]
    ;;                                            \*/*           *\*/
    ;; .   .   .   .   .   .   ?   .   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                                  \  *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   ?   ?   .   .   .   .   .   .   .   .   .   .    [c][C][C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: "data/maps/wilderness/start.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (0 0)
        mapper: ("triple")
        submaps:

            ### START ###
            :
                # START
                file: "data/maps/wilderness/start.fus"
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (72 29)
                        rot: 0
                        turn: y
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-10, -6)) eval(rand(-10, 10)))
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(10, 12)) eval(rand(-10, 10)))
            :
                # BALL BELOW START
                file: "data/maps/wilderness/ball_md.fus"
                pos: (eval(rand(-10, 10)) eval(rand(-10, -6)))
                camera: (0 0)
            :
                # BALL ABOVE START
                file: "data/maps/wilderness/ball_md.fus"
                pos: (eval(rand(-10, 10)) eval(rand(6, 10)))
                camera: (0 0)
            :
                # BALL LEFT OF START #1
                file: "data/maps/wilderness/ball_lg.fus"
                pos: (eval(rand(-14, -10)) eval(rand(-10, 10)))
                camera: (0 0)
            :
                # BALL LEFT OF START #2
                file: "data/maps/wilderness/ball_sm.fus"
                pos: (eval(rand(-14, -10)) eval(rand(-10, 10)))
                camera: (0 0)

            ### RIGHT OF START ###
            :
                # TOP-RIGHT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(8, 12)) eval(rand(12, 16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # RIGHT
                file: "data/maps/wilderness/start5.fus"
                pos: (eval(rand(8, 12)) eval(rand(-2, 2)))
                camera: (0 0)
                submaps:
                    :
                        # UP
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-10, -14)))
                    :
                        # RIGHT
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(10, 14)) eval(rand(-4, 4)))
            :
                # BOTTOM-RIGHT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(8, 12)) eval(rand(-12, -16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # FAR RIGHT
                file: "data/maps/wilderness/watercorridor.fus"
                pos: (eval(rand(20, 24)) eval(rand(-4, 4)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (14 14)
                        camera: (0 0)
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (16 10)
                        camera: (0 0)

            ### LEFT OF START ###
            :
                # TOP
                file: "data/maps/wilderness/start3.fus"
                pos: (eval(rand(-4, 4)) eval(rand(16, 24)))
                camera: (0 0)
            :
                # TOP-LEFT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(-8, -12)) eval(rand(14, 16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # LEFT
                file: "data/maps/wilderness/start4.fus"
                pos: (eval(rand(-16, -20)) eval(rand(-2, 2)))
                camera: (0 0)
                submaps:
            :
                # BOTTOM-LEFT
                file: "data/maps/wilderness/start3.fus"
                pos: (eval(rand(-30, -25)) eval(rand(-24, -28)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (eval(rand(8, 12)) eval(rand(10, 14)))
            :
                # BOTTOM
                file: "data/maps/wilderness/watercorridor.fus"
                pos: (eval(rand(-12, -10)) eval(rand(-20, -24)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-10, 10)) eval(rand(-10, 10)))
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-10, 10)) eval(rand(-10, 10)))
collmap:
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)

collmap:
    # Size of the "house" in the middle: 8 x 8
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    /                       /
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;                                  /                       /
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                                        /
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                          /     \*/*\
    ;; .   .   .   .   .   .   .   .   .   .   +   .   + - + - + - +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   +  (+)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                    /     \*/                   /     \
    ;;   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;                                  /       /                     \     /
    ;; .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                /         \  S                  /
    ;;   .   .   .   .   .   .   .   +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                              /             \*/             \*/
    ;; .   .   .   .   .   .   .   +   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                  \  D      /
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;            +
    ;;           /
    ;;          +
    ;;         /
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c]
    ;;
    ;; .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .   [c][l][C][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                          /w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   +   ?   ?   + - + - +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                        /w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   ?   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [c]
    ;;                                        \w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .  (?)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .     [r]
    ;;                                         w\*/w w w w w w w w w w w w *\
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   . - +   .   .   .   .   .   .   .   .         [c]
    ;;                                        \w w w w w w w w w w w w w/*\*/
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   ?   ?   + - +   .   .   .   .   .   .   .   .   .    [c]  [c][c]
    ;;                                          \w w w w w w w w w w w/
    ;;   .   .   .   .   .   ?   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .    [c]
    ;;                                            \*/* w w w w w *\*/
    ;; .   .   .   .   .   .   ?   .   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                                  \w *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   ?   ?   .   .   .   .   .   .   .   .   .   .    [c][C][C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/maps/demo/recs/coin.fus"
    "C": recording "data/maps/demo/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              /w w w\
    ;; .   .   .   .   .   .   ?   .   .   .   .   +   .   +   .   .   .   .   ?   .   .   .   .   .   .   .   .   [l][L]
    ;;                                            /w w w w w
    ;;   .   .   .   .   .   .   .   ?   .   .   +   ?   .   .   .   ? - +   .   .   .   .   .   .   .   .   .   [C][c]  [r]
    ;;                                          /w w w w w w        /w w w\
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   .   +   .   +   .   .   .   .   .   .   .   .   .   [c]
    ;;                                        /w w w w w w w w w w w\w w w w
    ;;   .   .   .   .   .   .   ?   .   .   +   .   .   .   ?   .   +   ?   +   .   .   .   .   .   .   .   .     [M]  [c] [C]
    ;;                                        \w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .  (+)  .   +   .   ?   .   .   .   +   .   .   ?   .   .   .   .   .         [c] [m]
    ;;                                          \w w w w\w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   ?   +   .   +   .   .   .   .   .   .   .            [c]
    ;;                                            \w w w/w w w w          \w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   ?   + - +   .   .   .   .   .   .   .   .           [c]
    ;;                                               w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                \w w w w w w\
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   +   .   ?   +   .   .   + - +   .   .   .   .   .   .   .   [c][c]
    ;;                                                  \w w w w w/           /   /
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   + - + - +   .   .   + - +   ?   .   .   .   .   .   .        [C] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;          +
    ;;         /
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
loop: no
anim: "anim/death_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l: is was
    r:
data: "w1"
shapes:

    ##########
    # VERTEX #
    ##########

    "map_vert0":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 4

    "map_vert1":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 1
            : "tri" (0 0 0 0)  2 f eval: 1 + 8 + 2
            : "tri" (0 0 0 0)  4 f eval: 1 + 8 + 3
            : "tri" (0 0 0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 8 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 6


    "map_vert0_dark":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 4

    "map_vert0_bg":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 16 + 4

    ########
    # EDGE #
    ########

    "map_edge0":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 6

    "map_edge1":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 4
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 6
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 4

    "map_edge2":
        prismels:
            : "dia" (1 0 0  0)  0 f eval: 1 + 8 + 3
            : "dia" (1 0 0  0) 11 f eval: 1 + 8 + 3
            : "tri" (2 0 0  0) 11 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 3

    "map_edge0_dark":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 6

    "map_edge0_bg":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 16 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 16 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 16 + 6

    ########
    # FACE #
    ########

    "map_face0_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1

    "map_face0":
        shapes:
            : "map_face0_third" (1 1 1 0)  0 f
            : "map_face0_third" (1 1 1 0)  4 f
            : "map_face0_third" (1 1 1 0)  8 f

    "map_face1_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 4
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 4

    "map_face1":
        shapes:
            : "map_face1_third" (1 1 1 0)  0 f
            : "map_face1_third" (1 1 1 0)  4 f
            : "map_face1_third" (1 1 1 0)  8 f

    "map_face2_third":
        animation: oscillate 6
        prismels:
            : "sq"  (-1 0 1 0)  0 f eval(1 + 0 + 5) (2 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 5) (3 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 0 + 5) (3 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 5) (3 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 5) (4 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 5) (4 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (4 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 7) (5 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 7) (5 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (5 1)

    "map_face2":
        animation: oscillate 6
        shapes:
            : "map_face2_third" (1 1 1 0)  0 f  0+
            : "map_face2_third" (1 1 1 0)  4 f  0+
            : "map_face2_third" (1 1 1 0)  8 f  0+

    "map_face0_bg_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 16 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 16 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 +  0 + 1

    "map_face0_bg":
        shapes:
            : "map_face0_bg_third" (1 1 1 0)  0 f
            : "map_face0_bg_third" (1 1 1 0)  4 f
            : "map_face0_bg_third" (1 1 1 0)  8 f

    "map_face0_dark_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 +  0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 +  0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 +  0 + 2

    "map_face0_dark":
        shapes:
            : "map_face0_dark_third" (1 1 1 0)  0 f
            : "map_face0_dark_third" (1 1 1 0)  4 f
            : "map_face0_dark_third" (1 1 1 0)  8 f

    "map_savepoint_third":
        animation: oscillate 6
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 7) (0 3)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 7) (0 3)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (0 3)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 2) (3 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 2) (3 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 2) (3 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 2) (4 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 0 + 2) (4 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 0 + 2) (4 1)

    "map_savepoint":
        animation: cycle 12
        shapes:
            : "map_savepoint_third" (1 1 1 0)  0 f  0+
            : "map_savepoint_third" (1 1 1 0)  4 f  4+
            : "map_savepoint_third" (1 1 1 0)  8 f  8+

    "map_door_tri":
        animation: oscillate 6
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 3) (0 2)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 3) (2 1)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 1) (3 1)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 1) (4 2)

    "map_door_sq":
        animation: oscillate 6
        prismels:
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 8 + 3) (0 2)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 0 + 3) (2 1)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 8 + 1) (3 1)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 0 + 1) (4 2)

    "map_door_sixth":
        animation: cycle 12
        prismels:
            : "tri" ( 1 1 1 0) 10 f eval(1 + 8 + 4)
            : "tri" ( 1 1 1 0)  0 f eval(1 + 8 + 4)
            : "tri" ( 1 1 1 0)  2 f eval(1 + 8 + 4)
            #: "sq"  ( 2 1 0 0) 11 f eval(1 + 0 + 4)
            #: "sq"  ( 0 1 2 0)  0 f eval(1 + 0 + 4)
            #: "tri" ( 0 1 2 0)  3 f eval(1 + 0 + 4)
        shapes:
            : "map_door_tri" ( 0 0 0 0)  0 f 0+
            : "map_door_tri" ( 0 0 0 0)  2 f 0+
            : "map_door_tri" ( 0 0 0 0)  4 f 0+
            : "map_door_tri" ( 0 0 0 0)  6 f 0+
            : "map_door_tri" ( 0 0 0 0)  8 f 0+
            : "map_door_tri" ( 0 0 0 0) 10 f 0+

            : "map_door_sq"  ( 1 0 0 0)  1 f 1+
            : "map_door_tri" ( 0 0 1 0)  1 f 1+

            : "map_door_tri" ( 1 1 0 0)  0 f 2+
            : "map_door_tri" ( 1 1 0 0)  2 f 2+
            : "map_door_tri" ( 0 1 1 0)  0 f 2+
            : "map_door_sq"  ( 0 1 1 0)  2 f 2+

            #: "map_door_tri" ( 1 1 1 0) 10 f 3+
            #: "map_door_tri" ( 1 1 1 0)  0 f 3+
            #: "map_door_tri" ( 1 1 1 0)  2 f 3+
            ##: "map_door_sq"  ( 2 1 0 0) 11 f 3+
            ##: "map_door_sq"  ( 0 1 2 0)  0 f 3+
            ##: "map_door_tri" ( 0 1 2 0)  3 f 3+

    "map_door":
        animation: cycle 12
        shapes:
            : "map_door_sixth" (0 1 3 1)  0 f
            : "map_door_sixth" (0 1 3 1)  2 f
            : "map_door_sixth" (0 1 3 1)  4 f
            : "map_door_sixth" (0 1 3 1)  6 f
            : "map_door_sixth" (0 1 3 1)  8 f
            : "map_door_sixth" (0 1 3 1) 10 f

    "_map_water_sixth":
        animation: oscillate 6
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 1) (1 2)
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 3) (3 2)
            : "tri" (0 0 0 0)  0 f eval(1 + 8 + 1) (5 1)
            #: "tri" (0 0 0 0)  0 f eval(1 + 8 + 3) (4 1)
            #: "tri" (0 0 0 0)  0 f eval(1 + 8 + 7) (5 1)

    "_map_water":
        animation: cycle 12
        shapes:
            : "_map_water_sixth" (0 0 0 0)  0 f 0+
            : "_map_water_sixth" (0 0 0 0)  2 f 1+
            : "_map_water_sixth" (0 0 0 0)  4 f 2+
            : "_map_water_sixth" (0 0 0 0)  6 f 3+
            : "_map_water_sixth" (0 0 0 0)  8 f 4+
            : "_map_water_sixth" (0 0 0 0) 10 f 5+

    "map_water":
        animation: cycle 24
        shapes:
            : "_map_water" ( 1 1 1 0) 0 f  0 ( 0 2)
            : "_map_water" ( 1 1 1 0) 0 f  1 ( 2 2)
            : "_map_water" ( 1 1 1 0) 0 f  2 ( 4 2)
            : "_map_water" ( 1 1 1 0) 0 f  3 ( 6 2)
            : "_map_water" ( 1 1 1 0) 0 f  4 ( 8 2)
            : "_map_water" ( 1 1 1 0) 0 f  5 (10 2)
            : "_map_water" ( 1 1 1 0) 0 f  6 (12 2)
            : "_map_water" ( 1 1 1 0) 0 f  7 (14 2)
            : "_map_water" ( 1 1 1 0) 0 f  8 (16 2)
            : "_map_water" ( 1 1 1 0) 0 f  9 (18 2)
            : "_map_water" ( 1 1 1 0) 0 f 10 (20 2)
            : "_map_water" ( 1 1 1 0) 0 f 11 (22 2)

mappers:
    "test_map":
        solid
        unit: 3 2 0 -1
        entries:
            : "vert" -> "map_vert0"
            : "edge" -> "map_edge0"
            : "sq"   -> "empty"
            : "tri"  -> "map_face0"
            : "dia"  -> "empty"

collmap:
    ;;   + - + - + - + - + - + - + - + - + - +
    ;;    \                             /     \
    ;;     +               + - +       +       +
    ;;      \             /     \       \     /
    ;;       +           +       +   .   + - +
    ;;        \           \     /
    ;;         +           + - +               .   + - +
    ;;          \                                 /     \
    ;;           +           .      (+)- +       +       +
    ;;            \                 /     \       \     /
    ;;             +   + - +       +   .   +       + - +
    ;;              \ /     \       \     /
    ;;               +       +       + - +       .
    ;;                \     /
    ;;                 + - +   .               + - +
    ;;                                        /     \
    ;;                           + - +   .   +       +
    ;;                          /     \       \     /
    ;;                         +       +       + - +
    ;;                          \     /
    ;;                           +   +
    ;;                            \ /
    ;;                             +

default_vert: "1"
default_edge: "1"
default_face: "1"
collmap:
    ;;   + - + - +
    ;;  /         \
    ;; +      ( )  +
    ;;  \           \
    ;;   + - +   + - +
    ;;        \ /
    ;;         +

collmap:
    ;;                %*/*                                                             [111]
    ;;                %+ - +                                  %+ - +                   [111][121]
    ;;                                                             %\                  [2]
    ;;               .                                              %+                 [1]
    ;;
    ;;          %  +                                                   .               [1]
    ;;          %*/                                                                    [11]
    ;;          %+               + - + - +   .   + - + - +               .             [1]
    ;;                          /         \     /         \
    ;;             .           +           +   +           +               .
    ;;                        /           /     \         /
    ;;               .       +       + - +       + - + - +   +               .
    ;;                        \     /   /*\
    ;;                 .   .   + - +   + - +  %+       +       +               .         [1]
    ;;                                  \*/*\  %\                                        [1]
    ;;                   +               + - +  %+       + - + - +               .       [1]
    ;;                  / \             /*\*/  %/*\     /         \                      [111]
    ;; +               +   + - +   +   + - +  %+ - +   +   +       +             % +     [121]      [1]
    ;; *\             /       /     \ /*\*/    %\*/*\   \   \       \            %  \    [11211]    [2]
    ;; - + - +       +       +       + - +   .  %+ - +   +   +       +           %   +   [121]      [1]
    ;; */*\*          \       \                  %\*/   /   /    D  /            %  /    [111]      [2]
    ;;                 +       + - + - + -(+)- +  %+   +   + - + - +             % +     [1]        [1]
    ;; *\*/*            \     /         \*/*\*/*\     /         \*/
    ;; - + - +           + - +           + - + - + - +           +               .
    ;; */                                         \*/
    ;; +                   .                       +   +                       .
    ;;  \                                             /
    ;;   + - +   .   .   .   + - + - + - +   + - + - +                       .
    ;;                        \           \       \*/*\
    ;;                         +           +       + - + - +          %+ - +            [121]
    ;;                          \         /       /*\*/*\*/
    ;;                           + - + - +   .   + - + - +
    ;;
    ;;                                 .       .
    ;;
    ;;                               +       .
    ;;                              /
    ;;                             +       +
    ;;                             *\     /
    ;;                             - + - +
    ;;                               *\*/*

collmap:
    ;;
    ;; /*
    ;;  -(+)- +   .   + - +
    ;;  *   *           */*\
    ;;                      +
    ;;
    ;;                        + - +
    ;;                          *
collmap:
    ;;                           + - + - +   .   + - + - +
    ;;                          /       /       /         \
    ;;                         +   + - +       +           +
    ;;                        /   /     \       \           \
    ;;                       +   +   + - +       + - +   + - +                   +       + - +
    ;;                        \     /                 \ /                       / \           \
    ;;                     .   + - +                   +       .               + - +           +
    ;;                                                                                          \
    ;;                   +           +               .       + - +   .   + - + - +               +
    ;;                  / \                  S              /   / \       \       \             / \
    ;;                 +   + - +   .   + -(+)- +   .       +     - +       +       + - +   + - +   +
    ;;                /   /   /         \       \           \     / \       \     /     \   \ /
    ;;               +   +   +           +       +           +     - +       + - +       +   +
    ;;                \   \   \           \     /           /*    \ /                     \
    ;;                 +       +           + - +           + - +   +                       + - + - + - +
    ;;                  \     /                                 \*/                                     \
    ;;                   + - +               .                   +                                       +
    ;;
    ;;                     .       +           .       + - +   .
    ;;                            / \                 /     \
    ;;                       + - +   + - +       + - +   +   +
    ;;                        \      *\*/*\       \   \     /
    ;;                         +     - + - +       +   + - +
    ;;                          \    */*\*/       /       /
    ;;                           + - + - +   .   + - + - +
    ;;

collmap:
    ;;                           + - + - +   .   + - + - +
    ;;                          /       /       /         \
    ;;                         +       +       +           +
    ;;                        /         \       \           \
    ;;                       +       + - +       + - +   + - +
    ;;                        \     /                 \ /
    ;;                     .   + - +                   +       .
    ;;
    ;;                   +                           .       + - +
    ;;                  / \                                 /     \
    ;;                 +   + - +   .   .  (+)- +   .       +       +
    ;;                /       /           /     \           \       \
    ;;               +       +           +       +           +       +
    ;;                \       \           \     /           /       /
    ;;                 +       +           + - +           + - +   +
    ;;                  \     /                                 \ /
    ;;                   + - +               .                   +
    ;;
    ;;                     .       +           .       + - +   .
    ;;                            / \                 /     \
    ;;                       + - +   + - +       + - +       +
    ;;                        \           \       \         /
    ;;                         +           +       +       +
    ;;                          \         /       /       /
    ;;                           + - + - +   .   + - + - +
    ;;

collmap:
    ;;                 */*
    ;;                 + - +                                   + - +
    ;;                                                              \
    ;;               .                                               +
    ;;
    ;;             +                                                   .
    ;;           */
    ;;           +               + - + - +   .   + - + - +               .
    ;;                          /         \     /         \
    ;;             .           +           +   +           +               .
    ;;                        /           /     \         /
    ;;               .       +       + - +       + - + - +   +               .
    ;;                        \     /   /*\
    ;;                 .   .   + - +   + - +   +       +       +               .
    ;;                                  \*/*\   \
    ;;                   +               + - +   +       + - + - +               .
    ;;                  / \             /*\*/   /*\     /         \
    ;; +               +   + - +   +   + - +   + - +   +   +       +               +
    ;; *\             /       /     \ /*\*/     \*/*\   \   \       \               \
    ;; - + - +       +       +       + - +   .   + - +   +   +       +               +
    ;; */*\*          \       \                   \*/   /   /       /               /
    ;;                 +       + - + - + - + - +   +   +   + - +   +               +
    ;; *\*/*            \     /         \*/*\*/*\     /         \ /
    ;; - + - +           + - +           + - + - + - +           +               .
    ;; */                                         \*/
    ;; +                   .                       +   +                       .
    ;;  \                                             /
    ;;   + - +   .   .   .   + - + - + - +   + - + - +                       .
    ;;                        \           \       \*/*\
    ;;                         +           +       + - + - +           + - +
    ;;                          \         /       /*\*/*\*/
    ;;                           + - + - +   .   + - + - +
    ;;
    ;;                                 .       .
    ;;
    ;;                          (+)- +               + - +
    ;;                          /   /                     \
    ;;                         +   +       + - +           +
    ;;                          \   \     /     \
    ;;                           +   + - +       +       + - +
    ;;                          /       /         \     /     \
    ;;                         +       +           + - +   + - +
    ;;                          \     /                 \ /
    ;;                       .   + - +                   +       .
    ;;
    ;;                     +                          .        + - +
    ;;                    / \                                 /     \
    ;;                   +   + - +   .   .   + - +   .       +       +
    ;;                  /       /           /     \           \       \
    ;;                 +       +           +       +           +       +
    ;;                  \       \           \     /           /       /
    ;;                   +       +           + - +           + - +   +
    ;;                    \     /                                 \ /
    ;;                     + - +               .                   +
    ;;
    ;;                       .       +           .       + - +   .
    ;;                              / \                 /     \
    ;;                         + - +   + - +       + - +       +
    ;;                          \           \       \         /
    ;;                           +           +       +       +
    ;;                            \         /       /       /
    ;;                             + - + - +   .   + - + - +

unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/demo/pals/tunnels.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        file: "data/maps/test/map3.fus"
        pos: (0 0)
        camera: (0 4)
        mapper: ("triple")
        doors:
            :
                map: "data/maps/demo/worldmap.fus"
                pos: (40 60)
                rot: 0
                turn: n
        submaps:
            :
                file: "data/maps/test/map2.fus"
                pos: (1 10)
    :
        file: "data/maps/test/map2x.fus"
        pos: (15 12)
        camera: (1 8)
        mapper: ("double")
        submaps:
            :
                file: "data/maps/test/map3x.fus"
                pos: (1 10)
                doors:
                    :
                        map: "data/maps/test/worldmap_minimal.fus"
                        pos: (0 0)
                        rot: 0
                        turn: n
    :
        pos: (-1 -10)
        camera: (4 0)
        mapper: ("triple")
        recordings:
            : "data/maps/test/recs/rec010.fus"
            : "data/maps/test/recs/rec011.fus"
            : "data/maps/test/recs/rec012.fus"
            : "data/maps/test/recs/rec013.fus"
            : "data/maps/test/recs/rec014.fus"
            : "data/maps/test/recs/rec015.fus"
            : "data/maps/test/recs/rec016.fus"
            : "data/maps/test/recs/worldmap_bird_000.fus"
            : "data/maps/test/recs/worldmap_bird_001.fus"
        submaps:
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  0 + (-1 3) *  0
            :
                file: "data/maps/test/map1grid.fus"
                pos: eval: (8 2) *  0 + (-1 3) * -2
            :
                file: "data/maps/test/map1x.fus"
                pos: eval: (8 2) *  0 + (-1 3) * -4
                camera: (-1 -1)
                mapper: ("solid_curvy")
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  1 + (-1 3) *  0
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  1 + (-1 3) * -1


collmap:
    ;;                     + - +
    ;;                    /     \
    ;;       + - +       +       +
    ;;      /     \       \     /
    ;;     +       +   .   + - +
    ;;      \     /
    ;;       + - +               .   + - +
    ;;                              /     \
    ;;         .      (+)- +       +       +
    ;;                /     \       \     /
    ;;   + - +       +   .   +       + - +
    ;;  /     \       \     /
    ;; +       +       + - +       .
    ;;  \     /
    ;;   + - +   .               + - +
    ;;                          /     \
    ;;             + - +   .   +       +
    ;;            /     \       \     /
    ;;           +       +       + - +
    ;;            \     /
    ;;             + - +

collmap:
    ;;                     + - +               + - +
    ;;                    /     \             /
    ;;       + - +       + - +   +           +
    ;;      /     \         /   /
    ;;     +   +   +   .   + - +
    ;;      \ / \ /
    ;;       +   +               .   + - +
    ;;                                \   \
    ;;         .      (+)- +       + - +   +
    ;;                /*\*/*\       \     /
    ;;   + - +       + - + - +       + - +
    ;;  /     \       \*/* */
    ;; +   + - +       + - +       .               + - +
    ;;  \   \                                     / \*/*\
    ;;   + - +   .               + - +       + - +     - +
    ;;               S          / \*/ \       \      *\*/
    ;;             + - +   .   +   +   +       + - + - +
    ;;            /   /*\       \     /
    ;;   +       +   + - +       + - +
    ;;            \     /
    ;;             + - +

unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/demo/pals/water.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        file: "data/maps/test/map3.fus"
        pos: (0 0)
        camera: (0 4)
        mapper: ("triple")
        doors:
            :
                map: "data/maps/test/worldmap.fus"
                pos: (22 25)
                rot: 0
                turn: y
        recordings:
            : "data/maps/test/recs/worldmap_minimal_bird_000.fus"
            : "data/maps/test/recs/worldmap_minimal_bird_001.fus"
    :
        bg
        file: "data/maps/demo/end_text.fus"


parts:
    "c": "data/maps/test/bighex_corner.fus"

collmap:
    ;;                           + - + - +       .   . - .
    ;;                          /         \         /* * *\
    ;;                         +           +   .   .   ?   .            [c]
    ;;                        /           /         \* * */
    ;;                       +       + - +       .   . - .   .
    ;;                        \     /   /*\
    ;;                         + - +   + - +   +       .
    ;;                                  \*/*\   \
    ;;                   .               + - +   +       + - + - +
    ;;                                  /*\*/   /*\     /         \
    ;;                 .   .   .   +   + - +   + - +   +   +       +
    ;;                              \ /*\*/     \*/*\   \   \       \
    ;;               .   ?   .       + - +   .   + - +   +   +       +    [c^2]
    ;;                           D                \*/   /   /       /
    ;;                 .       + - + - + -(+)- +   +   +   + - +   +
    ;; *\*/*                            \*/*\*/*\     /         \ /
    ;; - + - +           .   .           + - + - + - +           +
    ;; */                                         \*/
    ;; +                                           +   .   .
    ;;  \
    ;;   + - +   .   .   .   + - + - + - +   + - +   .       .
    ;;                        \           \
    ;;                         +           +       .   ?   .             [c^4]
    ;;                          \         /
    ;;                           + - + - +       .   .   .
    ;;
anim: "anim/player.fus"
state: "crawl"
pos: ( 3 -26)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w85+r w6-r w174+l w6-l w30"
anim: "anim/bird.fus"
state: "crawl"
pos: ( 8 -25)
rot: 0
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w147-d w16+r w16-r w16+r w7-r w24+l w2-l w73+r w3-r w111+l w9-l w43+l w15-l w4+d w13"
anim: "anim/bird.fus"
state: "stand"
pos: ( 2 7)
rot: 0
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w46+r w11-r w44+l w2-l w30+l w11-l w38+r w2-r w5"
anim: "anim/player.fus"
state: "crawl"
pos: ( -3 -19)
rot: 3
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w25"
anim: "anim/player.fus"
state: "crawl"
pos: ( 1 -20)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w99+r w5-r w159+l w6-l w21"
anim: "anim/player.fus"
state: "crawl"
pos: ( -4 -14)
rot: 0
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w25"
anim: "anim/bird.fus"
state: "stand"
pos: ( 7 1)
rot: 4
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w17+l w1-l w47+l w2-l w37+r w3-r w41+r w2-r w19"
anim: "anim/bird.fus"
state: "crawl"
pos: ( 9 -5)
rot: 1
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w72-d w15+l w2-l w6+r w2-r w15+l w2-l w12+d w15+l w49-l w70-d w11+r w1-r w51+l w3-l w28+d w15+r w34-r w29"
anim: "anim/player.fus"
state: "crawl"
pos: ( 2 -12)
rot: 3
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w24"
anim: "anim/player.fus"
state: "crawl"
pos: ( 4 -14)
rot: 3
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w44"
anim: "anim/player.fus"
state: "crawl"
pos: ( -3 -21)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w43+r w3-r w46+l w2-l w81+r w1-r w9+l w3-l w38"
parts:
    "T": shape "txt_title"
    "a": shape "txt_new_game"
    "a": "data/maps/demo/vert.fus"
    "b": shape "txt_continue"
    "b": "data/maps/demo/vert.fus"
    "c": shape "txt_exit"
    "c": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [T]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       D                                                       D
    ;; .   .   .   ? - + - + - + - + - +   .   .   + -(+)- +   .   .   + - ? - + - + - + - + - + - +   .   .   .  [a]  [b]
    ;;            /                     \           \     /           /                             \
    ;;   .   .   +   .   .   .   .   .   +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   +   .   .
    ;;            \                       \                               \                         /
    ;; .   .   .   + - + - + - +   + - + - +   .   .   .   .   .   .   .   +   + - + - + - + - + - +   .   .   .
    ;;                          \ /                                         \ /
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        / \      D      / \
    ;;   .   .   .   .   .   .   .   + - ? - +   + - + - + - +   +   .   .   .   .   .   .   .   .   .   .   .       [c]
    ;;                                \                           \
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                  \                             /
    ;;   .   .   .   .   .   .   .   .   + - + - + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;              /
    ;; .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    /
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    \  D
    ;; .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: "data/maps/title/title.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (0 0)
        mapper: ("triple")
        submaps:
            :
                file: "data/maps/title/title.fus"
                doors:
                    :
                        new_game "data/maps/demo/worldmap.fus"
                    :
                        continue
                    :
                        exit
                    :
                        dud
parts:
    "t": "data/maps/trees/trunk.fus"
    "T": "data/maps/trees/trunkL.fus"
    "r": "data/maps/trees/trunk2.fus"
    "R": "data/maps/trees/trunk2L.fus"
collmap:
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                            /*\
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .
    ;;                                                                                            \*/*\*/*\*/
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;                      /* * * * * * * */
    ;;     .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              \* * */
    ;;   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "t": "data/maps/trees/trunk2_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk.fus"
    "T": "data/maps/trees/trunkL.fus"
    "r": "data/maps/trees/trunk2.fus"
    "R": "data/maps/trees/trunk2L.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;                                                                                                    /* * *\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   .
    ;;                                                                                              /*\ /* * * */
    ;;     .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - .    [R]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [R] [T]
    ;;                                                                      \* * * * * * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .   .   .   .
    ;;                                                                              /* */
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .
    ;;                                                                              \*/
    ;;   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   . [r]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [r]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [r]

collmap:
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;              .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 /
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 \
    ;;              .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 /*\
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                                                 \*/         \*/
    ;;              .   .   .   .   .   .   .   .   .   .   .   +   .   + - +   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                         /*\       \* *\     /* */
    ;;        + - +   .   .   .   .   .   .   .   .   .   .   +   + - +   + - +   +   + - +   .   .   .   .   .   .   .   .
    ;;       /*\*                                              \* * * *\         /* */
    ;;      + -     .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   +   .   .   .   .   .   .   .   .   .
    ;;       \*/*                                              /* * * * * * * * * */
    ;;  - .   + - .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;  * *\   \*/*\*/*                                      /* * * * * * * */
    ;;      .   + - + - +   .   .   .   .   .   .   .   .   + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;    */
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;              .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               \ /
    ;;            .   .   .   + - +   .   .   +   + - . - +   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       /*\*              \ /   / \   \ /         \ /
    ;;              .   .   +   .   .   .   + - . - +   + - . - +   + - . - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         / \   \ /   / \   \ /   / \
    ;;            .   .   .   .   .   .   .   +   + - . - +   + - . - +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               / \         / \
    ;;              .   +   .   .   .   .   .   .   +   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 /*
    ;;            .   + - .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 \*
    ;;              .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   +   .   .   .   +   .   .   .
    ;;                      /* * * * * * * */
    ;; .   .   .   .   .   +   .   .   .   +   .   .   .   .
    ;;                    /* * * * * * * */
    ;;   .   .   .   .   +   .   .   .   +   .   .   .   .
    ;;                  /* * * * * * * */
    ;; .   .   .   .  (+)  .   .   .   +   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .
    ;;                      /* * * * * * * * * * * */
    ;; .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .
    ;;                    /* * * * * * * * * * * */
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .
    ;;                  /* * * * * * * * * * * */
    ;; .   .   .   .  (+)  .   .   .   .   .   +   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   + - + - + - + - +   .   .   .
    ;;                      /*\*/*\*/*\*/*\*
    ;; .   .   .   .   .   + - + - + - + - +   .   .   .   .
    ;;                    /*\*/*\*/*\*/*\*
    ;;   .   .   .   .   + - + - + - + - +   .   .   .   .
    ;;                  /*\*/*\*/*\*/*\*
    ;; .   .   .   .  (+)- + - + - + - +   .   .   .   .   .
    ;;
parts:
    "t": "data/maps/trees/trunk_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk_bark.fus"
    "T": "data/maps/trees/trunkL_bark.fus"
    "r": "data/maps/trees/trunk2_bark.fus"
    "R": "data/maps/trees/trunk2L_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                                     *\*/*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - + - .   .
    ;;                                                                                               *\ /*\*/*\*
    ;;     .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [R]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [R] [T]
    ;;                                                                       */*\*/*\*/*\*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .
    ;;                                                                               *\*
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .
    ;;                                                                               *
    ;;   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [r]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [r]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [r]

collmap:
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                        *\*/*
    ;;          .   .   .   + - +   .   .   .   .   .   + - + - + - .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     /* */                               /*\*
    ;;            .   + - + - +   .   .   .   .   .   .   .   + - .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;               /   /                                   /*\*
    ;;          .   +   +   .   .   + - + - + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;             /   /           /* * * * * */
    ;;            +   +   + - + - +   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;           /   /   /* * * * * */
    ;;          +   +   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;         /   /
    ;;        +   +   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;       /   /           /* */
    ;;      + - +   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;              S      /* */
    ;;        + - + - +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;       /* * * */   /* */
    ;;      + - + - +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: (-1 0)
default_palette: "data/maps/trees/pals/realistic.fus"
default_tileset: "data/maps/trees/tilesets/trees.fus"

submaps:
    :
        pos: (0 0)
        camera: (12 0)
        mapper: ("triple")
        submaps:
            #:
            #    bg
            #    file: "data/maps/trees/start_bg_bark.fus"
            #    tileset: "data/maps/trees/tilesets/bark.fus"
            :
                bg
                file: "data/maps/trees/start_bg.fus"
                tileset: "data/maps/trees/tilesets/trees_dark.fus"
            :
                file: "data/maps/trees/start.fus"
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (36 -71)
                        rot: 0
                        turn: y
    :
        pos: (32 10)
        camera: (0 0)
        mapper: ("triple")
        submaps:
            :
                bg
                file: "data/maps/trees/start2_bg.fus"
                tileset: "data/maps/trees/tilesets/trees_dark.fus"
            :
                file: "data/maps/trees/start2.fus"
            :
                file: "data/maps/trees/start3.fus"
                pos: (5 5)
                camera: (6 6)
            :
                file: "data/maps/trees/start4.fus"
                pos: eval: (5 5) + (12 5)
                camera: (9 6)
            :
                file: "data/maps/trees/start5.fus"
                pos: eval: (5 5) + (11 14)
                camera: (6 6)
            :
                file: "data/maps/trees/start6.fus"
                pos: eval: (5 5) + (11 14) + (10 16)
                camera: (9 6)
            :
                file: "data/maps/trees/start7.fus"
                pos: eval: (5 5) + (12 5) + (22 3)
                camera: (6 6)
            :
                pos: eval: (5 5) + (12 5) + (22 3) + (23 8)
                submaps:
                    :
                        file: "data/maps/trees/bubbles.fus"
                        pos: (0 0)
                        camera: (10 0)
                    :
                        file: "data/maps/trees/bubbles2.fus"
                        pos: (25 7)
                        camera: (10 0)

parts:
    "t": "data/maps/trees/trunk.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk2.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               w\w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                             w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                             w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - + - +   .   .   .   .   .   .   .   .
    ;;                                               w w w\     /w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                             w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .
    ;;                                           w w w w w w w w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                         w w w w w w/         \w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   + - + - +   .   .   .   .   .   .
    ;;                                       w w w w w w w\         /w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   .   .   .   .   .
    ;;                                     w w w w w w w w/       /w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   +   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;             S                   w w w w w w w w w w w w w w w w w w w w w w w w w w/
    ;;   .   .  (+)- + - +   .   .   .   +   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .
    ;;          /       /              w/w w w w w w w w w w w w w w w w w w w w/
    ;; .   .   + - + - +   .   .   .   +   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;                                  \w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   + - + - +   .   .   .   +   .   .   .   .   .   .   .
    ;;                                    \w w w w w w w/         \w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   +   .   .   +   .   .   .   .   .   .   .   .
    ;;                                                              \w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /       /
    ;;   .   + - +   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;      /   /                               /* */                           /     \
    ;;     + - + - +   .   .   .   .   .   + - +   +   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;        /   /                       /* * * */
    ;;   .   + - + - +   .   .   .   + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /   /               /* * * * * */
    ;;     .   + - + - +   .   .   + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .
    ;;            /   /                       /       /                                           /       /
    ;;   .   .   + - +   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   .   + - +   .   +   .   .   .   .
    ;;                                                                          /* */       /           /
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   + - + - +   +   .   .   .   .
    ;;                                                                        /* */               /   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   +   .   .   .   + - +   .   .   .   .
    ;;       S                                              /* * * */       /* */
    ;;     + - +   .   + - +   .   .   + - +   .   .   + - +   .   +   .   + - +   .   .   .   .   .   .   .   .   .
    ;;    /   /       /* */           /   /           /* * * * * */
    ;;   + - +   + -(+)  +   .   .   + - +   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /* * * */
    ;;     .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   + - +   .   .   .   + - +
    ;;                                                      /* * * */                           /   /   /   /               /   /
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   + - +   + - +   .   + - +   + - +   .   .   .   +   +
    ;;                                                                    /   /   /   /                                   /   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - + - + - + - +   + - +   .   .   .   + - +   + - +
    ;;                                                  /* * * * * * * */   /   /   /   /   /   /               /   /   /
    ;;     .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - +   + - + - + - +   + - +   .   .   .   + - +   +
    ;;                                                                        /   /                                   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   +
    ;;                                                                                                              /
    ;;     .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +
    ;;         D      /                                                                                       /   /
    ;;   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;      /* * * */
    ;;     + - + - +

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;             S
    ;;   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /     \
    ;; .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          \     /
    ;;   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                 w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                 w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                   w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                 w w w              /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .
    ;;                   S                           w w w w w            \     /
    ;; .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                /     \                        w w w w w
    ;;   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                \     /
    ;; .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /     \
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \     /                            w w w w w
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                         w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                           w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .
    ;;                                                                                /* * *\
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .
    ;;                                                                                \* * */
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;
    ;;       + - +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - .   . - + - +
    ;;        \*/                               /*\                                                             /               /
    ;;     +   +   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +
    ;;    /*\                                                                                                                 /
    ;;   + - +   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    \*/                                         \*/                                                                   /
    ;;     +   +   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   . - +
    ;;        /*\                                                                                   \*/ \*/
    ;;       + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                                                                /*\
    ;;       .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                      /*\
    ;;         .   .   .   .   .   .   .   + - +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                          \*/                                         \
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;;                                                                                                        \
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .
    ;;                                                                                                        /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;;                                                                                                      /
    ;;         .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /*\             /*\
    ;;       .   .   .   .   + - +   .   .   .   .   + - +   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;                        \*/                                         \*/
    ;;         .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                     S                                      /*\
    ;;       .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                    \*/
    ;;         .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +
    ;;                                                                  /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - +
    ;;                                                                /       /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                                      /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                         S
    ;;       .   .   .   .   .   .   .   + - + - +   .   .   + - +   .   .   .   .   + - +
    ;;                                  /       /           /   /                   /   /
    ;;         .   .   .   .   .   .   +   .   +   .   .   + - +   .   .   .   .   +   +
    ;;                                /       /                                   /   /
    ;;       .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   +   +   + - +
    ;;                                                                  /   /   /   /   /   /
    ;;         .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   +   +   +   + - +
    ;;                                                /       /       /   /   /   /
    ;;       .   .   .   .   .   + - + - +   .   .   +   .   +   .   +   +   +   +
    ;;                          /       /           /       /       /   /   /   /
    ;;         .   .   .   .  (+)- + - +   .   .   + - + - +   .   + - +   +   +
    ;;                                                                    /   /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .
    ;;                                                                  /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;

collmap:
    ;;
    ;;          .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                                         /* */
    ;;            .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;
    ;;          .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   + - +   .   .
    ;;                                                       /* */
    ;;          .   .   .   .   .   .   .   + - +   .   + - +   +   .   .
    ;;                                     /* */       /* * * */
    ;;            .   .   .   .   .   .   +   +   .   + - + - +   .   .   .
    ;;                                   /* */
    ;;          .   + - +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          *\*/
    ;;          - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        *\*/
    ;;        - + - + - +   .   .   + - + - +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        */*\*                /* * * */   /* */
    ;;            .   .   .   .   + - + - +   + - +   .   .   .   .   .   .   + - .   .   .   .   .   .   .   .   .   .
    ;;                                                                    *\*/
    ;;          .   .   .   .   .   .   .   + - +   .   .   .   .   .   . - +   .   .   .   .   .   .   .   .   .
    ;;                                     /* */                        *\*/
    ;;            .   .   .   .   .   .   +   +   .   .   .   .   .   . - +   .   .   .   .   .   .   .   .   .   .
    ;;                                   /* */                          */*\         /
    ;;          .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   . - + - + - +   .   .   .   .   .   .   .   .
    ;;                                                                    */*\*/*\*
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   + - + - + - + - + - + - +   .   .   .
    ;;                      /*\*/*\*/*\*/*\*/*\*/*\*
    ;; .   .   .   .   .   + - + - + - + - + - + - +   .   .   .   .
    ;;                    /*\*/*\*/*\*/*\*/*\*/*\*
    ;;   .   .   .   .   + - + - + - + - + - + - +   .   .   .   .
    ;;                  /*\*/*\*/*\*/*\*/*\*/*\*
    ;; .   .   .   .  (+)- + - + - + - + - + - +   .   .   .   .   .
    ;;

colors:

    : animate: ((  15  30   0) 100) ((  0   0   0) 100)
    : animate: ((  30  40  50) 100) ((  0   0 127) 100)
    : animate: ((  40  70  30) 100) ((  0 127   0) 100)
    : animate: ((  30  60  60) 100) ((  0 127 127) 100)
    : animate:
        : ( 60  50  15)  50
        : ( 40  40   0)  50
        : (127   0   0) 100
    : animate: ((  50  40  20) 100) ((127   0 127) 100)
    : animate: ((  50  80  30) 100) ((127 127   0) 100)
    : animate: ((  70  80  70) 100) ((127 127 127) 100)

    : animate: ((  30  60   0) 100) (( 60  60  60) 100)
    : animate: ((  60  80 100) 100) (( 60  60 255) 100)
    : animate: ((  80 140 120) 100) (( 60 255  60) 100)
    : animate: ((  60 120 100) 100) (( 60 255 255) 100)
    : animate:
        : (120 100  30)  50
        : ( 80  80   0)  50
        : (255 120  60)  50
        : (255  60  60)  50
    : animate: (( 100  80  40) 100) ((255  60 255) 100)
    : animate: (( 100 160  60) 100) ((255 255  60) 100)
    : animate: (( 140 160 140) 100) ((255 255 255) 100)

    255:
      animate: ((  15  25   5) 100) ((  0   0   0) 100)

shapes:

    ##############
    # BARK FLAKE #
    ##############

    "bark_flake_center_c1":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 6

    "bark_flake_center_c2":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 5

    "bark_flake_center_c3":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 4

    "bark_flake_perimeter_c1":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 2
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 6
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 2
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 6
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 2

    "bark_flake_perimeter_c2":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 3
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 5
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 3
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 5
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 3

    "bark_flake_perimeter_c3":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 1
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 4
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 1
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 4
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 1


    ##########################
    # BARK_SIMPLE VERT, FACE #
    ##########################

    "bark_simple_vert_r0":
        shapes:
            : "bark_flake_center_c1" ( 0  0  0  0)  0 f
            : "bark_flake_perimeter_c1" ( 0  0  0  0)  0 f

    "bark_simple_face_r0":
        shapes:
            : "bark_flake_center_c1" ( 1  1  1  0)  0 f
            : "bark_flake_perimeter_c1" ( 1  1  1  0)  0 f

    "bark_simple_face_r1":
        shapes:
            : "bark_flake_center_c1" (-1  0  2  1)  0 f
            : "bark_flake_perimeter_c1" (-1  0  2  1)  0 f


    #########################
    # BARK VERT, EDGE, FACE #
    #########################

    "bark_vert_r0":
        shapes:
            : "bark_flake_center_c1" ( 0  0  0  0)  0 f

    "bark_edge_r0":
        shapes:
            : "bark_flake_perimeter_c1" ( 0  0  0  0)  0 f

    "bark_edge_r1":
        shapes:
            : "bark_flake_perimeter_c2" ( 1  1  1  0)  0 f

    "bark_edge_r2":
        shapes:
            : "bark_flake_perimeter_c3" (-1  0  2  1)  0 f

    "bark_face_r0":
        shapes:
            : "bark_flake_center_c2" ( 1  1  1  0)  0 f

    "bark_face_r1":
        shapes:
            : "bark_flake_center_c3" (-1  0  2  1)  0 f


verts:
    "0":
        "bark_simple_vert_r0"
edges:
    "0": "empty"
faces:
    "0":
        "bark_simple_face_r0"
        "bark_simple_face_r1"
    "S": "map_savepoint"

verts:
    "0": "map_vert0"
    "1": "map_vert1"
edges:
    "0": "map_edge0"
    "1": "map_edge1"
    "2": "map_edge2"
faces:
    "0": "map_face0"
    "1": "map_face1"
    "2": "map_face2"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"

verts:
    "0":
        "bark_vert_r0"
edges:
    "0":
        "bark_edge_r0"
        "bark_edge_r1"
        "bark_edge_r2"
faces:
    "0":
        "bark_face_r0"
        "bark_face_r1"
    "S": "map_savepoint"

verts:
    "0": "map_vert0_dark"
edges:
    "0": "map_edge0_dark"
faces:
    "0": "map_face0_dark"

start:
    if:
        coll: bodies any yes
            ;;
            ;;
            ;;        .   .
            ;;        *\*/*\*/*\
            ;; ( )  . - + - + - +
            ;;        */
            ;;        .   .   .   .
    then:
        play: "actor/guide/rec/start_to_start2.fus"
        goto: start2
    if() then:
        play: "actor/guide/rec/start.fus"

start2:
    if:
        coll: bodies any yes
            ;;   + - + - +
            ;;  /*\*/*\*/*\
            ;; + - + - + - + - + - +
            ;;  \*/*\*/*\*/*\*/*\*/*\
            ;;   + - + - + - + - + - +
            ;;    \*/*\*/*\*/*\*/*\*/
            ;;    (+)- + - + - + - +
    then:
        play: "actor/guide/rec/start2_to_start3.fus"
        goto: start3
    if() then:
        play: "actor/guide/rec/start2.fus"

start3:
    if:
        coll: bodies any yes
            ;;   + - + - + - + - +
            ;;  /*\*/*\*/*\*/*\*/*\
            ;; + - + - + - + - + - +
            ;;  \*/*\*/*\*/*\*/*\*/
            ;;  (+)- + - + - + - +
    then:
        play: "actor/guide/rec/start3_to_dodecas_0_0.fus"
        goto: dodecas_0_0
    if() then:
        play: "actor/guide/rec/start3.fus"

dodecas_0_0:
    if() then:
        play: "actor/guide/rec/dodecas_0_0.fus"
anim: "anim/player.fus"
state: "stand"
pos: ( 13 18)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w4+d w1+l w15-d w64-l w1+r w59-r w2+l w3-l w8"
anim: "anim/player.fus"
state: "stand"
pos: ( 27 30)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w18+r w37-r w23+l w2-l w26+r w11-r w49+r w27-r w48+l w5-l w38+u w4-u w16+r w11-r w4+l w2-l w9+u w3-u w14+l w3-l w30+l w7-l w11+r w2-r w12+u w3-u w9+d w2+r w10-r w9-d w5+r w33-r w31+l w9-l w12+u w20-u w3+l w42-l w16+l w2-l w5+u w3-u w42+d w9+l w12-l w16-d w27+r w7-r w44+d w5+l w17-l w13-d w29+r w23-r w17+r w9-r w1+l w3-l w77+r w1-r w31"
anim: "anim/player.fus"
state: "stand"
pos: ( 5 5)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w4+r w232-r w32+l w1-l"
anim: "anim/player.fus"
state: "stand"
pos: ( 37 -4)
rot: 5
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w58+l w6-l w82+r w23-r w94+l w33-l w3+r w4-r w85+r w13-r w17"
anim: "anim/player.fus"
state: "stand"
pos: ( 13 18)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w64+r w2-r w88+l w3-l w65"
anim: "anim/player.fus"
state: "stand"
pos: ( 5 5)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w10"
anim: "anim/player.fus"
state: "stand"
pos: ( 27 30)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w11"

projectile

fly:
    rgraph: "spit_fly"

    hitbox:
        ;;   .   .
        ;;   *\*/
        ;; . - +   .
        ;;
        ;;  ( )  .

    if:
        coll: any yes
            ;;   .   .
            ;;   *\*
            ;; .   .   .
            ;;
            ;;  ( )  .
    then:
        goto: dead
        delay: 11

    if:
        coll: all yes
            ;;   .   .
            ;;      /
            ;; .   .   .
            ;;
            ;;  ( )  .
    then:
        move: 2 1
        rot: 1

    if() then:
        move: 1 0

crouch_fly:
    rgraph: "spit_crouch_fly"

    hitbox:
        ;;    .
        ;;  */*\
        ;; ( )  .

    if:
        coll: any yes
            ;;    .   .
            ;;    *\*
            ;; ( )  .
    then:
        goto: crouch_dead
        delay: 11

    if:
        coll: all yes
            ;;    .   .
            ;;       /
            ;; ( )  .
    then:
        move: 1 0
        rot: 1

    if() then:
        move: 1 0

dead:
    rgraph: "spit_dead"
    if() then: die

crouch_dead:
    rgraph: "spit_crouch_dead"
    if() then: die





##############################
# UNUSED:
crouch_fly_bouncy:
    rgraph: "spit_crouch_fly"

    hitbox:
        ;;    .
        ;;    *
        ;; ( )  .


    if:
        coll: all yes
            ;;    .
            ;;     \
            ;; ( )  .
    then:
        move: 1 1
        rot: 2
        turn

    if:
        coll: any yes
            ;;    .
            ;;    *
            ;; ( )  .
    then:
        goto: dead

    if() then:
        move: 1 1
        rot: 3
        turn

import "anim/player_crawl.fus"
import "anim/player_swim.fus"

stand:
    rgraph: "player_stand"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "fly" (0 0) 0 f
        goto: spit
        delay: 9

    if:
        key: isdown d
    then:
        goto: crawl
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        key: wasdown x
        key: wasdown u
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;
            ;;
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if:
        key: wasdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*/*
            ;; ( )    - + -
            ;;        */*\*
    then:
        move: 1 0
        rot: -1
        goto: step_down
        delay: 2

    if:
        key: isdown f
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: step
        delay: 2

    if:
        key: isdown x
    then:
        goto: look_up

look_up:
    rgraph: "player_look_up"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: looking_up

looking_up:
    rgraph: "player_looking_up"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "fly" (1 0) 1 f
        goto: looking_up_spit
        delay: 9

    if:
        key: wasdown u
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;
            ;;
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if: key: isdown f
    then: goto immediate: stand

    if: key: isdown b
    then: goto immediate: stand

    if:
        key: isdown d
    then:
        goto: crawl_looking_up
        delay: 2

    if: key: not isdown x
    then: goto: stand

spit:
    rgraph: "player_spit"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

looking_up_spit:
    rgraph: "player_looking_up_spit"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: looking_up

start_jump:
    if:
        coll: water any yes
            ;;   .   .
            ;;   *\*/*
            ;; . - + - .
            ;;   */*\*
            ;;  (.)  .
    then:
        goto: swim_jump
        delay: 4

    if() then:
        goto: jump
        delay: 2

jump:
    # NOTE: the only "goto: jump" is in "start_jump", which checks whether
    # we're in water, and does "goto: jump" or "goto: swim_jump"
    # accordingly.
    # Therefore, if we're in "jump", then we can safely assume we're not in
    # water without checking.

    rgraph: "player_jump"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        coll: all yes
            ;; ( )  +
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if:
        key: not isdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
        coll: all yes
            ;; ( )  + - +
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if() then:
        goto: mostly_dead
        delay: 11

step_down:
    rgraph: "player_step"
    hitbox:
        ;;   .   .   .
        ;;   *\*/*\*/*
        ;; . - + - + - .
        ;;   */*\*/*\*
        ;;   .  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "fly" (0 0) 0 f
        goto: spit
        delay: 9

    if() then: goto: stand

step:
    rgraph: "player_step"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "fly" (0 0) 0 f
        goto: spit
        delay: 9

    if() then: goto: stand

mostly_dead:
    rgraph: "player_dead"
    unsafe
    if() then: die mostly

dead:
    rgraph: "player_dead"
    unsafe
    if() then: die


stand:
    rgraph: "big_roller"
    crushes
    hitbox:
        ;;      .
        ;;      *
        ;;    . - .
        ;;    *\*/*
        ;; ( )  .   .

    if:
        key: wasdown u
        coll: all yes
            ;;      .   .   +
            ;;
            ;;    .   .   .
            ;;
            ;; ( )  .   .
        coll: all no
            ;;      .   .   .
            ;;       \*/*\*
            ;;    .   + - .
            ;;         \*
            ;; ( )  .   .
    then:
        move: 4 2
        rot: 3
        goto: grab
        delay: 1

    if:
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  .   +
    then:
        move: 2 0
        turn
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all no
            ;; ( )- + -
            ;;    */*\*
            ;;      -
    then:
        rot: -1
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  .   +
    then:
        move: 2 0
        turn
        delay: 1

    if:
        key: not isdown d
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;      +
            ;;
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 2
        rot: 2
        turn
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all no
            ;; /*\*/
            ;;  - +
            ;;  */
            ;; ( )
    then:
        rot: 1
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;      +
            ;;
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 2
        rot: 2
        turn
        delay: 1

grab:
    rgraph: "big_roller_grab"
    crushes
    hitbox:
        ;;      .   .   .
        ;;      *\*/*\*
        ;;    . - + - .
        ;;    *\*/*\*
        ;; ( )  .   .

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

swim_spit:
    rgraph: "player_swim_spit"
    unsafe
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: swim

swim_jump:
    # NOTE: the only "goto: swim_jump" is in "swim_jump", which checks
    # whether we're in water, and does "goto: jump" or "goto: swim_jump"
    # accordingly.
    # Therefore, if we're in "swim_jump", then we can safely assume we're in
    # water without checking.

    rgraph: "player_swim_jump"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: not isdown u
        key: isdown f
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: any yes
            ;;       \
            ;;        +
            ;;
            ;; ( )
        coll: all no
            ;;
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        move: 0 0
        rot: -1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if() then:
        goto immediate: swim

swim:
    rgraph: "player_swim"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "fly" (0 0) 0 f
        goto: swim_spit
        delay: 9

    if:
        key: not isdown u
        key: isdown f
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: any yes
            ;;       \
            ;;        +
            ;;
            ;; ( )
        coll: all no
            ;;
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        move: 0 0
        rot: -1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        delay: 2

    if:
        coll: all yes
            ;; (+)- +
    then:
        goto: stand
        delay: 2

stand:
    rgraph: "roller2"

    #    + - +
    #   /   /
    # (+)- +

    if:
        key: isdown u
        coll: all yes
            ;;        +
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 3
        goto: grab
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: stand_flipped
        delay: 1

    if:
        key: isdown u
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  .   +
        coll: all no
            ;;    *\*/*
            ;; ( )
    then:
        move: 2 0
        rot: 2
        goto: grab
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        rot: -1
        delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 2
        delay: 1


stand_flipped:
    rgraph: "roller2_flipped"

    # + - +
    #  \   \
    #  (+)- +

    if:
        key: isdown d
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        rot: 2
        goto: stand
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 1
        delay: 1

grab:
    rgraph: "roller2"

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

collectible

stand:
    rgraph: "coin"
    hitbox:
        ;;  (+)

crouch:
    rgraph: "coin_crouch"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .

dead:
    rgraph: "coin_dead"

stand:
    rgraph: "water_roller"

    if:
        key: wasdown u
        coll: all yes
            ;;    .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;    .   .
            ;;
            ;; ( )  .
    then:
        move: 2 1
        rot: 3
        goto: grab
        delay: 1

    if:
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all no
            ;; ( )  .
            ;;
            ;;    .
    then:
        rot: -1
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown d
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all no
            ;; .   .
            ;;
            ;;  ( )
    then:
        rot: 1
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

grab:
    rgraph: "water_roller_grab"

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

stand:
    rgraph: "death_roller"
    crushes
    hitbox:
        ;;    .
        ;;    *
        ;; (.)  .

    if:
        key: wasdown u
        coll: all yes
            ;;    .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;    .
            ;;     \*
            ;; ( )  .
    then:
        move: 2 1
        rot: 3
        goto: grab
        delay: 1

    if:
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown d
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all no
            ;;  */
            ;; ( )
    then:
        rot: 1
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

grab:
    rgraph: "death_roller_grab"
    crushes
    hitbox:
        ;;    .   .
        ;;    *\*
        ;; (.)  .

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

dead:
    rgraph: "player_dead"
    if() then: die

born:
    rgraph: "flier_born"

    if:
        coll: all no
            ;;  *\*/*
            ;;  -(+)-
            ;;  */*\*
    then:
        goto: hover

    if:
        key: wasdown b
        key: not wasdown f
    then:
        rot: 1
        move: 1 0
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
    then:
        rot: -1
        move: 1 0
        delay: 1

    if:
        key: wasdown u
    then:
        move: 1 0
        delay: 1

hover:
    rgraph: "flier"

    if:
        key: wasdown b
        key: not wasdown f
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;     \*
            ;; ( )
    then:
        rot: 1
        move: 1 0
        goto: fly
        delay: 1

    if:
        key: wasdown b
        key: not wasdown f
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        rot: 1
        goto: fly
        delay: 1

    if:
        key: wasdown b
        key: not wasdown f
    then:
        rot: 1
        goto: fly
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
        coll: all no
            ;; ( )
            ;;     /*
            ;;  - + -
            ;;  */*\*
    then:
        rot: -1
        move: 1 0
        goto: fly
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        rot: -1
        goto: fly
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
    then:
        rot: -1
        goto: fly
        delay: 1

    if:
        key: wasdown u
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        goto: fly
        delay: 0

fly:
    rgraph: "flier_fly"
    if:
    then:
        goto: hover


# Version of the bird which can step over single edges, but whose
# legs are blocked by faces.

stand:
    rgraph: "bird_stand"

    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: isdown d
    then:
        goto: crawl
        delay: 3

    if:
        key: isdown f
    then:
        goto: step
        delay: 1

    if:
        key: isdown b
    then:
        goto: turn
        delay: 1

turn:
    rgraph: "bird_turn"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then:
        move: 1 0
        turn
        goto: turn_arrive
        delay: 1

step:
    rgraph: "bird_step"

    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        # Turned off for now (with false)... I think I prefer it so
        # tapping f attempts a full step.
        false
        key: not isdown f
    then:
        goto: step_rev
        delay: 2

    if:
        coll: all yes
            ;;              +
            ;;
            ;;        .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;         .   .
            ;;         *\*/*
            ;;   .   . - + - .
            ;;         */*\*
            ;; .   .   .   .
            ;;
            ;;  (.)  .
    then:
        move: 3 1
        rot: 1
        goto: step_rot_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  .
            ;;
            ;;        +   +
        coll: all no
            ;;       /*\*/*
            ;;      + - + - .
            ;;       \*/*\*
            ;;        . - .
            ;;        *\*/*
            ;; ( )  . - + - .
            ;;        */*\*
            ;;        .   .
    then:
        move: 1 -1
        goto: step_down_arrive
        delay: 2

    if:
        coll: all yes
            ;;        +   +
            ;;
            ;; ( )  .
        coll: all no
            ;;        *\*/*
            ;;      . - + - .
            ;;       \*/*\*
            ;;        + - .
            ;;       /*\*/*
            ;;      . - + - .
            ;;        */*\*
            ;;        .   .
            ;;
            ;; ( )  .
    then:
        move: 2 1
        goto: step_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  .
            ;;
            ;;        +
        coll: all no
            ;;       /*\*/*
            ;;      + - + -
            ;;       \*/*\*/*\*/*
            ;;        . - + - + -
            ;;        *\*/*\*/*\*
            ;; ( )  . - + - .
            ;;        */*\*
            ;;        .   .
    then:
        move: 1 0
        rot: -1
        goto: step_rot_down_arrive
        delay: 2

    if() then:
        goto: step_rev
        delay: 2

turn_arrive:
    rgraph: "bird_turn_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rev:
    rgraph: "bird_step_rev"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rot_up_arrive:
    rgraph: "bird_step_rot_up_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_down_arrive:
    rgraph: "bird_step_down_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_up_arrive:
    rgraph: "bird_step_up_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rot_down_arrive:
    rgraph: "bird_step_rot_down_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

crawl:
    rgraph: "bird_crawl"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: not isdown d
        coll: all no
            ;;   *\*/*
            ;; . - + - .
            ;;   */ \*
            ;;   . - .
            ;;
            ;; .   .   .
            ;;
            ;;  ( )
    then:
        delay: 2
        goto: stand

    if:
        key: isdown f
        coll: all yes
            ;;        +
            ;;
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +   +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;
            ;;        +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*/*
            ;; ( )    - + -
            ;;        */*\*
    then:
        move: 1 0
        rot: -1
        delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        delay: 2



dead:
    rgraph: "player_dead"
    if() then: die

crawl_looking_up:
    rgraph: "player_crawl_looking_up"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "crouch_fly" (1 0) 1 f
        goto: crawl_looking_up_spit
        delay: 9

    if:
        key: not isdown d
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;  */ \*
            ;; ( )
    then:
        goto: looking_up
        delay: 3

    if: key: isdown f
    then: goto immediate: crawl

    if: key: isdown b
    then: goto immediate: crawl

    if: key: not isdown x
    then: goto: crawl

crawl_spit:
    rgraph: "player_crawl_spit"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    if() then: goto: crawl

crawl_looking_up_spit:
    rgraph: "player_crawl_looking_up_spit"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    if() then: goto: crawl_looking_up

crawl:
    rgraph: "player_crawl"

    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    if:
        key: not isdown d
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;  */ \*
            ;; ( )
    then:
        goto: stand
        delay: 3

    if:
        key: isdown f
        coll: all no
            ;;     \*
            ;; ( )
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;     \*/*
            ;; (.)  .
    then:
        move: 1 0
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;     \*/*
            ;; (.)  . -
            ;;        *
    then:
        move: 1 0
        rot: -1
        goto: crawl_step_down
        delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: crawl_step
        delay: 2

    if:
        key: not isdown f
        key: isdown x
    then:
        goto: crawl_look_up

crawl_look_up:
    rgraph: "player_crawl_look_up"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    if() then: goto: crawl_looking_up

crawl_step_down:
    rgraph: "player_crawl_step"
    hitbox:
        ;;    .   .
        ;;    *\*/*
        ;;  . -(.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    if() then: goto: crawl

crawl_step:
    rgraph: "player_crawl_step"
    hitbox:
        ;;    .   .
        ;;      */*
        ;;     (.)  .

    if:
        key: wentdown y
    then:
        spawn: "anim/spit.fus" "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    if() then: goto: crawl

stand:
    rgraph: "roller3"

    if:
        key: isdown d
    then:
        goto: crawl
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        key: wasdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: jump
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*/*
            ;; ( )    - + -
            ;;        */*\*
    then:
        move: 1 0
        rot: -1
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto: jump
        delay: 2

    if:
        key: isdown f
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: jump
        delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: step
        delay: 2

jump:
    rgraph: "roller3"

    if:
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        coll: all yes
            ;; ( )  +
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto: jump
        delay: 2

    if:
        key: not isdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
        coll: all yes
            ;; ( )  + - +
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: jump
        delay: 2

    if:
    then:
        goto: dead
        delay: 11

step:
    rgraph: "roller3"
    if:
    then:
        goto: stand

crawl:
    rgraph: "roller3"

    if:
        key: not isdown d
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;  */ \*
            ;; ( )
    then:
        goto: stand
        delay: 2

    if:
        key: isdown f
        coll: all no
            ;;     \
            ;; ( )
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;     \*/*
            ;; (.)  .
    then:
        move: 1 0
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;     \*/*
            ;; (.)  . -
            ;;        *
    then:
        move: 1 0
        rot: -1
        goto: crawl_step
        delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: crawl_step
        delay: 2

crawl_step:
    rgraph: "roller3"
    if:
    then:
        goto: crawl

dead:
    rgraph: "player_dead"



test:
    rgraph: "roller3"

    if: key: isdown f
    then:
        move: 1 0
        delay: 2

    if: key: isdown b
    then:
        move: 1 0
        turn
        delay: 2

    if: key: wasdown u
    then:
        move: 1 0
        rot: 1
        delay: 2

    if: key: wasdown d
    then:
        rot: -1
        move: -1 0
        delay: 2

stand:
    rgraph: "bird_stand"

    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: isdown d
    then:
        goto: crawl
        delay: 3

    if:
        key: isdown f
    then:
        goto: step
        delay: 1

    if:
        key: isdown b
    then:
        goto: turn
        delay: 1

turn:
    rgraph: "bird_turn"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then:
        move: 1 0
        turn
        goto: turn_arrive
        delay: 1

step:
    rgraph: "bird_step"

    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        # Turned off for now (with false)... I think I prefer it so
        # tapping f attempts a full step.
        false
        key: not isdown f
    then:
        goto: step_rev
        delay: 2

    if:
        coll: all yes
            ;;              +
            ;;
            ;;        .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;         .   .
            ;;
            ;;   .   +   .   .
            ;;        \
            ;; .   .   .   .
            ;;
            ;;  (.)  .
    then:
        move: 3 1
        rot: 1
        goto: step_rot_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  .
            ;;
            ;;        +   +
        coll: all no
            ;;       /*\*/*
            ;;      + - + -
            ;;       \*/*\*
            ;;        +
            ;;       /
            ;; ( )  .
    then:
        move: 1 -1
        goto: step_down_arrive
        delay: 2

    if:
        coll: all yes
            ;;        +   +
            ;;
            ;; ( )  .
        coll: all no
            ;;        *\*/*
            ;;      . - + -
            ;;       \*/*\*
            ;;        +
            ;;       /
            ;;      +
            ;;       \
            ;;        .
            ;;
            ;; ( )  .
    then:
        move: 2 1
        goto: step_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  .
            ;;
            ;;        +
        coll: all no
            ;;       /*\*/*
            ;;      + - + -
            ;;       \*/*\*/*\*/*
            ;;        + - + - + -
            ;;       /     \*/*\*
            ;; ( )  .
    then:
        move: 1 0
        rot: -1
        goto: step_rot_down_arrive
        delay: 2

    if() then:
        goto: step_rev
        delay: 2

turn_arrive:
    rgraph: "bird_turn_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rev:
    rgraph: "bird_step_rev"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rot_up_arrive:
    rgraph: "bird_step_rot_up_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_down_arrive:
    rgraph: "bird_step_down_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_up_arrive:
    rgraph: "bird_step_up_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

step_rot_down_arrive:
    rgraph: "bird_step_rot_down_arrive"
    crushes
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

crawl:
    rgraph: "bird_crawl"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: not isdown d
        coll: all no
            ;;   *\*/*
            ;; . - + - .
            ;;   */ \*
            ;;   . - .
            ;;
            ;; .   .   .
            ;;
            ;;  ( )
    then:
        delay: 2
        goto: stand

    if:
        key: isdown f
        coll: all yes
            ;;        +
            ;;
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +   +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;
            ;;        +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*/*
            ;; ( )    - + -
            ;;        */*\*
    then:
        move: 1 0
        rot: -1
        delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        delay: 2



dead:
    rgraph: "player_dead"
    if() then: die

stand:
    rgraph: "roller"
    hitbox:
        ;;    .
        ;;    *
        ;; (.)  .

    if:
        key: wasdown u
        coll: all yes
            ;;    .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;    .
            ;;     \*
            ;; ( )  .
    then:
        move: 2 1
        rot: 3
        goto: grab
        delay: 1

    if:
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        turn
        delay: 1

    if:
        key: not isdown d
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all no
            ;;  */
            ;; ( )
    then:
        rot: 1
        delay: 1

    if:
        key: not isdown f
        key: isdown b
        coll: all yes
            ;;    +
            ;;
            ;; ( )
    then:
        move: 1 1
        rot: 2
        turn
        delay: 1

grab:
    rgraph: "roller_grab"
    hitbox:
        ;;    .   .
        ;;    *\*
        ;; (.)  .

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

dead:
    rgraph: "player_dead"
    if() then: die
