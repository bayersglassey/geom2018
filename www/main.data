
# Expected vars:
# PLAYER_HEAD (str), e.g. "player_head"
# NS (str), e.g. "player_", ""

shapes:

    $PREFIX NS "flier_head":
        shapes:
            : $GET_STR PLAYER_HEAD (0 0 0 0) 0 f
            #$IF PLAYER_FLIER:
            #    : $PREFIX NS "bleg"  ( 0  0 -2  0) -2 f 0
            #    : $PREFIX NS "bleg"  ( 2  0 -2  0) -1 f 0

    $PREFIX NS "flier":
        shapes:
            : $PREFIX NS "flier_head" (0 0 0 0) 0 f

    $PREFIX NS "flier_fly":
        animation: cycle 3
        shapes:
            : $PREFIX NS "flier_head" (-2 0 0 0) 0 f  0 (0 1)
            : $PREFIX NS "flier_head" (-1 0 0 0) 0 f  0 (1 1)
            : $PREFIX NS "flier_head" ( 0 0 0 0) 0 f  0 (2 1)


shapes:
    "l.red_sq": shapes: : "sq" (0 0 0 0) 0 f "l.red"
    "l.red_tri": shapes: : "tri" (0 0 0 0) 0 f "l.red"
    "l.red_dia": shapes: : "dia" (0 0 0 0) 0 f "l.red"
    "l.blu_sq": shapes: : "sq" (0 0 0 0) 0 f "l.blu"
    "l.blu_tri": shapes: : "tri" (0 0 0 0) 0 f "l.blu"
    "l.blu_dia": shapes: : "dia" (0 0 0 0) 0 f "l.blu"
    "red_curvy_sq": shapes: : "curvy_sq" (0 0 0 0) 0 f "red"
    "red_curvy_tri": shapes: : "curvy_tri" (0 0 0 0) 0 f "red"
    "red_curvy_dia": shapes: : "curvy_dia" (0 0 0 0) 0 f "red"
    "red_double_sq": shapes: : "double_sq" (0 0 0 0) 0 f "red"
    "red_double_tri": shapes: : "double_tri" (0 0 0 0) 0 f "red"
    "red_double_dia": shapes: : "double_dia" (0 0 0 0) 0 f "red"
    "l.blu_double_sq": shapes: : "double_sq" (0 0 0 0) 0 f "l.blu"
    "l.blu_double_tri": shapes: : "double_tri" (0 0 0 0) 0 f "l.blu"
    "l.blu_double_dia": shapes: : "double_dia" (0 0 0 0) 0 f "l.blu"

mappers:

    "single":
        # This is a hack which allows test_app->camera_mapper to be set to "single"
        # to achieve a zoomout effect...
        solid
        unit: 1 0 0 0
        entries:
            : "sq" -> "sq"
            : "tri" -> "tri"
            : "dia" -> "dia"

    "l.red":
        unit: 1 0 0 0
        entries:
            : "sq" -> "l.red_sq"
            : "tri" -> "l.red_tri"
            : "dia" -> "l.red_dia"

    "l.blu":
        unit: 1 0 0 0
        entries:
            : "sq" -> "l.blu_sq"
            : "tri" -> "l.blu_tri"
            : "dia" -> "l.blu_dia"

    "red_curvy":
        unit: 2 4 0 -2
        entries:
            : "sq" -> "red_curvy_sq"
            : "tri" -> "red_curvy_tri"
            : "dia" -> "red_curvy_dia"

    "red_double":
        unit: 2 0 0 0
        entries:
            : "sq" -> "red_double_sq"
            : "tri" -> "red_double_tri"
            : "dia" -> "red_double_dia"

    "l.blu_double":
        unit: 2 0 0 0
        entries:
            : "sq" -> "l.blu_double_sq"
            : "tri" -> "l.blu_double_tri"
            : "dia" -> "l.blu_double_dia"

    "double_curvy": map ("double") ("curvy")
    "curvy_double": map ("curvy") ("double")
    "curvy_curvy": map ("curvy") ("curvy")

    "double_curvy_curvy": map ("double") ("curvy_curvy")
    "curvy_double_curvy": map ("curvy") ("double_curvy")

    "double_double_curvy_curvy": map ("double") ("double_curvy_curvy")
    "double_curvy_double_curvy": map ("double") ("curvy_double_curvy")

shapes:

    "double_dodeca_anim": map ("double") ("dodeca_anim")
    "curvy_dodeca_anim": map ("curvy") ("dodeca_anim")
    "double_dodeca_B": map ("double") ("dodeca_B")
    "curvy_dodeca_B": map ("curvy") ("dodeca_B")

    "double_double_dodeca_anim": map ("double") ("double_dodeca_anim")
    "double_curvy_dodeca_anim": map ("double") ("curvy_dodeca_anim")
    "curvy_double_dodeca_anim": map ("curvy") ("double_dodeca_anim")
    "curvy_curvy_dodeca_anim": map ("curvy") ("curvy_dodeca_anim")

    "double_double_dodeca_B": map ("double") ("double_dodeca_B")
    "double_curvy_dodeca_B": map ("double_curvy") ("dodeca_B")
    "curvy_double_dodeca_B": map ("curvy_double") ("double_dodeca_B")
    "curvy_curvy_dodeca_B": map ("curvy_curvy") ("dodeca_B")

    "double_curvy_curvy_dodeca_anim": map ("double_curvy_curvy") ("dodeca_anim")
    "curvy_double_curvy_dodeca_anim": map ("curvy_double_curvy") ("dodeca_anim")

    "double_curvy_curvy_dodeca_B": map ("double_curvy_curvy") ("dodeca_B")
    "curvy_double_curvy_dodeca_B": map ("curvy_double_curvy") ("dodeca_B")

    "double_double_curvy_curvy_dodeca_B": map ("double_double_curvy_curvy") ("dodeca_B")
    "double_curvy_double_curvy_dodeca_B": map ("double_curvy_double_curvy") ("dodeca_B")

    "red_curvy_dodeca_anim": map ("red_curvy") ("dodeca_anim")

    "l.blu_double_curvy_dodeca_anim":
        animation: cycle 12
        shapes:
            : "double_curvy_dodeca_anim" (0 0 0 0)  0 f "l.blu"

    "palmap_grid":
        shapes:
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 0) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 1) 0 f "cycle1"
            : "curvy_sq" eval((2 4 0 -2) * 0 + (-2 0 4 2) * 2) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 0) 0 f "cycle1"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 1) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 1 + (-2 0 4 2) * 2) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 0) 0 f "cycle2"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 1) 0 f "cycle0"
            : "curvy_sq" eval((2 4 0 -2) * 2 + (-2 0 4 2) * 2) 0 f "cycle1"

shapes:

    ##########
    # DOUBLE #
    ##########

    "double_sq":
        prismels:
            : "sq"  (0 0 0 0)  0 f eval: 1 + 1
            : "sq"  (1 0 0 0)  0 f eval: 1 + 1
            : "sq"  (0 0 0 1)  0 f eval: 1 + 1
            : "sq"  (1 0 0 1)  0 f eval: 1 + 1

    "double_tri":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 0 0)  0 f eval: 1 + 1
            : "tri" (0 0 1 0)  0 f eval: 1 + 1
            : "tri" (1 0 1 0)  6 f eval: 1 + 1

    "double_dia":
        prismels:
            : "dia" (0 0 0 0)  0 f eval: 1 + 1
            : "dia" (1 0 0 0)  0 f eval: 1 + 1
            : "dia" (0 1 0 0)  0 f eval: 1 + 1
            : "dia" (1 1 0 0)  0 f eval: 1 + 1


    ##########
    # TRIPLE #
    ##########

    "triple_sq":
        shapes:
            : "double_sq" (0 0 0 0) 0 f
        prismels:
            : "sq"  (2 0 0 0)  0 f eval: 1 + 1
            : "sq"  (2 0 0 1)  0 f eval: 1 + 1
            : "sq"  (2 0 0 2)  0 f eval: 1 + 1
            : "sq"  (1 0 0 2)  0 f eval: 1 + 1
            : "sq"  (0 0 0 2)  0 f eval: 1 + 1

    "triple_tri":
        shapes:
            : "double_tri" (0 0 0 0) 0 f
        prismels:
            : "tri" (2 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 1 0)  0 f eval: 1 + 1
            : "tri" (0 0 2 0)  0 f eval: 1 + 1
            : "tri" (2 0 1 0)  6 f eval: 1 + 1
            : "tri" (1 0 2 0)  6 f eval: 1 + 1

    "triple_dia":
        shapes:
            : "double_dia" (0 0 0 0) 0 f
        prismels:
            : "dia" (2 0 0 0)  0 f eval: 1 + 1
            : "dia" (2 1 0 0)  0 f eval: 1 + 1
            : "dia" (2 2 0 0)  0 f eval: 1 + 1
            : "dia" (1 2 0 0)  0 f eval: 1 + 1
            : "dia" (0 2 0 0)  0 f eval: 1 + 1

mappers:

    "double":
        solid
        unit: 2 0 0 0
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "double_sq"
            : "tri"  -> "double_tri"
            : "dia"  -> "double_dia"

    "triple":
        solid
        unit: 3 0 0 0
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "triple_sq"
            : "tri"  -> "triple_tri"
            : "dia"  -> "triple_dia"

    "quadruple": solid map ("double") ("double")

    "octuple": solid map ("double") ("quadruple")

verts:
    "0": "map_vert0"
    "1": "map_vert1"
edges:
    "0": "map_edge0"
    "1": "map_edge1"
    "2": "map_edge2"
faces:
    "0": "map_face0"
    "1": "map_face1"
    "2": "map_face2"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"

shapes:
    "_txt_title":
        text: "geomfont1" "Spider\n Game" (3 1)
    "txt_title":
        shapes:
            : "_txt_title" (0 0 0 0)  0 f
    "txt_title_rotate":
        animation: cycle 24
        shapes:
            : "_txt_title" (0 0 0 0)  0 f 0 ( 0 2)
            : "_txt_title" (0 0 0 0)  1 f 0 ( 2 2)
            : "_txt_title" (0 0 0 0)  2 f 0 ( 4 2)
            : "_txt_title" (0 0 0 0)  3 f 0 ( 6 2)
            : "_txt_title" (0 0 0 0)  4 f 0 ( 8 2)
            : "_txt_title" (0 0 0 0)  5 f 0 (10 2)
            : "_txt_title" (0 0 0 0)  6 f 0 (12 2)
            : "_txt_title" (0 0 0 0)  7 f 0 (14 2)
            : "_txt_title" (0 0 0 0)  8 f 0 (16 2)
            : "_txt_title" (0 0 0 0)  9 f 0 (18 2)
            : "_txt_title" (0 0 0 0) 10 f 0 (20 2)
            : "_txt_title" (0 0 0 0) 11 f 0 (22 2)
    "txt_new_game":
        text: "geomfont1" "New"
    "txt_continue":
        text: "geomfont1" "Load"
    "txt_exit":
        text: "geomfont1" "Quit"
    "txt_players":
        text: "geomfont1" "Players"
    "txt_secret":
        text: "geomfont1" "Secret Room..."

$SET_STR NS player_
$UNSET_BOOL PLAYER_AIMER
$UNSET_BOOL PLAYER_SPIKEY
$UNSET_BOOL PLAYER_ROLLER
$UNSET_BOOL PLAYER_FLIER
$UNSET_BOOL PLAYER_BIRD
import "data/_player.fus"

$SET_STR NS aimerplayer_
$SET_BOOL PLAYER_AIMER
$UNSET_BOOL PLAYER_SPIKEY
$UNSET_BOOL PLAYER_ROLLER
$UNSET_BOOL PLAYER_FLIER
$UNSET_BOOL PLAYER_BIRD
import "data/_player.fus"

$SET_STR NS spikeyplayer_
$UNSET_BOOL PLAYER_AIMER
$SET_BOOL PLAYER_SPIKEY
$UNSET_BOOL PLAYER_ROLLER
$UNSET_BOOL PLAYER_FLIER
$UNSET_BOOL PLAYER_BIRD
import "data/_player.fus"

$SET_STR NS rollerplayer_
$UNSET_BOOL PLAYER_AIMER
$UNSET_BOOL PLAYER_SPIKEY
$SET_BOOL PLAYER_ROLLER
$UNSET_BOOL PLAYER_FLIER
$UNSET_BOOL PLAYER_BIRD
import "data/_player.fus"

$SET_STR NS flierplayer_
$UNSET_BOOL PLAYER_AIMER
$UNSET_BOOL PLAYER_SPIKEY
$UNSET_BOOL PLAYER_ROLLER
$SET_BOOL PLAYER_FLIER
$UNSET_BOOL PLAYER_BIRD
import "data/_player.fus"

$SET_STR NS birdplayer_
$UNSET_BOOL PLAYER_AIMER
$UNSET_BOOL PLAYER_SPIKEY
$UNSET_BOOL PLAYER_ROLLER
$UNSET_BOOL PLAYER_FLIER
$SET_BOOL PLAYER_BIRD
import "data/_player.fus"

shapes:

    ############
    # CURVY SQ #
    ############

    "curvy_sq_eighth":

        #   +-
        #   | \
        #   |  -+-
        #   | / | \
        #   +-  |  -+
        #   | \ | / |
        #  /   -+-   \
        # |     |     |
        # 0-   / \   -+
        #   \ |   | /
        #    -+---+-

        prismels:
            : "sq"  (0 0 0  0) 11 f eval: 1 + 8 + 1
            : "tri" (0 1 0 -1)  0 f eval: 1 + 8 + 2
            : "sq"  (0 1 1 -1) 10 f eval: 1 + 8 + 3
            : "tri" (0 1 1  0)  5 f eval: 1 + 2
            : "tri" (0 1 1  0)  7 f eval: 1 + 3
            : "tri" (0 1 1  0)  9 f eval: 1 + 3

    "curvy_sq_quarter":

        shapes:
            : "curvy_sq_eighth" (0 0 0 0)  0 f
            : "curvy_sq_eighth" (0 2 2 0)  6 f

    "curvy_sq":

        shapes:
            : "curvy_sq_quarter" ( 0  0  0  0)  0 f
            : "curvy_sq_quarter" ( 2  4  0 -2)  3 f
            : "curvy_sq_quarter" ( 0  4  4  0)  6 f
            : "curvy_sq_quarter" (-2  0  4  2)  9 f


    #############
    # CURVY TRI #
    #############

    "curvy_tri_third":

        #       +-
        #       | \
        #       |  -+
        #       | / |
        #       +-   \
        #       |     |
        #      / \   -+
        #     |   | / |
        #    -+---+-  |
        #   / |   | \ |
        # 0-  |   |  -+
        #   \ |   | /
        #    -+---+-

        prismels:
            : "tri" ( 0 0 0 0) 11 f eval: 1 + 8 + 1
            : "sq"  ( 1 1 0 0)  1 f eval: 1 + 2
            : "tri" ( 1 1 0 0)  4 f eval: 1 + 3
            : "sq"  ( 1 1 0 0)  6 f eval: 1 + 8 + 2
            : "tri" ( 1 1 0 0)  9 f eval: 1 + 8 + 3
            : "tri" ( 1 1 0 0) 11 f eval: 1 + 8 + 3
            : "tri" ( 0 1 1 0)  1 f eval: 1 + 8 + 3

    "curvy_tri":

        shapes:
            : "curvy_tri_third" ( 0  0  0  0)  0 f
            : "curvy_tri_third" ( 2  4  0 -2)  4 f
            : "curvy_tri_third" ( 0  2  2  2)  8 f

        prismels:
            : "tri" ( 0  2  1  0) 10 f eval: 1 + 4


    #############
    # CURVY DIA #
    #############

    "curvy_dia_half":

        #                -+---X
        #               / | \
        #             +-  |  -+
        #             | \ | / |
        #            /   -+- / \
        #           |     | |   |
        #           +-   / -+---+
        #           | \ | / |   |
        #          /   -+- / \ / \
        #         |     | |   |   |
        #        -+-   / -+---+---+-
        #       / | \ | /       \   \
        # 0---+-  |  -+-         -X---+
        #   \   \ | /
        #    -+---+-

        prismels:
            : "dia" ( 0  0  0  0) 11 f  eval: 1 + 8 + 1
            : "tri" ( 1  1  0 -1)  1 f  eval: 1 + 8 + 2
            : "tri" ( 1  1  0 -1)  3 f  eval: 1 + 8 + 3
            : "sq"  ( 1  1  0  0) 11 f  eval: 1 + 8 + 2
            : "sq"  ( 1  1  1  0) 11 f  eval: 1 + 8 + 3
            : "tri" ( 1  2  2 -1)  1 f  eval: 1 + 8 + 2
            : "tri" ( 1  2  2 -1)  3 f  eval: 1 + 8 + 2
            : "dia" ( 1  2  0 -1)  1 f  eval: 1 + 2
            : "dia" ( 1  2  1 -1)  1 f  eval: 1 + 3
            : "dia" ( 2  3  0 -1) 11 f  eval: 1 + 8 + 1
            : "tri" ( 2  3  0 -1)  0 f  eval: 1 + 2
            : "tri" ( 2  3  0 -1)  2 f  eval: 1 + 3
            : "tri" ( 2  3  0 -1)  4 f  eval: 1 + 4
            : "tri" ( 2  3  1 -1)  4 f  eval: 1 + 5

    "curvy_dia":

        shapes:
            : "curvy_dia_half" ( 0  0  0  0)  0 f
            : "curvy_dia_half" ( 4  6  2 -2)  6 f

mappers:

    "curvy":
        unit: 2 4 0 -2
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "curvy_sq"
            : "tri"  -> "curvy_tri"
            : "dia"  -> "curvy_dia"

    "solid_curvy":
        solid
        unit: 2 4 0 -2
        entries:
            : "vert" -> "vert"
            : "edge" -> "edge"
            : "sq"   -> "curvy_sq"
            : "tri"  -> "curvy_tri"
            : "dia"  -> "curvy_dia"

# Expected variables:
# ALT (bool) - Set this to use the "alternate" prismels for the minimap


$IF ALT:
    import "data/prismels_alt.fus"
$IF !ALT:
    import "data/prismels.fus"


shapes:

    "minimap.vert":
        $IF ALT: prismels:
            : "vert" (0 0 0 0)  0 f eval: 1 + 0 + 7

    "minimap.edge":
        $IF ALT: prismels:
            : "edge" (0 0 0 0)  0 f eval: 1 + 0 + 2

    "minimap.face":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 6

    "minimap.save":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 6

    "minimap.door":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 3

    "minimap.water":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 1

shapes:

    "_coin":
        prismels:
            : "tri" ( 0  0  0  0)  0 f eval: 5 + 0 + 1
            : "tri" ( 0  0  0  0)  2 f eval: 5 + 0 + 1
            : "tri" ( 0  0  0  0)  4 f eval: 5 + 8 + 1
            : "tri" ( 0  0  0  0)  6 f eval: 5 + 8 + 1
            : "tri" ( 0  0  0  0)  8 f eval: 7 + 8 + 1
            : "tri" ( 0  0  0  0) 10 f eval: 5 + 8 + 1

    "coin":
        animation: cycle 12
        shapes:
            : "_coin" (0 0 0 0)  0 f  0 ( 0 1)
            : "_coin" (0 0 0 0)  1 f  0 ( 1 1)
            : "_coin" (0 0 0 0)  2 f  0 ( 2 1)
            : "_coin" (0 0 0 0)  3 f  0 ( 3 1)
            : "_coin" (0 0 0 0)  4 f  0 ( 4 1)
            : "_coin" (0 0 0 0)  5 f  0 ( 5 1)
            : "_coin" (0 0 0 0)  6 f  0 ( 6 1)
            : "_coin" (0 0 0 0)  7 f  0 ( 7 1)
            : "_coin" (0 0 0 0)  8 f  0 ( 8 1)
            : "_coin" (0 0 0 0)  9 f  0 ( 9 1)
            : "_coin" (0 0 0 0) 10 f  0 (10 1)
            : "_coin" (0 0 0 0) 11 f  0 (11 1)

    "coin_crouch":
        animation: cycle 12
        shapes:
            : "coin" (1 1 1 0)  0 f

    "coin_collected":
        # Empty!.. when you pick up a coin, it "disappears"...

# Expected vars:
# NS (str), e.g. "player_", ""

$SET_STR NS ""

shapes:

    $PREFIX NS "hexroller_body":
        shapes:
            : "map_vert0" (0 0 0 0)  0 f
            : "map_edge1" (0 0 0 0)  0 f
            : "map_edge1" (0 0 0 0)  2 f
            : "map_edge0" (0 0 0 0)  4 f
            : "map_edge0" (0 0 0 0)  6 f
            : "map_edge0" (0 0 0 0)  8 f
            : "map_edge0" (0 0 0 0) 10 f
            : "map_face1" (0 0 0 0)  0 f
            : "map_face1" (0 0 0 0)  2 f
            : "map_face0" (0 0 0 0)  4 f
            : "map_face0" (0 0 0 0)  6 f
            : "map_face0" (0 0 0 0)  8 f
            : "map_face0" (0 0 0 0) 10 f

    $PREFIX NS "hexroller_foot":
        prismels:
            : "tri" ( 0  0  0  0)  0 f eval: 1 + 3
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 3

            : "tri" ( 0  0  0  0)  2 f eval: 1 + 3
            : "sq"  ( 0  0  1  0)  3 f eval: 1 + 3

            : "tri" ( 0  0  0  0)  4 f eval: 1 + 11
            : "sq"  (-1  0  1  0)  5 f eval: 1 + 11

            : "tri" ( 0  0  0  0)  6 f eval: 1 + 11
            : "sq"  (-1  0  0  0)  7 f eval: 1 + 11

            : "tri" ( 0  0  0  0)  8 f eval: 1 + 15
            : "sq"  ( 0  0 -1  0)  9 f eval: 1 + 15

            : "tri" ( 0  0  0  0) 10 f eval: 1 + 11
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 11

    $PREFIX NS "hexroller":
        shapes:
            : "hexroller_body" ( 0  1  3  1)  0 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

    $PREFIX NS "hexroller_R1":
        shapes:
            : "hexroller_body" ( 0  1  3  1)  2 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

    $PREFIX NS "hexroller_R2":
        shapes:
            : "hexroller_body" ( 0  1  3  1)  4 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

    $PREFIX NS "hexroller_R3":
        shapes:
            : "hexroller_body" ( 0  1  3  1)  6 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

    $PREFIX NS "hexroller_R4":
        shapes:
            : "hexroller_body" ( 0  1  3  1)  8 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

    $PREFIX NS "hexroller_R5":
        shapes:
            : "hexroller_body" ( 0  1  3  1) 10 f
            : "hexroller_foot" ( 0  0  0  0)  0 f

collmap:
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;

# Loads just enough stuff into a prismelrenderer so that you can
# get a geomfont out of it

import "data/prismels.fus"
import "data/geomfonts.fus"

shapes:

    #                 + - +
    #                /     \
    #           + - +   .   + - +
    #          /     \     /     \
    #     + - +   .   + - +   .   + - +
    #    /     \     /     \     /     \
    #   +   .   + - +   .   + - +   .   +
    #    \     /                 \     /
    #     + - +   .   .   .   .   + - +
    #    /     \                 /     \
    #   +   .   +   .  (.)  .   +   .   +
    #    \     /                 \     /
    #     + - +   .   .   .   .   + - +
    #    /     \                 /     \
    #   +   .   + - +   .   + - +   .   +
    #    \     /     \     /     \     /
    #     + - +   .   + - +   .   + - +
    #          \     /     \     /
    #           + - +   .   + - +
    #                \     /
    #                 + - +
    #                           Moving towards the upper-right!

    #  UNIT VECTORS:
    #
    #   Y
    #    +
    #     \
    #      + - + X
    #
    # Where:
    #   X = ( 3  2  0 -1)
    #   Y = (-3 -1  3  2)

    "bubblecar_hex0_sixth":
        shapes:
            : "map_edge0" ( 0  0  0  0)  0 f

            : "map_vert0" ( 3  2  0 -1)  0 f
            : "map_edge0" ( 3  2  0 -1)  4 f

    "bubblecar_hex1_sixth":
        shapes:
            : "map_edge0" ( 0  0  0  0)  0 f
            : "map_face0" ( 0  0  0  0)  0 f

            #: "map_vert0" ( 3  2  0 -1)  0 f
            #: "map_edge0" ( 3  2  0 -1)  4 f

    "bubblecar_hex2_sixth":
        shapes:
            : "map_edge1" ( 0  0  0  0)  0 f
            : "map_face1" ( 0  0  0  0)  0 f

            : "map_vert1" ( 3  2  0 -1)  0 f
            : "map_edge1" ( 3  2  0 -1)  4 f

    "bubblecar_hex0":
        shapes:
            : "map_vert0" ( 0  0  0  0)  0 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0)  0 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0)  2 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0)  4 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0)  6 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0)  8 f
            : "bubblecar_hex0_sixth" ( 0  0  0  0) 10 f

    "bubblecar_hex1":
        shapes:
            : "map_vert0" ( 0  0  0  0)  0 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0)  0 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0)  2 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0)  4 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0)  6 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0)  8 f
            : "bubblecar_hex1_sixth" ( 0  0  0  0) 10 f

    "bubblecar_hex2":
        shapes:
            : "map_vert1" ( 0  0  0  0)  0 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0)  0 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0)  2 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0)  4 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0)  6 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0)  8 f
            : "bubblecar_hex2_sixth" ( 0  0  0  0) 10 f

    "bubblecar_sixth0":
        shapes:
            : "bubblecar_hex0"
                eval: ( 3  2  0 -1) * -2 + (-3 -1  3  2) * -4
                0 f
    "bubblecar_sixth0b":
        shapes:
            : "bubblecar_hex0"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -3
                0 f

    "bubblecar_sixth1":
        shapes:
            : "bubblecar_hex0"
                eval: ( 3  2  0 -1) * -2 + (-3 -1  3  2) * -4
                0 f
    "bubblecar_sixth1b":
        shapes:
            : "bubblecar_hex1"
                eval: ( 3  2  0 -1) * -2 + (-3 -1  3  2) * -4
                0 f
            : "bubblecar_hex0"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -3
                0 f

    "bubblecar_sixth2":
        shapes:
            : "bubblecar_hex2"
                eval: ( 3  2  0 -1) * -2 + (-3 -1  3  2) * -4
                0 f
            : "bubblecar_hex1"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -3
                0 f
    "bubblecar_sixth2b":
        shapes:
            : "bubblecar_hex2"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -3
                0 f

    "bubblecar_r0":
        shapes:
            : "bubblecar_sixth2"  (0 0 0 0)  0 f
            : "bubblecar_sixth1"  (0 0 0 0)  2 f
            : "bubblecar_sixth2"  (0 0 0 0)  4 f
            : "bubblecar_sixth1"  (0 0 0 0)  6 f
            : "bubblecar_sixth2"  (0 0 0 0)  8 f
            : "bubblecar_sixth1"  (0 0 0 0) 10 f

            : "player_stand"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -2
                0 f

    "bubblecar_r1":
        shapes:
            : "bubblecar_sixth2b" (0 0 0 0)  0 f
            : "bubblecar_sixth1b" (0 0 0 0)  2 f
            : "bubblecar_sixth2b" (0 0 0 0)  4 f
            : "bubblecar_sixth1b" (0 0 0 0)  6 f
            : "bubblecar_sixth2b" (0 0 0 0)  8 f
            : "bubblecar_sixth1b" (0 0 0 0) 10 f

            : "player_stand"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -2
                0 f

    "bubblecar_r2":
        shapes:
            : "bubblecar_sixth1"  (0 0 0 0)  0 f
            : "bubblecar_sixth2"  (0 0 0 0)  2 f
            : "bubblecar_sixth1"  (0 0 0 0)  4 f
            : "bubblecar_sixth2"  (0 0 0 0)  6 f
            : "bubblecar_sixth1"  (0 0 0 0)  8 f
            : "bubblecar_sixth2"  (0 0 0 0) 10 f

            : "player_stand"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -2
                0 f

    "bubblecar_r3":
        shapes:
            : "bubblecar_sixth1b" (0 0 0 0)  0 f
            : "bubblecar_sixth2b" (0 0 0 0)  2 f
            : "bubblecar_sixth1b" (0 0 0 0)  4 f
            : "bubblecar_sixth2b" (0 0 0 0)  6 f
            : "bubblecar_sixth1b" (0 0 0 0)  8 f
            : "bubblecar_sixth2b" (0 0 0 0) 10 f

            : "player_stand"
                eval: ( 3  2  0 -1) *  0 + (-3 -1  3  2) * -2
                0 f
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

# Expected vars:
# NS (str), e.g. "player_", ""

shapes:

    $PREFIX NS "_roller_body_hollow_third":

        prismels:

            #   +
            #   |
            #  / \
            # |   |
            # +---+-
            # |   | \
            # |   |  -+
            # |   | / |
            # +---+-   \
            #     |     |
            #      \   -+
            #       | / |
            #   0   +-  |
            #         \ |
            #          -+

            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1
            : "tri" (-1 0 1 1)  0 f eval: 1 + 1

            : "tri" ( 0 0 1 0)  1 f eval: 1 + 1
            : "sq"  ( 1 0 0 0)  1 f eval: 1 + 8 + 1
            : "tri" ( 1 0 0 0) 11 f eval: 1 + 1

    $PREFIX NS "_roller_body_third":
        shapes:
            : $PREFIX NS "_roller_body_hollow_third" (0 0 0 0) 0 f
        prismels:
            $IF PLAYER_ROLLER:
                : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 4
                : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 4
            $IF !PLAYER_ROLLER:
                : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 3
                : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 3

    $PREFIX NS "_roller_body":
        shapes:
            : $PREFIX NS "_roller_body_third" (0 0 0 0)  0 f
            : $PREFIX NS "_roller_body_third" (0 0 0 0)  4 f
            : $PREFIX NS "_roller_body_third" (0 0 0 0)  8 f

    $PREFIX NS "_roller_body_hollow":
        shapes:
            : $PREFIX NS "_roller_body_hollow_third" (0 0 0 0)  0 f
            : $PREFIX NS "_roller_body_hollow_third" (0 0 0 0)  4 f
            : $PREFIX NS "_roller_body_hollow_third" (0 0 0 0)  8 f

    $PREFIX NS "roller_body":
        shapes:
            : $PREFIX NS "_roller_body" (1 1 1 0) 0 f

    $PREFIX NS "roller_body_hollow":
        shapes:
            : $PREFIX NS "_roller_body_hollow" (1 1 1 0) 0 f

    $PREFIX NS "roller_foot":
        prismels:
            : "sq" (0 0 0 0)  0 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  3 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  6 f eval: 1 + 8 + 3
            : "sq" (0 0 0 0)  9 f eval: 1 + 8 + 3


shapes:

    $PREFIX NS "roller":
        shapes:
            : $PREFIX NS "roller_body" (0 0 0 0) 0 f
            : $PREFIX NS "roller_foot" (0 0 0 0) 0 f
        $IF PLAYER_ROLLER:
            prismels:
                # Player's "nose"
                : "tri" (2 2 1 0) 2 f eval: 1 + 8 + 2

    $PREFIX NS "roller_grab":
        shapes:
            : $PREFIX NS "roller_body" (0 0 0  0) 0 f
            : $PREFIX NS "roller_body_hollow" (3 2 0 -1) 2 f
            : $PREFIX NS "roller_foot" (0 0 0  0) 0 f

    $PREFIX NS "roller_grab_flipped":
        shapes:
            : $PREFIX NS "roller_body" (0 0 0  0) 0 f
            : $PREFIX NS "roller_body_hollow" (0 0 0  0) 2 f
            : $PREFIX NS "roller_foot" (0 0 0  0) 0 f

prismels:

    "vert":
        # ++
        # +X
        images:
            : (-1 -1 2) (-1 0 2)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)

    "edge":
        # an edge (invisible line)
        images:
            () () () () () () () () () () () ()
            () () () () () () () () () () () ()

    "sq":

        # +---+
        # |   |
        # |   |
        # 0---+

        #     +   +
        # ++ +++ +++ ++   +                             +
        # ++  +   +  ++  +++   +                    +  +++
        # .   .    .   .  + . +++. ++.  +.  X  X+  X++ .+
        #                      +   ++  +++ +++ ++   +
        #                               +   +

        images:
            : ( 0 -2  2) ( 0 -1  2)
            : ( 0 -3  1) (-1 -2  3) ( 0 -1  1)
            : (-1 -3  1) (-2 -2  3) (-1 -1  1)
            : (-2 -2  2) (-2 -1  2)
            : (-2 -2  1) (-3 -1  3) (-2  0  1)
            : (-2 -1  1) (-3  0  3) (-2  1  1)
            : (-2  0  2) (-2  1  2)
            : (-1  0  1) (-2  1  3) (-1  2  1)
            : ( 0  0  1) (-1  1  3) ( 0  2  1)
            : ( 0  0  2) ( 0  1  2)
            : ( 1 -1  1) ( 0  0  3) ( 1  1  1)
            : ( 1 -2  1) ( 0 -1  3) ( 1  0  1)
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0
            : 11
            : 10

    "tri":

        #   +
        #   |
        #  / \
        # |   |
        # 0---+

        #
        #    + ++ +
        # ++ +    +  ++  +                   +
        # .  .  .  .   . + . ++. +.  . X X+ .+
        #                        +  ++ +

        images:
            : ( 0 -1  2)
            : ( 0 -2  1) ( 0 -1  1)
            : (-1 -2  2)
            : (-1 -2  1) (-1 -1  1)
            : (-2 -1  2)
            : (-2 -1  1) (-2  0  1)
            : (-2  0  2)
            : (-1  0  1) (-1  1  1)
            : (-1  1  2)
            : ( 0  0  1) ( 0  1  1)
            : ( 0  0  2)
            : ( 1 -1  1) ( 1  0  1)
            : 10
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0
            : 11

    "dia":

        #    -+---+
        #   /   /
        # 0---+-

        #       + + +  +
        #      +  + +   +
        #  ++ +          +  ++
        # .   .   .  .    .    . ++ .   +.  . . X   .++
        #                              +   +  +  +
        #                             +    +  +   +

        images:
            : ( 1 -1  2)
            : ( 0 -1  1) ( 1 -2  1) ( 2 -3  1)
            : ( 0 -2  1) ( 0 -3  1)
            : (-1 -2  1) (-1 -3  1)
            : (-1 -1  1) (-2 -2  1) (-3 -3  1)
            : (-3 -1  2)
            : (-3  0  2)
            : (-1  0  1) (-2  1  1) (-3  2  1)
            : (-1  1  1) (-1  2  1)
            : ( 0  1  1) ( 0  2  1)
            : ( 0  0  1) ( 1  1  1) ( 2  2  1)
            : ( 1  0  2)
            : 11
            : 10
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1
            :  0

shapes:

    "empty":
        prismels:

    "vert":
        prismels:
            : "vert"  (0 0 0 0)  0 f 2

    "edge":
        prismels:
            : "edge"  (0 0 0 0)  0 f 2

    "sq":
        prismels:
            : "sq"  (0 0 0 0)  0 f 2

    "tri":
        prismels:
            : "tri" (0 0 0 0)  0 f 2

    "dia":
        prismels:
            : "dia" (0 0 0 0)  0 f 2


import "data/palmappers.fus"

import "data/prismels.fus"
import "data/double.fus"
import "data/curvy.fus"
import "data/dodecas.fus"

import "data/mappers.fus"
import "data/geomfonts.fus"
import "data/texts.fus"

import "data/maps/test/tiles.fus"
import "data/maps/demo/tilesets/water_tiles.fus"
import "data/maps/trees/tilesets/bark_tiles.fus"
import "data/effects.fus"
import "data/coin.fus"
import "data/switch.fus"
import "data/roller.fus"
import "data/player.fus"
import "data/bird.fus"
import "data/flier.fus"
import "data/bubblecar.fus"
import "data/hexroller.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

# Expected variables:
# NS (str): e.g. "spikey_", ""

shapes:

    $PREFIX NS "_spit":
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0)  2 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0)  4 f eval(1 + 8 + 7)
            : "tri" (0 0 0 0)  6 f eval(1 + 8 + 7)
            : "tri" (0 0 0 0)  8 f eval(1 + 0 + 7)
            : "tri" (0 0 0 0) 10 f eval(1 + 8 + 7)
            $IF SPIKEY:
                : "tri" ( 1 0  0 0)  2 f eval(1 + 0 + 7)
                : "tri" ( 0 0  1 0)  4 f eval(1 + 0 + 7)
                : "tri" (-1 0  1 0)  6 f eval(1 + 0 + 7)
                : "tri" (-1 0  0 0)  8 f eval(1 + 0 + 7)
                : "tri" ( 0 0 -1 0) 10 f eval(1 + 0 + 7)
                : "tri" ( 1 0 -1 0)  0 f eval(1 + 0 + 7)

    $PREFIX NS "spit_fly":
        shapes:
            # NOTE: The center of a hexagon is at (0 1 3 1)
            : $PREFIX NS "_spit" ( 0  1 3 1)  0 f  0 (1 1)

    $PREFIX NS "spit_crouch_fly":
        shapes:
            # NOTE: The center of a face is at (1 1 1 0).
            # But if you want that to line up with player's nose,
            # you need to elevate it to (1 1 2 0).
            # But then crouching spit and crouching coins don't
            # line up!..
            # So we should probably fix player's nose when crouching.
            : $PREFIX NS "_spit" ( 1  1 1 0)  0 f  0 (1 1)

# Expected variables:
# NS (str): e.g. "player_", ""

shapes:

    ########
    # BIRD #
    ########

    $PREFIX NS "_bird_eye_sixth":
        prismels:
            : "tri" (0 0 0  0)  0 f eval: 1 + 8 + 4

            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 7
            : "sq"  (1 0 0  0)  1 f eval: 1 + 8 + 6

    $PREFIX NS "_bird_eye":
        shapes:
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0)  0 f
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0)  2 f
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0)  4 f
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0)  6 f
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0)  8 f
            : $PREFIX NS "_bird_eye_sixth" (0 0 0 0) 10 f

    $PREFIX NS "_bird_eye_turn_half":
        prismels:
            : "tri" (0 0  0  0)  0 f eval: 1 + 8 + 4

            : "tri" (0 0  1  0)  1 f eval: 1 + 8 + 7
            : "tri" (1 0  0  0) 11 f eval: 1 + 8 + 7
            : "sq"  (1 0  0  0)  1 f eval: 1 + 8 + 6
            : "sq"  (1 0 -1  0) 11 f eval: 1 + 8 + 6
            : "tri" (1 0 -1  0)  9 f eval: 1 + 8 + 7

    $PREFIX NS "_bird_eye_turn":
        shapes:
            : $PREFIX NS "_bird_eye_turn_half" (0 0 0 0)  0 f
            : $PREFIX NS "_bird_eye_turn_half" (1 0 0 0)  6 f

    $PREFIX NS "_bird_head_sixth":
        hexpicture:
            ;;            +
            ;;           | |
            ;;           |2|
            ;;          +---+
            ;;        -- | | |
            ;;       +   |2|A|
            ;;      | |   +---+
            ;;      |A|9--|   |
            ;;     *---+ 9|   |
            ;;          --|1  |
            ;;            +---+
        $SKIP: prismels:
            : "tri" (0 0 0  0)  0 f eval: 1 + 8 + 2

            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 1
            : "sq"  (1 0 0  0)  1 f eval: 1 + 8 + 1

            : "tri" (0 1 1  0)  0 f eval: 1 + 0 + 2
            : "tri" (1 1 0  0)  2 f eval: 1 + 0 + 2
            : "tri" (1 1 0  0)  0 f eval: 1 + 8 + 2
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 1

    $PREFIX NS "_bird_head_fringe_sixth":
        hexpicture:
            ;;              +
            ;;            -- |
            ;;           +   |
            ;;            |   +
            ;;            |A-- |
            ;;             +   |
            ;;              |   +
            ;;              |A--|
            ;;               + 9|
            ;;             --|--|
            ;;    *---+---+ .|9 +
            ;;             --|--|
            ;;               + 9|
            ;;                --|
            ;;                  +
        $SKIP: prismels:
            : "tri" (2 2 0 -1)  3 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  7 f eval: 1 + 8 + 1
            : "sq"  (1 1 1  0) 10 f eval: 1 + 8 + 2
            : "sq"  (1 1 1  0)  1 f eval: 1 + 8 + 2

    $PREFIX NS "_bird_beak":
        prismels:
            : "tri" (0 0  0 0)  0 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  2 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  4 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0)  8 f eval: 1 + 8 + 4
            : "tri" (0 0  0 0) 10 f eval: 1 + 8 + 4
            : "tri" (1 0 -1 0)  0 f eval: 1 + 8 + 4

            : "sq"  (0 0  1 0)  3 f eval: 1 + 8 + 2
            : "tri" (0 0  1 0)  1 f eval: 1 + 0 + 2
            : "sq"  (0 0  1 0) 10 f eval: 1 + 0 + 4
            : "sq"  (2 0 -1 0)  1 f eval: 1 + 0 + 4
            : "tri" (2 0 -1 0) 11 f eval: 1 + 0 + 4

    $PREFIX NS "_bird_head":
        shapes:
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0)  0 f
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0)  2 f
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0)  4 f
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0)  6 f
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0)  8 f
            : $PREFIX NS "_bird_head_sixth" (0 0 0 0) 10 f
            : $PREFIX NS "_bird_head_fringe_sixth" (0 0 0 0)  2 f
            : $PREFIX NS "_bird_head_fringe_sixth" (0 0 0 0)  4 f
            : $PREFIX NS "_bird_head_fringe_sixth" (0 0 0 0)  6 f

    $PREFIX NS "_bird_leg_calf_beefy":
        prismels:
            : "tri" (0 0 0  0)  3 f eval: 1 + 0 + 6
            : "tri" (0 0 0  0)  5 f eval: 1 + 0 + 6
            : "tri" (0 0 0  0)  7 f eval: 1 + 0 + 6
            : "sq"  (0 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (0 0 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (1 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (1 0 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (2 0 0  0)  0 f eval: 1 + 0 + 7
            : "sq"  (2 0 0 -1)  0 f eval: 1 + 0 + 7

            : "tri" (3 1 0  0)  1 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  3 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  5 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  7 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0)  9 f eval: 1 + 0 + 6
            : "tri" (3 1 0  0) 11 f eval: 1 + 0 + 6

            : "tri" (3 1 0 -1)  5 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1)  7 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1)  9 f eval: 1 + 0 + 6
            : "tri" (3 1 0 -1) 11 f eval: 1 + 0 + 6

    $PREFIX NS "_bird_leg_thigh_beefy":
        prismels:
            : "tri" (0 0 0  0) 11 f eval: 1 + 0 + 6
            : "sq"  (0 1 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 7
            : "sq"  (2 1 0 -1)  0 f eval: 1 + 0 + 7
            : "tri" (3 2 0 -1)  5 f eval: 1 + 0 + 6

    $PREFIX NS "_bird_leg_calf":
        prismels:
            # ball (foot):
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 5
            #: "tri" (0 0 0 0)  2 f eval: 1 + 8 + 5
            #: "tri" (0 0 0 0)  4 f eval: 1 + 8 + 5
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 5

            # stick (calf):
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 5
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 5
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 5

    $PREFIX NS "_bird_leg_thigh":
        prismels:
            # ball (knee):
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 7
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 7
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 7
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 7

            # stick (thigh):
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 7
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 7
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 7



    $PREFIX NS "bird_head":
        shapes:
            $IF PLAYER_BIRD:
                : "player_crawl" (-3 2 1 0) 2 f
            : $PREFIX NS "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f
            : $PREFIX NS "_bird_eye" eval((0 1 3 1) + (1 0 -2 0) + (0 0 0 0))  0 f
            : $PREFIX NS "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (2 1 -1 -1)) 0 f

    $PREFIX NS "bird_leg_calf":
        shapes:
            : $PREFIX NS "_bird_leg_calf" (0 0 0 0) 0 f

    $PREFIX NS "bird_leg_thigh":
        shapes:
            : $PREFIX NS "_bird_leg_thigh" (0 0 0 0) 0 f

    $PREFIX NS "bird_legs_stand":
        shapes:
            # back leg
            : $PREFIX NS "bird_leg_calf"  ( 0  0 0  0) 4 f
            : $PREFIX NS "bird_leg_thigh" (-3 -1 3  2) 2 f

            # front leg
            : $PREFIX NS "bird_leg_calf"  ( 3  2 0 -1) 4 f
            : $PREFIX NS "bird_leg_thigh" ( 0  1 3  1) 4 f

    $PREFIX NS "bird_stand":
        shapes:
            : $PREFIX NS "bird_legs_stand" (0 0 0 0) 0 f
            : $PREFIX NS "bird_head" (-3 0 6  3)  0 f

    $PREFIX NS "bird_legs_step":
        animation: cycle 4
        shapes:
            # back leg
            #: $PREFIX NS "bird_leg_calf"  ( 0  0 0  0) 4 f
            #: $PREFIX NS "bird_leg_thigh" (-3 -1 3  2) 2 f

            : $PREFIX NS "bird_leg_calf"  ( 1  0 0  0) 4 f 0 (0 1)
            : $PREFIX NS "bird_leg_thigh" (-3 -1 3  2) 2 f 0 (0 1)

            : $PREFIX NS "bird_leg_calf"  ( 2  0 0  0) 4 f 0 (1 1)
            : $PREFIX NS "bird_leg_thigh" (-2 -1 3  2) 2 f 0 (1 1)

            : $PREFIX NS "bird_leg_calf"  ( 4  0 0  0) 4 f 0 (2 1)
            : $PREFIX NS "bird_leg_thigh" (-1 -1 3  2) 2 f 0 (2 1)

            : $PREFIX NS "bird_leg_calf"  ( 6  0 0  0) 4 f 0 (3 1)
            : $PREFIX NS "bird_leg_thigh" ( 0 -1 3  2) 2 f 0 (3 1)

            # front leg
            : $PREFIX NS "bird_leg_calf"  ( 3  2 0 -1) 4 f
            : $PREFIX NS "bird_leg_thigh" ( 0  1 3  1) 4 f

    $PREFIX NS "bird_head_turn":
        animation: cycle 3
        shapes:
            ######
            # frame 2 is original bird_head, for debugging purposes
            $IF PLAYER_BIRD:
                : "player_crawl" (-3 2 1 0) 2 f 0 (2 1)
            : $PREFIX NS "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (2 1)
            : $PREFIX NS "_bird_eye" eval((0 1 3 1) + (1 0 -2 0) + (0 0 0 0))  0 f 0 (2 1)
            : $PREFIX NS "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (2 1 -1 -1)) 0 f 0 (2 1)
            ######

            $IF PLAYER_BIRD:
                : "player_crawl" (-2 2 1 0) 2 f 0 (0 1)

            # eye coming from other side of head
            : $PREFIX NS "_bird_eye_turn" eval((0 1 3 1) + (1 0 -2 0) + ( 2 0 0 0))  0 f 0 (1 1)

            : $PREFIX NS "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (0 1)
            : $PREFIX NS "_bird_head" eval((0 1 3 1) + (1 0 -2 0)) 0 f 0 (1 1)

            : $PREFIX NS "_bird_eye_turn" eval((0 1 3 1) + (1 0 -2 0) + (-2 0 0 0))  0 f 0 (0 1)
            : $PREFIX NS "_bird_eye_turn" eval((0 1 3 1) + (1 0 -2 0) + (-3 0 0 0))  0 f 0 (1 1)

            : $PREFIX NS "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (1 1 -1 -1)) 11 f 0 (0 1)
            : $PREFIX NS "_bird_beak" eval((0 1 3 1) + (1 0 -2 0) + (0 1 -1 -1)) 11 f 0 (1 1)


    $PREFIX NS "bird_turn_arrive":
        animation: cycle 2
        shapes:
            : $PREFIX NS "bird_legs_stand" (0 0 0 0) 0 f
            : $PREFIX NS "bird_head_turn" (-3 0 6  3)  0 f 1 (0 1)
            : $PREFIX NS "bird_head_turn" (-3 0 6  3)  0 f 0 (1 1)

    $PREFIX NS "bird_turn":
        animation: cycle 4
        shapes:
            # back/front calves
            #: $PREFIX NS "bird_leg_calf"  ( 0  0 0  0) 4 f
            #: $PREFIX NS "bird_leg_calf"  ( 3  2 0 -1) 4 f

            : $PREFIX NS "bird_leg_calf"  ( 0  0 0  0) 3 f 0 (0 1)
            : $PREFIX NS "bird_leg_calf"  ( 3  2 0 -1) 3 f 0 (0 1)

            : $PREFIX NS "bird_leg_calf"  ( 0  0 0  0) 2 f 0 (1 1)
            : $PREFIX NS "bird_leg_calf"  ( 3  2 0 -1) 2 f 0 (1 1)

            # back/front thighs
            #: $PREFIX NS "bird_leg_thigh" (-3 -1 3  2) 2 f
            #: $PREFIX NS "bird_leg_thigh" ( 0  1 3  1) 4 f

            : $PREFIX NS "bird_leg_thigh" (-1 -1 3  2) 2 f 0 (0 1)
            : $PREFIX NS "bird_leg_thigh" ( 2  1 3  1) 4 f 0 (0 1)

            : $PREFIX NS "bird_leg_thigh" ( 1 -1 3  2) 2 f 0 (1 1)
            : $PREFIX NS "bird_leg_thigh" ( 4  1 3  1) 4 f 0 (1 1)

            # head
            : $PREFIX NS "bird_head_turn" (-3 0 6  3)  0 f 0+ (0 2)

            ############
            # frames 3, 4 are turn_arrive for debugging purposes
            : $PREFIX NS "bird_turn_arrive" (3 2 0 -1) 6 t 2+ (2 2)

    $PREFIX NS "bird_step":
        animation: cycle 4
        shapes:
            : $PREFIX NS "bird_legs_step" (0 0 0 0) 0 f 1+

            : $PREFIX NS "bird_head" (-3 0 6  3)  0 f 0 (0 1)
            : $PREFIX NS "bird_head" (-2 0 6  3)  0 f 0 (1 1)
            : $PREFIX NS "bird_head" (-1 0 6  3)  0 f 0 (2 1)
            : $PREFIX NS "bird_head" ( 0 0 6  3)  0 f 0 (3 1)

    $PREFIX NS "bird_step_rev":
        animation: cycle 4
        shapes:
            : $PREFIX NS "bird_step" (0 0 0 0) 0 f 2 (0 1)
            : $PREFIX NS "bird_step" (0 0 0 0) 0 f 1 (1 1)
            : $PREFIX NS "bird_step" (0 0 0 0) 0 f 0 (2 1)
            : $PREFIX NS "bird_step" (0 0 0 0) 0 f 0 (3 1)

    $PREFIX NS "bird_step_arrive":
        animation: cycle 3
        shapes:
            # frame 2 is bird_stand, for debugging purposes
            : $PREFIX NS "bird_stand" (-3 0  0 0) 0 f 0 (0 1)
            : $PREFIX NS "bird_stand" (-1 0  0 0) 0 f 0 (1 1)
            : $PREFIX NS "bird_stand" ( 0 0  0 0) 0 f 0 (2 1)

    $PREFIX NS "bird_step_up_arrive":
        animation: cycle 3
        shapes:
            # frame 2 is bird_stand, for debugging purposes
            : $PREFIX NS "bird_stand" (0 0 -3 0) 0 f 0 (0 1)
            : $PREFIX NS "bird_stand" (0 0 -1 0) 0 f 0 (1 1)
            : $PREFIX NS "bird_stand" (0 0  0 0) 0 f 0 (2 1)

    $PREFIX NS "bird_step_down_arrive":
        animation: cycle 3
        shapes:
            # frame 2 is bird_stand, for debugging purposes
            : $PREFIX NS "bird_stand" (-3 0  3 0) 0 f 0 (0 1)
            : $PREFIX NS "bird_stand" (-1 0  1 0) 0 f 0 (1 1)
            : $PREFIX NS "bird_stand" ( 0 0  0 0) 0 f 0 (2 1)

    $PREFIX NS "_bird_step_rot_up_arrive":
        animation: cycle 2
        shapes:
            # Basically just a version of $PREFIX NS "bird_stand" where:
            # - The legs move forward a bit on frame 1
            # - The head is slightly adjusted back

            : $PREFIX NS "bird_legs_stand" (0 0 0 0) 0 f 0 (0 1)
            : $PREFIX NS "bird_legs_stand" (2 0 0 0) 0 f 0 (1 1)

            : $PREFIX NS "bird_head" (-2 -1 6  3)  0 f

    $PREFIX NS "bird_step_rot_up_arrive":
        animation: cycle 4
        shapes:
            # frame 2 is equivalent to bird_stand, for debugging purposes
            # frame 3 is equivalent to bird_step's frame 1, for debugging purposes
            : $PREFIX NS "_bird_step_rot_up_arrive" (-4 -3 2 3) 11 f 0 (0 1)
            : $PREFIX NS "_bird_step_rot_up_arrive" (-4 -3 2 3) 11 f 1 (1 1)
            : $PREFIX NS "bird_stand" ( 0  0 0 0)  0 f 0 (2 1)
            : $PREFIX NS "bird_step" eval((3 2 0 -1) * -3 + (0 1 3 1) * 2) 10 f 1 (3 1)

    $PREFIX NS "bird_step_rot_down_arrive":
        animation: cycle 4
        shapes:
            # frame 2 is equivalent to bird_stand, for debugging purposes
            # frame 3 is equivalent to bird_step's frame 1, for debugging purposes
            : $PREFIX NS "bird_stand" eval((0 -1 -3 -1) + (-1 0 2 0))  1 f 0 (0 1)
            : $PREFIX NS "bird_stand" eval((0 -1 -3 -1) + ( 0 0 3 0))  1 f 0 (1 1)
            : $PREFIX NS "bird_stand" (0  0  0  0)  0 f 0 (2 1)
            : $PREFIX NS "bird_step"  (0 -1 -3 -1)  2 f 1 (3 1)

    $PREFIX NS "bird_crawl_arrive":
        animation: cycle 2
        shapes:
            : $PREFIX NS "bird_legs_stand" (0 0 0 0) 0 f
            : $PREFIX NS "bird_head" (-2 0 4  2)  0 f 0+ (0 1)
            : $PREFIX NS "bird_head" (-1 0 2  1)  0 f 0+ (1 1)

    $PREFIX NS "bird_crawl_stand":
        # Inverse of "bird_crawl_arrive"
        animation: cycle 2
        shapes:
            : $PREFIX NS "bird_legs_stand" (0 0 0 0) 0 f
            : $PREFIX NS "bird_head" (-1 0 2  1)  0 f 0+ (0 1)
            : $PREFIX NS "bird_head" (-2 0 4  2)  0 f 0+ (1 1)

    $PREFIX NS "bird_crawl":
        shapes:
            : $PREFIX NS "bird_head" ( 0 0 0  0)  0 f

    $PREFIX NS "bird_crawl_turn":
        animation: cycle 2
        shapes:
            : $PREFIX NS "bird_head_turn" ( 0 0 0  0)  0 f 0+ (0 2)

    $PREFIX NS "bird_crawl_turn_arrive":
        animation: cycle 2
        shapes:
            : $PREFIX NS "bird_head_turn" ( 0 0 0  0)  0 f 1 (0 1)
            : $PREFIX NS "bird_head_turn" ( 0 0 0  0)  0 f 0 (1 1)

shapes:

    #########
    # FLIER #
    #########

    "flier_born_sixth":
        prismels:
            : "tri" (0 0 0 0) 0 f eval: 1 + 8 + 3
            : "tri" (1 0 0 0) 2 f eval: 1 + 8 + 4

    "flier_born":
        shapes:
            : "flier_born_sixth" (0 0 0 0)  0 f
            : "flier_born_sixth" (0 0 0 0)  2 f
            : "flier_born_sixth" (0 0 0 0)  4 f
            : "flier_born_sixth" (0 0 0 0)  6 f
            : "flier_born_sixth" (0 0 0 0)  8 f
            : "flier_born_sixth" (0 0 0 0) 10 f



$SET_STR PLAYER_HEAD "player_head"
$SET_STR NS ""
$UNSET_BOOL PLAYER_FLIER
import "data/_flier.fus"

$SET_STR PLAYER_HEAD "flierplayer_head"
$SET_STR NS "flierplayer_"
$SET_BOOL PLAYER_FLIER
import "data/_flier.fus"


shapes:

    ###############
    # DEATH FLIER #
    ###############

    "death_flier": map ("l.blu") ("flier")
    "death_flier_fly": map ("l.blu") ("flier_fly")
    #"death_flier_born": map ("l.blu") ("flier_born")
anim: "anim/player.fus"
state: "crawl"
pos: ( -11 10)
rot: 0
turn: yes
keys:
    x:
    y:
    u:
    d: is was
    l:
    r:
data: " w20-d w32+r w4-r w28+l w2-l w30+l w1-l w59+l w21-l w17+l w9-l w1+d w3+l w11-l w41+r w17-d w32-r w4+l w2-l w18+r w8-r w25+d w2+l w18-l w14-d w2+r w14-r w43"

# Expected vars:
# NS (str), e.g. "player_"

shapes:

    ##########
    # PLAYER #
    ##########

    # Both legs shown with origin of player:
    #
    #      -+   .   +-
    #     / |       | \
    #   +-  |       |  -+
    #   | \ |       | / |
    #  /   -+   .   +-   \
    # |     |       |     |
    # +-   /         \   -+
    # | \ |           | / |
    # |  -+   .   .   +-  |
    # | /               \ |
    # 0-                 -+

    # One leg shown with its origin:
    #
    #      -0
    #     / |
    #   +-  |
    #   | \ |
    #  /   -+
    # |     |
    # +-   /
    # | \ |
    # |  -+
    # | /
    # +-

    $PREFIX NS "bleg":
        prismels:
            : "tri" (  0 -1  0  0) 11 f eval: 1 + 8 + 5
            : "sq"  (  0 -1 -1  0) 11 f eval: 1 + 8 + 3
            : "tri" (  0 -1 -1 -1)  1 f eval: 1 + 8 + 3

    $PREFIX NS "fleg":
        shapes:
            # For historical reasons, "bleg" and "fleg" look exactly the same,
            # just "fleg" is usually rotated 180 degrees wherever its used...
            # However, they're separate in case we ever want to tweak one.
            : $PREFIX NS "bleg" (0 0 0 0) 0 f

    $PREFIX NS "_head_sixth":
        #      _ +
        #    +    \
        #   / \  _ +
        # (+)- + _ |
        #          +
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 1
            : "tri" (1 0 0 0) 11 f eval: 1 + 8 + 2
            : "sq"  (1 0 0 0)  1 f eval: 1 + 8 + 1

    $PREFIX NS "_head_spike":
        prismels:
            : "tri" (0 1 1 0) 10 f eval: 1 + 8 + 5

    $PREFIX NS "_head_spike_long":
        prismels:
            : "sq"  (0 1 1 0) 10 f eval: 1 + 0 + 5
            : "tri" (0 2 1 0) 10 f eval: 1 + 8 + 5

    $PREFIX NS "head_spikes":
        shapes:
            : $PREFIX NS "_head_spike" (0 0 0 0)  0 f
            : $PREFIX NS "_head_spike" (0 0 0 0)  2 f
            : $PREFIX NS "_head_spike" (0 0 0 0)  4 f
            : $PREFIX NS "_head_spike" (0 0 0 0)  6 f

    $PREFIX NS "head_spikes_extended":
        shapes:
            : $PREFIX NS "_head_spike_long" (0 0 0 0)  0 f
            : $PREFIX NS "_head_spike"      (0 0 0 0)  1 f
            : $PREFIX NS "_head_spike_long" (0 0 0 0)  2 f
            : $PREFIX NS "_head_spike"      (0 0 0 0)  3 f
            : $PREFIX NS "_head_spike_long" (0 0 0 0)  4 f
            : $PREFIX NS "_head_spike"      (0 0 0 0)  5 f
            : $PREFIX NS "_head_spike_long" (0 0 0 0)  6 f

    $PREFIX NS "eye":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 4

    $PREFIX NS "_head":
        $IF PLAYER_ROLLER:
            shapes:
                : "_roller_body_hollow" (0 0 0 0)  0 f
        $IF !PLAYER_ROLLER:
            shapes:
                : $PREFIX NS "_head_sixth" (0 0 0 0)  0 f
                : $PREFIX NS "_head_sixth" (0 0 0 0)  2 f
                : $PREFIX NS "_head_sixth" (0 0 0 0)  4 f
                : $PREFIX NS "_head_sixth" (0 0 0 0)  6 f
                : $PREFIX NS "_head_sixth" (0 0 0 0)  8 f
                : $PREFIX NS "_head_sixth" (0 0 0 0) 10 f
            $IF PLAYER_AIMER:
                prismels:
                    : "sq"  (-1 -1  0  0)  3 f eval: 1 + 8 + 1
            $IF PLAYER_FLIER:
                prismels:
                    : "dia" (-1  0  1  1)  6 f eval: 1 + 8 + 1
                    : "tri" (-1 -1  0  0)  3 f eval: 1 + 8 + 1
                    : "dia" ( 0  0 -1 -1)  5 f eval: 1 + 8 + 1

    $PREFIX NS "nose":
        prismels:
            $IF PLAYER_AIMER:
                : "sq"  (0 0 0 0) 0 f eval: 1 + 8 + 1
                : "sq"  (1 0 0 0) 0 f eval: 1 + 8 + 2
                : "tri" (2 0 0 0) 1 f eval: 1 + 8 + 1
            $IF !PLAYER_AIMER:
                : "sq"  (0 0 0 0) 0 f eval: 1 + 8 + 1
                : "tri" (1 0 0 0) 1 f eval: 1 + 8 + 2

    $PREFIX NS "head":
        shapes:
            : $PREFIX NS "_head" (0 0 0 0) 0 f
            : $PREFIX NS "eye" (0 0 0 0)  0 f
            : $PREFIX NS "nose" (1 1 0 -1) 0 f
            $IF PLAYER_SPIKEY:
                : $PREFIX NS "head_spikes" (0 0 0 0)  0 f

    $PREFIX NS "crawl_head":
        shapes:
            : $PREFIX NS "_head" (0 0 0 0) 0 f
            : $PREFIX NS "eye" (0 0 0 0)  0 f
            : $PREFIX NS "nose" (1 1 0 -1) 0 f
            $IF PLAYER_SPIKEY:
                : $PREFIX NS "head_spikes_extended" (0 0 0 0)  0 f

    $PREFIX NS "sleep_head":
        shapes:
            : $PREFIX NS "_head" (0 0 0 0) 0 f
            # No eye (it's "closed")
            : $PREFIX NS "nose" (1 1 0 -1) 0 f
            $IF PLAYER_SPIKEY:
                : $PREFIX NS "head_spikes" (0 0 0 0)  0 f

    $PREFIX NS "stand":
        shapes:
            : $PREFIX NS "head" ( 0  1  3  1)  0 f
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "look_up":
        shapes:
            : $PREFIX NS "head" ( 0  1  3  1)  1 f
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "looking_up":
        shapes:
            : $PREFIX NS "head" ( 0  1  3  1)  2 f
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "step":
        animation: cycle 4
        shapes:
            : $PREFIX NS "head" (-1  0  3  1)  0 f  0 (0 1)
            : $PREFIX NS "head" ( 0  0  3  1)  0 f  0 (1 1)
            : $PREFIX NS "head" ( 0  1  3  1)  0 f  0 (2 1)
            : $PREFIX NS "head" ( 0  1  3  1)  0 f  0 (3 1)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "spit":
        animation: cycle 10
        shapes:
            # Player stand:
            #: $PREFIX NS "head" ( 0  1  3  1)  0 f  0 (6 1)
            #: $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (6 1)
            #: $PREFIX NS "fleg"  ( 2  1  1  1)  6 t  0 (6 1)

            # Head
            : $PREFIX NS "head" (-2  1  3  1)  0 f  0 (0 1)
            : $PREFIX NS "head" (-2  0  3  1)  0 f  0 (1 4)
            : $PREFIX NS "head" (-2  1  3  1)  0 f  0 (5 1)
            : $PREFIX NS "head" (-1  1  3  1)  0 f  0 (6 1)
            : $PREFIX NS "head" ( 0  1  3  1)  0 f  0 (7 3)

            # Back leg
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f  0 (0 1)
            : $PREFIX NS "bleg"  (-2  1  1  1)  1 f  0 (1 5)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f  0 (6 1)
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (7 3)

            # Front leg
            : $PREFIX NS "fleg"  ( 1  1  1  1)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  7 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  6 t  0 (2 7)
            : $PREFIX NS "fleg"  ( 1  1  1  1)  6 t  0 (9 1)

    $PREFIX NS "looking_up_spit":
        animation: cycle 10
        shapes:
            # Player stand:
            #: $PREFIX NS "head" ( 0  1  3  1)  0 f  0 (6 1)
            #: $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (6 1)
            #: $PREFIX NS "fleg"  ( 2  1  1  1)  6 t  0 (6 1)

            # Head
            : $PREFIX NS "head" (-2  1  3  1)  2 f  0 (0 1)
            : $PREFIX NS "head" (-2  0  3  1)  2 f  0 (1 4)
            : $PREFIX NS "head" (-2  1  3  1)  2 f  0 (5 1)
            : $PREFIX NS "head" (-1  1  3  1)  2 f  0 (6 1)
            : $PREFIX NS "head" ( 0  1  3  1)  2 f  0 (7 3)

            # Back leg
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f  0 (0 1)
            : $PREFIX NS "bleg"  (-2  1  1  1)  1 f  0 (1 5)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f  0 (6 1)
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (7 3)

            # Front leg
            : $PREFIX NS "fleg"  ( 1  1  1  1)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  7 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  6 t  0 (2 7)
            : $PREFIX NS "fleg"  ( 1  1  1  1)  6 t  0 (9 1)

    $PREFIX NS "crawl_spit":
        animation: cycle 10
        shapes:
            # Player crawl:
            #: $PREFIX NS "crawl_head" ( 0  1  2  0)  0 f
            #: $PREFIX NS "bleg"  (-1  1  1  1)  0 f
            #: $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

            # Head
            : $PREFIX NS "crawl_head" (-2  1  2  0)  0 f  0 (0 1)
            : $PREFIX NS "crawl_head" (-2  0  2  0)  0 f  0 (1 4)
            : $PREFIX NS "crawl_head" (-2  1  2  0)  0 f  0 (5 1)
            : $PREFIX NS "crawl_head" (-1  1  2  0)  0 f  0 (6 1)
            : $PREFIX NS "crawl_head" ( 0  1  2  0)  0 f  0 (7 3)

            # Back leg
            : $PREFIX NS "bleg"  (-2  1  1  1)  0 f  0 (0 1)
            : $PREFIX NS "bleg"  (-3  1  1  1)  1 f  0 (1 5)
            : $PREFIX NS "bleg"  (-2  1  1  1)  0 f  0 (6 1)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f  0 (7 3)

            # Front leg
            : $PREFIX NS "fleg"  ( 1  1  1  1)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  7 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 0  1  1  1)  6 t  0 (2 7)
            : $PREFIX NS "fleg"  ( 1  1  1  1)  6 t  0 (9 1)

    $PREFIX NS "crawl_looking_up_spit":
        animation: cycle 10
        shapes:
            # player_crawl_looking_up:
            #: $PREFIX NS "crawl_head" ( 3  1  1  1)  2 f
            #: $PREFIX NS "bleg"  ( 1  1  1  1)  0 f
            #: $PREFIX NS "fleg"  ( 4  2  0  0)  5 t

            # Head
            : $PREFIX NS "crawl_head" ( 1  1  1  1)  2 f  0 (0 1)
            : $PREFIX NS "crawl_head" ( 1  0  1  1)  2 f  0 (1 4)
            : $PREFIX NS "crawl_head" ( 1  1  1  1)  2 f  0 (5 1)
            : $PREFIX NS "crawl_head" ( 2  1  1  1)  2 f  0 (6 1)
            : $PREFIX NS "crawl_head" ( 3  1  1  1)  2 f  0 (7 3)

            # Back leg
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (0 1)
            : $PREFIX NS "bleg"  (-1  1  1  1)  1 f  0 (1 5)
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f  0 (6 1)
            : $PREFIX NS "bleg"  ( 1  1  1  1)  0 f  0 (7 3)

            # Front leg
            : $PREFIX NS "fleg"  ( 2  2  1  0)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 1  2  1  0)  7 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 1  2  1  0)  6 t  0 (2 7)
            : $PREFIX NS "fleg"  ( 2  2  1  0)  6 t  0 (9 1)

    $PREFIX NS "_swim_spit_leg":
        animation: cycle 10
        shapes:
            # Used for back *and* front leg
            : $PREFIX NS "fleg"  ( 0  2  1  0)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 0  1  1  0)  8 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 0  0  1  0)  8 t  0 (2 1)
            : $PREFIX NS "fleg"  ( 0  0  1  0)  7 t  0 (3 1)
            : $PREFIX NS "fleg"  ( 0  0  1  0)  6 t  0 (4 1)
            : $PREFIX NS "fleg"  ( 0  0  1  0)  5 t  0 (5 1)
            : $PREFIX NS "fleg"  ( 1  0  1  0)  4 t  0 (6 1)
            : $PREFIX NS "fleg"  ( 1  1  1  0)  4 t  0 (7 1)
            : $PREFIX NS "fleg"  ( 1  2  1  0)  4 t  0 (8 1)
            : $PREFIX NS "fleg"  ( 1  3  1  0)  5 t  0 (9 1)

    $PREFIX NS "swim_spit":
        animation: cycle 10
        shapes:
            # Head
            : $PREFIX NS "head" (-2  1  3  0)  1 f  0 (0 1)
            : $PREFIX NS "head" (-2  0  3  0)  1 f  0 (1 1)
            : $PREFIX NS "head" (-2 -1  3  0)  1 f  0 (2 2)
            : $PREFIX NS "head" (-1 -1  3  0)  1 f  0 (4 1)
            : $PREFIX NS "head" ( 0 -1  3  0)  0 f  0 (5 1)
            : $PREFIX NS "head" ( 0  0  3  0)  0 f  0 (6 1)
            : $PREFIX NS "head" ( 0  1  3  0)  0 f  0 (7 1)
            : $PREFIX NS "head" ( 0  1  4  0)  0 f  0 (8 1)
            : $PREFIX NS "head" ( 0  2  3  1)  0 f  0 (9 1)

            # Back leg
            : $PREFIX NS "_swim_spit_leg" (-1 -1 0 1) 0 f

            # Front leg
            : $PREFIX NS "_swim_spit_leg" ( 0  0 0 0) 0 f

    $PREFIX NS "_jump":
        shapes:
            : $PREFIX NS "head" ( 0  1  3  1)  0 f
            : $PREFIX NS "bleg"  ( 0  1  1  1) 10 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  7 t

    $PREFIX NS "jump":
        animation: cycle 3
        shapes:
            # The following is very "smooth", but somehow ends up looking
            # strange compared to the version below which pauses on the
            # first frame. *shrug*
            #: $PREFIX NS "_jump" (-2 0 0  0) 0 f  0 (0 1)
            #: $PREFIX NS "_jump" (-1 0 0  0) 0 f  0 (1 1)
            #: $PREFIX NS "_jump" ( 0 0 0  0) 0 f  0 (2 1)

            : $PREFIX NS "_jump" (-1 0 0  0) 0 f  0 (0 2)
            : $PREFIX NS "_jump" ( 0 0 0  0) 0 f  0 (2 1)

    $PREFIX NS "swim_jump":
        animation: cycle 5
        shapes:
            : $PREFIX NS "_jump" (-2 0 0  0) 0 f  0 (0 1)
            : $PREFIX NS "_jump" (-1 0 0  0) 0 f  0 (1 2)
            : $PREFIX NS "_jump" ( 0 0 0  0) 0 f  0 (3 2)

    $PREFIX NS "crawl":
        shapes:
            : $PREFIX NS "crawl_head" ( 0  1  2  0)  0 f
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "crawl_look_up":
        shapes:
            : $PREFIX NS "crawl_head" ( 1  1  2  0)  1 f
            : $PREFIX NS "bleg"  ( 1  0  2  1) 11 f
            : $PREFIX NS "fleg"  ( 3  1  1  1)  5 t

    $PREFIX NS "crawl_looking_up":
        shapes:
            : $PREFIX NS "crawl_head" ( 3  1  1  1)  2 f
            : $PREFIX NS "bleg"  ( 1  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 4  2  0  0)  5 t


    $PREFIX NS "crawl_step":
        animation: cycle 3
        shapes:
            : $PREFIX NS "crawl_head" (-1  0  2  1)  1 f  0 (0 1)
            : $PREFIX NS "crawl_head" ( 0  0  2  1)  1 f  0 (1 1)
            : $PREFIX NS "crawl_head" ( 0  1  2  0)  1 f  0 (2 1)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  2)  7 t  0 (0 1)
            : $PREFIX NS "fleg"  ( 3  1  1  2)  6 t  0 (1 1)
            : $PREFIX NS "fleg"  ( 3  1  1  1)  6 t  0 (2 1)

    $IF PLAYER_SPIKEY: $PREFIX NS "crawl_shielding":
        animation: cycle 5
        shapes:
            : $PREFIX NS "crawl_head" ( 2  1  2  0)  0 f 0 (0 1)
            : $PREFIX NS "bleg"  ( 1  1  1  1)  0 f 0 (0 1)
            : $PREFIX NS "fleg"  ( 4  1  1  1)  6 t 0 (0 1)

            : $PREFIX NS "crawl_head" (-1  1  2  0)  0 f 0 (1 1)
            : $PREFIX NS "bleg"  (-2  1  1  1)  0 f 0 (1 1)
            : $PREFIX NS "fleg"  ( 1  1  1  1)  6 t 0 (1 1)

            : $PREFIX NS "crawl_head" ( 1  1  2  0)  0 f 0 (2 1)
            : $PREFIX NS "bleg"  ( 0  1  1  1)  0 f 0 (2 1)
            : $PREFIX NS "fleg"  ( 3  1  1  1)  6 t 0 (2 1)

            : $PREFIX NS "crawl_head" ( 0  1  2  0)  0 f 0 (3 2)
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f 0 (3 2)
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t 0 (3 2)

    $PREFIX NS "sleep":
        shapes:
            : $PREFIX NS "sleep_head" ( 0  1  2  0)  0 f
            : $PREFIX NS "bleg"  (-1  1  1  1)  0 f
            : $PREFIX NS "fleg"  ( 2  1  1  1)  6 t

    $PREFIX NS "swim":
        animation: cycle 12
        shapes:
            : $PREFIX NS "head" ( 0  1  3  2)  0 f 0 ( 0 2)
            : $PREFIX NS "bleg"  ( 0  1  1  2)  1 f 0 ( 0 2)
            : $PREFIX NS "fleg"  ( 2  1  1  2)  5 t 0 ( 0 2)

            : $PREFIX NS "head" ( 0  1  3  3)  0 f 0 ( 2 2)
            : $PREFIX NS "bleg"  ( 0  1  1  3)  1 f 0 ( 2 2)
            : $PREFIX NS "fleg"  ( 2  1  1  3)  5 t 0 ( 2 2)

            : $PREFIX NS "head" ( 0  1  3  3)  0 f 0 ( 4 2)
            : $PREFIX NS "bleg"  ( 0  1  1  3)  0 f 0 ( 4 2)
            : $PREFIX NS "fleg"  ( 2  1  1  3)  6 t 0 ( 4 2)

            : $PREFIX NS "head" ( 0  1  3  2)  0 f 0 ( 6 2)
            : $PREFIX NS "bleg"  ( 0  1  1  2)  0 f 0 ( 6 2)
            : $PREFIX NS "fleg"  ( 2  1  1  2)  6 t 0 ( 6 2)

            : $PREFIX NS "head" ( 0  1  3  1)  0 f 0 ( 8 2)
            : $PREFIX NS "bleg"  ( 0  1  1  1) -1 f 0 ( 8 2)
            : $PREFIX NS "fleg"  ( 2  1  1  1)  7 t 0 ( 8 2)

            : $PREFIX NS "head" ( 0  1  3  0)  0 f 0 (10 2)
            : $PREFIX NS "bleg"  ( 0  1  1  0) -2 f 0 (10 2)
            : $PREFIX NS "fleg"  ( 2  1  1  0)  8 t 0 (10 2)


prismels:

    # Here's the basic idea:
    #
    #
    #        O---O
    #     ---|%%%|---
    #    O%%%|%%%|%%%O
    #   |%---|%%%|---%|
    #   |%%%%O---O%%%%|
    #   |%%%|%|%|%|%%%|
    #  O%%%%|%|%|%|%%%%O
    #  |---%|%|%|%|%---|
    #  |%%%O---O---O%%%|
    #  |---%|%|%|%|%---|
    #  O%%%%|%|%|%|%%%%O
    #   |%%%|%|%|%|%%%|
    #   |%%%%O---O%%%%|
    #   |%---|%%%|---%|
    #    O%%%|%%%|%%%O
    #     ---|%%%|---
    #        O---O
    #
    # "diam" prismels are a bit odd, they cause edges to overlap, see
    # the instances of "+" below:
    #
    #       O---O
    #        |%||---
    #        |%||%%%O
    #        |%||--+%|
    #         O%O%%|%|
    #         ||%%%|%|
    #         ||%%O---O
    #         |+--%---|
    #         O---O%%%|
    #              ---O
    #
    #

    "vert":

        # X

        images:
            : (0 0 1)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)
            (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0) (0)

    "edge":

        #            + + +
        #            + + +
        #       +++  + + +  +++
        # .+++ .    .  .  .    . +++.    .  . . .  .
        #                             +++  +  +  +  +++
        #                                  +  +  +
        #                                  +  +  +

        images:
            : ( 1  0 3)
            : ( 1 -1 3)
            : ( 1 -3 1) ( 1 -2 1) ( 1 -1 1)
            : ( 0 -3 1) ( 0 -2 1) ( 0 -1 1)
            : (-1 -3 1) (-1 -2 1) (-1 -1 1)
            : (-3 -1 3)
            : (-3  0 3)
            : (-3  1 3)
            : (-1  1 1) (-1  2 1) (-1  3 1)
            : ( 0  1 1) ( 0  2 1) ( 0  3 1)
            : ( 1  1 1) ( 1  2 1) ( 1  3 1)
            : ( 1  1 3)
            :  0
            : 11
            : 10
            :  9
            :  8
            :  7
            :  6
            :  5
            :  4
            :  3
            :  2
            :  1

    "sq":

        # +---+
        # |   |
        # |   |
        # 0---+

        #
        #          +   +
        #       ++++   ++++
        #  +++   +++   +++  +++     +                                         +
        #  +++   ++++ ++++  +++  ++++                                         ++++
        #  +++   +       +  +++   +++    +                               +    +++
        # .      .       .     .  ++++.  ++++.    .    .   .    .    .++++  .++++
        #                         +      +++   +++     +   +     +++   +++      +
        #                               ++++   +++  ++++   ++++  +++   ++++
        #                                  +   +++   +++   +++   +++   +
        #                                            ++++ ++++
        #                                            +       +
        #

        images:

            #########
            # TODO
            #########

            () () () () () () () () () () () ()
            () () () () () () () () () () () ()
            #: ( 1 -3 3) ( 1 -2 3) ( 1 -1 3)
            #: ( 2 -5 1) (-1 -4 4) ( 0 -3 3) ( 0 -2 4) ( 0 -1 1)
            #: ( 2 -5 1) (-1 -4 4) ( 0 -3 3) ( 0 -2 4) ( 0 -1 1)

    "tri":

        #   +
        #   |
        #  / \
        # |   |
        # 0---+

        #   +         +        +
        #   +    +++  +  +++   +
        #   +         +        +
        # .     .     .     .    .  +++ .    .     .   .  .     .    . +++
        #                                  +           +          +
        #                                  +    +++    +   +++    +
        #                                  +           +          +

        images:
            : ( 2 -3 1) ( 2 -2 1) ( 2 -1 1)
            : ( 1 -2 3)
            : ( 0 -3 1) ( 0 -2 1) ( 0 -1 1)
            : (-3 -2 3)
            : (-2 -3 1) (-2 -2 1) (-2 -1 1)
            : (-3  0 3)
            : (-2  1 1) (-2  2 1) (-2  3 1)
            : (-3  2 3)
            : ( 0  1 1) ( 0  2 1) ( 0  3 1)
            : ( 1  2 3)
            : ( 2  1 1) ( 2  2 1) ( 2  3 1)
            : ( 1  0 3)
            :  10
            :   9
            :   8
            :   7
            :   6
            :   5
            :   4
            :   3
            :   2
            :   1
            :   0
            :  11

    "dia":

        #    -+---+
        #   /   /
        # 0---+-

        images:

            #########
            # TODO
            #########

            () () () () () () () () () () () ()
            () () () () () () () () () () () ()


shapes:

    ##########
    # DODECA #
    ##########

    "dodeca_sixth":

        #   +
        #  +++
        # ++++
        # .  +

        #      -+
        #     / |
        #   +-   \
        #   |     |
        #  / \   -+
        # |   | / |
        # 0---+-  |
        #       \ |
        #        -+

        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 1
            : "tri" (1 0 0 0) 11 f eval: 1 + 2
            : "sq"  (1 0 0 0)  1 f eval: 1 + 3

    "dodeca":
        shapes:
            : "dodeca_sixth" (0 0 0 0)  0 f
            : "dodeca_sixth" (0 0 0 0)  2 f
            : "dodeca_sixth" (0 0 0 0)  4 f
            : "dodeca_sixth" (0 0 0 0)  6 f
            : "dodeca_sixth" (0 0 0 0)  8 f
            : "dodeca_sixth" (0 0 0 0) 10 f


    ###############
    # DODECA ANIM #
    ###############

    "dodeca_anim_sixth":
        animation: oscillate 6
        shapes:
            : "dodeca_sixth" (0 0 0 0) 0 f
        prismels:
            : "tri" (1 1 0 0)  2 f eval(1 + 4) (1 1)
            : "sq"  (1 1 0 0)  1 f eval(1 + 4) (2 4)
            : "tri" (1 2 0 0)  2 f eval(1 + 3) (3 1)
            : "sq"  (1 2 0 0)  1 f eval(1 + 3) (4 2)
            : "tri" (1 3 0 0)  2 f eval(1 + 2) (5 1)

    "dodeca_anim":
        animation: cycle 12
        shapes:
            : "dodeca_anim_sixth" (0 0 0 0)  0 f  0+
            : "dodeca_anim_sixth" (0 0 0 0)  2 f  2+
            : "dodeca_anim_sixth" (0 0 0 0)  4 f  4+
            : "dodeca_anim_sixth" (0 0 0 0)  6 f  6+
            : "dodeca_anim_sixth" (0 0 0 0)  8 f  8+
            : "dodeca_anim_sixth" (0 0 0 0) 10 f 10+


    ############
    # DODECA B #
    ############

    "dodeca_B_twelfth":
        animation: oscillate 6

        #       +
        #       |
        #      / \
        #     |   |
        #    -+---+
        #   /   /
        # 0---+-

        prismels:
            : "dia" (0 0 0 0)  0 f eval(1 + 1) (0 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 1) (0 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 1) (1 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 2) (1 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 2) (2 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 3) (2 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 3) (3 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 4) (3 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 4) (4 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 5) (4 1)
            : "dia" (0 0 0 0)  0 f eval(1 + 5) (5 1)
            : "tri" (0 1 0 0)  0 f eval(1 + 5) (5 1)

    "dodeca_B":
        animation: cycle 12

        shapes:
            : "dodeca_B_twelfth" (0 0 0 0)  0 f  0+
            : "dodeca_B_twelfth" (0 0 0 0)  1 f  1+
            : "dodeca_B_twelfth" (0 0 0 0)  2 f  2+
            : "dodeca_B_twelfth" (0 0 0 0)  3 f  3+
            : "dodeca_B_twelfth" (0 0 0 0)  4 f  4+
            : "dodeca_B_twelfth" (0 0 0 0)  5 f  5+
            : "dodeca_B_twelfth" (0 0 0 0)  6 f  6+
            : "dodeca_B_twelfth" (0 0 0 0)  7 f  7+
            : "dodeca_B_twelfth" (0 0 0 0)  8 f  8+
            : "dodeca_B_twelfth" (0 0 0 0)  9 f  9+
            : "dodeca_B_twelfth" (0 0 0 0) 10 f 10+
            : "dodeca_B_twelfth" (0 0 0 0) 11 f 11+


char_w: 8
char_h: 8
chars:
    " ":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
    "A":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 222222 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "B":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 22222  "
        " 2    2 "
        " 2    2 "
        " 222221 "
    "C":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 122222 "
    "D":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 222221 "
    "E":
        "        "
        " 222222 "
        " 2      "
        " 2      "
        " 222222 "
        " 2      "
        " 2      "
        " 222222 "
    "F":
        "        "
        " 222222 "
        " 2      "
        " 2      "
        " 22222  "
        " 2      "
        " 2      "
        " 2      "
    "G":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 2      "
        " 2  222 "
        " 2    2 "
        " 122222 "
    "H":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 222222 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "I":
        "        "
        "  222   "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "  222   "
    "J":
        "        "
        "    222 "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        " 2   2  "
        " 12221  "
    "K":
        "        "
        " 2    2 "
        " 2   21 "
        " 2  21  "
        " 2221   "
        " 2  21  "
        " 2   21 "
        " 2    2 "
    "L":
        "        "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 2      "
        " 222222 "
    "M":
        "        "
        " 2    2 "
        " 21  12 "
        " 221122 "
        " 2 22 2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "N":
        "        "
        " 21   2 "
        " 221  2 "
        " 2 21 2 "
        " 2  212 "
        " 2   22 "
        " 2    2 "
        " 2    2 "
    "O":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "P":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 222221 "
        " 2      "
        " 2      "
        " 2      "
    "Q":
        "        "
        "  1221  "
        " 12  21 "
        " 2    2 "
        " 2  1 2 "
        " 2  212 "
        " 2   22 "
        "  22222 "
    "R":
        "        "
        " 22221  "
        " 2   21 "
        " 2    2 "
        " 222221 "
        " 2  21  "
        " 2   21 "
        " 2    2 "
    "S":
        "        "
        "  12221 "
        " 12   2 "
        " 2      "
        " 12222  "
        "      2 "
        " 2    2 "
        " 122221 "
    "T":
        "        "
        " 222222 "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "U":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "V":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 21  12 "
        "  2  2  "
        "  2112  "
        "   22   "
    "W":
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2 11 2 "
        " 212212 "
        " 22  22 "
        " 2    2 "
    "X":
        "        "
        " 21  12 "
        "  2  2  "
        "  2112  "
        "   22   "
        "  1221  "
        " 12  21 "
        " 2    2 "
    "Y":
        "        "
        " 2   2  "
        " 2   2  "
        " 21 12  "
        "  212   "
        "   2    "
        "   2    "
        "   2    "
    "Z":
        "        "
        " 222222 "
        "    12  "
        "   12   "
        "  12    "
        " 12     "
        " 2      "
        " 222222 "
    "a":
        "        "
        "        "
        "  22221 "
        "      2 "
        " 122222 "
        " 2    2 "
        " 2    2 "
        " 122222 "
    "b":
        "        "
        " 2      "
        " 2      "
        " 222221 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 222221 "
    "c":
        "        "
        "        "
        "        "
        " 122222 "
        " 2      "
        " 2      "
        " 2      "
        " 122222 "
    "d":
        "        "
        "      2 "
        "      2 "
        " 122222 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122222 "
    "e":
        "        "
        "        "
        "        "
        " 122221 "
        " 2    2 "
        " 222222 "
        " 2      "
        " 122222 "
    "f":
        "        "
        "   1222 "
        "   2    "
        "  2222  "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "g":
        "        "
        "  12222 "
        "  2   2 "
        "  12221 "
        "     2  "
        " 122222 "
        " 2    2 "
        " 122222 "
    "h":
        "        "
        " 2      "
        " 2      "
        " 222221 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "i":
        "        "
        "        "
        "   2    "
        "        "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "j":
        "        "
        "        "
        "    2   "
        "        "
        "    2   "
        "    2   "
        "    2   "
        "  221   "
    "k":
        "        "
        " 2      "
        " 2      "
        " 2   2  "
        " 2  21  "
        " 2221   "
        " 2  21  "
        " 2   2  "
    "l":
        "        "
        "   12   "
        "    2   "
        "    2   "
        "    2   "
        "    2   "
        "    2   "
        "    21  "
    "m":
        "        "
        "        "
        "        "
        " 121121 "
        " 2 22 2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "n":
        "        "
        "        "
        "        "
        " 222221 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
    "o":
        "        "
        "        "
        "        "
        " 122221 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "p":
        "        "
        "        "
        "        "
        " 222221 "
        " 2    2 "
        " 222221 "
        " 2      "
        " 2      "
    "q":
        "        "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12222  "
        "     2  "
        "     2  "
        "     21 "
    "r":
        "        "
        "        "
        "        "
        " 122221 "
        " 2    2 "
        " 2      "
        " 2      "
        " 2      "
    "s":
        "        "
        "        "
        "        "
        " 122222 "
        " 2      "
        " 122221 "
        "      2 "
        " 222221 "
    "t":
        "        "
        "   2    "
        "   2    "
        "  222   "
        "   2    "
        "   2    "
        "   2    "
        "   21   "
    "u":
        "        "
        "        "
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 122222 "
    "v":
        "        "
        "        "
        "        "
        " 2    2 "
        " 21  12 "
        "  2  2  "
        "  2112  "
        "   22   "
    "w":
        "        "
        "        "
        "        "
        " 2    2 "
        " 2    2 "
        " 2    2 "
        " 2 22 2 "
        " 121121 "
    "x":
        "        "
        "        "
        "        "
        " 2    2 "
        " 12  21 "
        "  1221  "
        " 12  21 "
        " 2    2 "
    "y":
        "        "
        "        "
        "        "
        " 2    2 "
        " 2    2 "
        " 122222 "
        "      2 "
        " 222221 "
    "z":
        "        "
        "        "
        "        "
        " 222221 "
        "    21  "
        "   21   "
        "  21    "
        " 222222 "
    "0":
        "        "
        "  1221  "
        " 12  21 "
        " 2  122 "
        " 2 12 2 "
        " 212  2 "
        " 22   2 "
        " 122221 "
    "1":
        "    1   "
        "   12   "
        "   22   "
        "    2   "
        "    2   "
        "    2   "
        "    2   "
        "   222  "
    "2":
        "        "
        "  12221 "
        "  2   2 "
        "     12 "
        "    12  "
        "   12   "
        "  12    "
        "  22222 "
    "3":
        "        "
        "  12221 "
        "  2   2 "
        "      2 "
        "    221 "
        "      2 "
        "  2   2 "
        "  12221 "
    "4":
        "     1  "
        "    12  "
        "   122  "
        "  12 2  "
        " 12  2  "
        " 222222 "
        "     2  "
        "     2  "
    "5":
        "        "
        " 22222  "
        " 2      "
        " 22221  "
        "     21 "
        "      2 "
        " 2    2 "
        " 122221 "
    "6":
        "        "
        "  1222  "
        " 12     "
        " 2      "
        " 222221 "
        " 2    2 "
        " 2    2 "
        " 122221 "
    "7":
        "        "
        " 22222  "
        "     2  "
        "    12  "
        "   12   "
        "   2    "
        "   2    "
        "   2    "
    "8":
        "        "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12221  "
    "9":
        "        "
        " 12221  "
        " 2   2  "
        " 2   2  "
        " 12222  "
        "     2  "
        "     2  "
        "  2221  "
    "_":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        " 222222 "
    ".":
        "        "
        "        "
        "        "
        "        "
        "        "
        "        "
        "  22    "
        "  22    "
    ",":
        "        "
        "        "
        "        "
        "        "
        "        "
        "   2    "
        "  22    "
        "  21    "
    ":":
        "        "
        "  22    "
        "  22    "
        "        "
        "        "
        "        "
        "  22    "
        "  22    "
    ";":
        "        "
        "  22    "
        "  22    "
        "        "
        "        "
        "   2    "
        "  22    "
        "  21    "
    "(":
        "        "
        "   12   "
        "  12    "
        "  2     "
        "  2     "
        "  2     "
        "  12    "
        "   12   "
    ")":
        "        "
        "   21   "
        "    21  "
        "     2  "
        "     2  "
        "     2  "
        "    21  "
        "   21   "
    "[":
        "        "
        "  222   "
        "  2     "
        "  2     "
        "  2     "
        "  2     "
        "  2     "
        "  222   "
    "]":
        "        "
        "   222  "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        "     2  "
        "   222  "
    "{":
        "        "
        "   122  "
        "   2    "
        "   2    "
        " 221    "
        "   2    "
        "   2    "
        "   122  "
    "}":
        "        "
        "  221   "
        "    2   "
        "    2   "
        "    122 "
        "    2   "
        "    2   "
        "  221   "
    "+":
        "        "
        "        "
        "   2    "
        "   2    "
        " 22222  "
        "   2    "
        "   2    "
        "        "
    "-":
        "        "
        "        "
        "        "
        "        "
        " 22222  "
        "        "
        "        "
        "        "
    "*":
        "        "
        "  1 1   "
        "  212   "
        "   2    "
        " 22222  "
        "  121   "
        "  2 2   "
        "        "
    "/":
        "        "
        "     1  "
        "    12  "
        "   12   "
        "  12    "
        " 12     "
        " 2      "
        "        "
    "%":
        "        "
        "     1  "
        " 22 12  "
        " 2212   "
        "  12    "
        " 12 22  "
        " 2  22  "
        "        "
    "\\":
        "        "
        " 1      "
        " 21     "
        "  21    "
        "   21   "
        "    21  "
        "     2  "
        "        "
    "|":
        "        "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
    "'":
        "        "
        "   2    "
        "   2    "
        "        "
        "        "
        "        "
        "        "
        "        "
    "\"":
        "        "
        "  2 2   "
        "  2 2   "
        "        "
        "        "
        "        "
        "        "
        "        "
    "!":
        "        "
        "   2    "
        "   2    "
        "   2    "
        "   2    "
        "        "
        "   2    "
        "        "
    "?":
        "        "
        "  12221 "
        "  2   2 "
        "  2   2 "
        "     21 "
        "    21  "
        "        "
        "    2   "
    "@":
        "        "
        "  1221  "
        " 12  21 "
        " 2 12 2 "
        " 2 2 22 "
        " 2 1221 "
        " 2      "
        " 12222  "
    "#":
        "        "
        "  2  2  "
        " 222222 "
        "  2  2  "
        "  2  2  "
        " 222222 "
        "  2  2  "
        "        "
    "$":
        "        "
        "   2    "
        " 12222  "
        " 2 2    "
        " 12221  "
        "   2 2  "
        " 22221  "
        "   2    "
    "^":
        "   1    "
        "  121   "
        " 12 21  "
        " 2   2  "
        "        "
        "        "
        "        "
        "        "
    "&":
        "        "
        " 1221   "
        " 21 2   "
        "  21    "
        " 1221 1 "
        " 2  212 "
        " 2  121 "
        " 122212 "
    "`":
        " 1      "
        " 21     "
        "  2     "
        "        "
        "        "
        "        "
        "        "
        "        "
    "~":
        "        "
        "        "
        "        "
        " 1221 2 "
        " 2 1221 "
        "        "
        "        "
        "        "
    "<":
        "     1  "
        "    12  "
        "   12   "
        "  12    "
        "  21    "
        "   21   "
        "    21  "
        "     2  "
    ">":
        "  1     "
        "  21    "
        "   21   "
        "    21  "
        "    12  "
        "   12   "
        "  12    "
        "  2     "
    "=":
        "        "
        "        "
        " 22222  "
        "        "
        "        "
        " 22222  "
        "        "
        "        "

$SET_STR NS ""
$UNSET_BOOL PLAYER_BIRD
import "data/_bird.fus"

$SET_STR NS "birdplayer_"
$SET_BOOL PLAYER_BIRD
import "data/_bird.fus"
worldmaps:
    : "data/maps/wastes/worldmap.fus"
    : "data/maps/crazyspidertown/worldmap.fus"
    : "data/maps/demo/worldmap.fus"
    : "data/maps/triangles/worldmap.fus"
    : "data/maps/water/worldmap.fus"
    : "data/maps/wilderness/worldmap.fus"
    : "data/maps/test/worldmap.fus"
    : "data/maps/test/worldmap_minimal.fus"
    : "data/maps/title/worldmap.fus"
    : "data/maps/trees/worldmap.fus"
    : "data/maps/spidertown/worldmap.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;      /     \     /     \     /     \     /     \     /     \     /     \     /     \     /     \
    ;; .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   +   .   .
    ;;      \     /     \     /     \     /     \     /     \     /     \     /     \     /     \     /
    ;;   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

$UNSET_BOOL ALT
import "data/_minimap.fus"

$SET_BOOL ALT
import "data/_minimap.fus"

$SET_STR PREFIX "switch_"
$UNSET_BOOL ONEWAY
import "data/_switch.fus"

$SET_STR PREFIX "switch_oneway_"
$SET_BOOL ONEWAY
import "data/_switch.fus"

verts:
    "0": "map_vert0_bg"
edges:
    "0": "map_edge0_bg"
faces:
    "0": "map_face0_bg"

colors:

    :   0   0   0
    :   0   0 127
    :   0 127   0
    :   0 127 127
    : 127   0   0
    : 127   0 127
    : 127 127   0
    : 127 127 127

    :  60  60  60
    :  60  60 255
    :  60 255  60
    :  60 255 255
    : animate:
        : (255  60  60) 30
        : (255 120  60) 30
    : 255  60 255
    : 255 255  60
    : 255 255 255

    :   0   0   0
    :   0   0  60
    :   0  60   0
    :   0  60  60
    :  60   0   0
    :  60   0  60
    :  60  60   0
    :  60  60  60

    255: 30 50 80

$SET_STR NS ""
$UNSET_BOOL PLAYER_ROLLER
import "data/_roller.fus"

$SET_STR NS "rollerplayer_"
$SET_BOOL PLAYER_ROLLER
import "data/_roller.fus"

shapes:

    ################
    # DEATH ROLLER #
    ################

    "death_roller": map ("l.red") ("roller")
    "death_roller_grab": map ("l.red") ("roller_grab")
    "death_roller_grab_flipped": map ("l.red") ("roller_grab_flipped")


    ##############
    # BIG ROLLER #
    ##############

    "big_roller": map ("double") ("roller")
    "big_roller_grab": map ("double") ("roller_grab")
    "big_roller_grab_flipped": map ("double") ("roller_grab_flipped")


    ############
    # ROLLER 2 #
    ############

    "roller2":
        shapes:
            : "roller_body" (0 0 0  0) 0 f
            : "roller_body_hollow" (3 2 0 -1) 2 f
            : "roller_foot" (0 0 0  0) 0 f

    "roller2_flipped":
        shapes:
            : "roller_body" (0 0 0  0) 0 f
            : "roller_body_hollow" (0 0 0  0) 2 f
            : "roller_foot" (0 0 0  0) 0 f


    ################
    # WATER ROLLER #
    ################

    "water_roller_foot":
        animation: cycle 8
        shapes:
            : "roller_foot" (0 0 0 0) 0 f
            : "water_edge" (0 0 0 0) 0 f

    "water_roller_body":
        animation: cycle 8
        shapes:
            : "water_face" (0 0 0 0) 0 f

    "water_roller":
        animation: cycle 8
        shapes:
            : "water_roller_body" (0 0 0 0) 0 f
            : "water_roller_foot" (0 0 0 0) 0 f

    "water_roller_grab":
        animation: cycle 8
        shapes:
            : "water_roller_body" (0 0 0  0) 0 f
            : "water_roller_body" (3 2 0 -1) 2 f
            : "water_roller_foot" (0 0 0  0) 0 f

    "water_roller_grab_flipped":
        animation: cycle 8
        shapes:
            : "water_roller_body" (0 0 0  0) 0 f
            : "water_roller_body" (0 0 0  0) 2 f
            : "water_roller_foot" (0 0 0  0) 0 f

palmappers:

    "player_cpu":
          :

         # This palmapper is used to mark cpu players, so you can tell
         # yourself apart from them.
         #
         # NOTE: we don't change blacks, whites, or reds (because the demo
         # map's palettes have a pulsating animated red for use with player's
         # eye)

         1:
         2:  4
         3:  6
         4:  3
         5:
         6:  2
         7:
         8:

         9:
        10: 12
        11: 14
        12: 11
        13:
        14: 10
        15:
        16:

    "cycle0":

    "cycle1":
          :

         1:  2
         2:  3
         3:  4
         4:  5
         5:  6
         6:  7
         7:  8
         8:  9

         9: 10
        10: 11
        11: 12
        12: 13
        13: 14
        14: 15
        15: 16
        16:  1

    "cycle2": map ("cycle1") ("cycle1")
    "cycle3": map ("cycle1") ("cycle2")

    "blk":
        :
        1,  8: eval: 1 + 0
        10, 8: eval: 1 + 8 + 0
    "blu":
        :
        1,  8: eval: 1 + 1
        10, 8: eval: 1 + 8 + 1
    "grn":
        :
        1,  8: eval: 1 + 2
        10, 8: eval: 1 + 8 + 2
    "cya":
        :
        1,  8: eval: 1 + 3
        10, 8: eval: 1 + 8 + 3
    "red":
        :
        1,  8: eval: 1 + 4
        10, 8: eval: 1 + 8 + 4
    "prp":
        :
        1,  8: eval: 1 + 5
        10, 8: eval: 1 + 8 + 5
    "ylw":
        :
        1,  8: eval: 1 + 6
        10, 8: eval: 1 + 8 + 6
    "wht":
        :
        1,  8: eval: 1 + 7
        10, 8: eval: 1 + 8 + 7

    "l.blk":
        :
        1,  8: eval: 1 + 8 + 0
        10, 8: eval: 1 + 8 + 7
    "l.blu":
        :
        1,  8: eval: 1 + 8 + 1
        10, 8: eval: 1 + 8 + 7
    "l.grn":
        :
        1,  8: eval: 1 + 8 + 2
        10, 8: eval: 1 + 8 + 7
    "l.cya":
        :
        1,  8: eval: 1 + 8 + 3
        10, 8: eval: 1 + 8 + 7
    "l.red":
        :
        1,  8: eval: 1 + 8 + 4
        10, 8: eval: 1 + 8 + 7
    "l.prp":
        :
        1,  8: eval: 1 + 8 + 5
        10, 8: eval: 1 + 8 + 7
    "l.ylw":
        :
        1,  8: eval: 1 + 8 + 6
        10, 8: eval: 1 + 8 + 7
    "l.wht":
        :
        1,  8: eval: 1 + 8 + 7
        10, 8: eval: 1 + 8 + 7
# Expected vars:
# * PREFIX (str) e.g. "switch_", "switch_oneway_"

shapes:

    $PREFIX PREFIX "_top_off":
        prismels:
            : "tri" ( 0  0  0  0)  0 f eval: 6  + 1
            : "tri" ( 0  0  0  0)  2 f eval: 6  + 1
            : "tri" ( 0  0  0  0)  4 f eval: 14 + 1
            : "tri" ( 0  0  0  0)  6 f eval: 14 + 1
            : "tri" ( 0  0  0  0)  8 f eval: 15 + 1
            : "tri" ( 0  0  0  0) 10 f eval: 14 + 1

    $PREFIX PREFIX "top_off":
        animation: cycle 12
        shapes:
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  0 f  0 ( 0 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  1 f  0 ( 1 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  2 f  0 ( 2 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  3 f  0 ( 3 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  4 f  0 ( 4 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  5 f  0 ( 5 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  6 f  0 ( 6 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  7 f  0 ( 7 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  8 f  0 ( 8 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0)  9 f  0 ( 9 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0) 10 f  0 (10 1)
            : $PREFIX PREFIX "_top_off" (0 0 0 0) 11 f  0 (11 1)

    $PREFIX PREFIX "top_on":
        prismels:
            : "tri" ( 0  0  0  0)  0 f eval: 8  + 1
            : "tri" ( 0  0  0  0)  2 f eval: 8  + 1
            : "tri" ( 0  0  0  0)  4 f eval: 7  + 1
            : "tri" ( 0  0  0  0)  6 f eval: 7  + 1
            : "tri" ( 0  0  0  0)  8 f eval: 15 + 1
            : "tri" ( 0  0  0  0) 10 f eval: 7  + 1

    $PREFIX PREFIX "off":
        animation: cycle 12
        prismels:
            : "sq" ( 1  1  0  0)  0 f eval: 7 + 1
            : "sq" ( 1  1  0  1)  0 f eval: 8 + 1
            : "sq" ( 1  1  0  2)  0 f eval: 7 + 1
        shapes:
            : $PREFIX PREFIX "top_off" (1 1 1 3) 0 f

    $PREFIX PREFIX "on":
        animation: cycle 12
        prismels:
            : "sq" ( 1  1  0  0)  0 f eval: 8 + 1
        shapes:
            : $PREFIX PREFIX "top_on" (1 1 1 1) 0 f
geomfonts:
    "geomfont1":
        "data/font.fus"
        prismel: "sq" (1 0 0 0) (0 0 0 1)
anim: "anim/player.fus"
state: "stand"
pos: ( -11 7)
rot: 3
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w54+r w46-r w5+l w7-l w30+l w38-l w14+r w3-r w25+l w31-l w10+d w4+r w43-r w34+r w3-r w2-d w18+y w1-y w10+d w5+y w3-y w11-d w44+u w3-u w53+r w41+d w14-r w12+l w7-l w1-d w7+r w29-r w45+l w10-l w8+r w2+u w1-r w2-u w14+r w27-r w10+d w4+r w38-d w3-r w13+r w6-r w8+d w3+l w10-l w15+r w30-r w6+l w43-d w13-l w2+d w3+r w19-d w14-r w7+r w3-r w10+l w2-l w14+d w3+r w35-d w15-r w23+d w5+r w61-r w6-d w11+l w16-l w4+d w34+l w8-l w16+y w1-y w12+r w11-r w5+l w3-l w1-d w9+y w1-y w18+d w5+r w51-d w10-r w3+l w3-l w12+r w3-r w9+d w8+l w19-l w12-d w9+r w29-r w30+l w15-l w2+r w2-r w16+r w2-r w43"

shapes:

    "dead_particle":
        animation: cycle 6
        prismels:
            : "tri" (1 0 0 0)  0 f eval(1 + 8 + 3)  (0 1)
            : "tri" (2 0 0 0)  2 f eval(1 + 8 + 4)  (1 1)
            : "tri" (3 0 0 0)  4 f eval(1 + 8 + 5)  (2 1)
            : "tri" (4 0 0 0)  6 f eval(1 + 8 + 3)  (3 1)
            : "tri" (5 0 0 0)  8 f eval(1 + 8 + 4)  (4 1)
            : "tri" (6 0 0 0) 10 f eval(1 + 8 + 5)  (5 1)

    "dead":
        animation: cycle 6
        shapes:
            : "dead_particle" (0 1 3 1) 1 f  0+
            : "dead_particle" (0 1 3 1) 3 f  2+
            : "dead_particle" (0 1 3 1) 6 f  3+
            : "dead_particle" (0 1 3 1) 9 f  5+

    "spit_dead":
        animation: once 12
        shapes:
            : "dead_particle" (0 1 3 1) 1 f  0+ (0 6)
            : "dead_particle" (0 1 3 1) 3 f -2+ (2 6)
            : "dead_particle" (0 1 3 1) 6 f -3+ (3 6)
            : "dead_particle" (0 1 3 1) 9 f -5+ (5 6)

    "spit_crouch_dead":
        animation: once 12
        shapes:
            : "dead_particle" (1 1 2 0) 1 f  0+ (0 6)
            : "dead_particle" (1 1 2 0) 3 f -2+ (2 6)
            : "dead_particle" (1 1 2 0) 6 f -3+ (3 6)
            : "dead_particle" (1 1 2 0) 9 f -5+ (5 6)

$SET_STR NS ""
$UNSET_BOOL SPIKEY
import "data/_spit.fus"

$SET_STR NS "spikey_"
$SET_BOOL SPIKEY
import "data/_spit.fus"

verts:
    "0": "minimap.vert"
    "1": "minimap.vert"
    "2": "minimap.vert"
    "o": "minimap.vert"
edges:
    "0": "minimap.edge"
    "1": "minimap.edge"
    "2": "minimap.edge"
    "o": "minimap.edge"
faces:
    "0": "minimap.face"
    "1": "minimap.face"
    "2": "minimap.face"
    "o": "minimap.face"
    "S": "minimap.save"
    "D": "minimap.door"
    "w": frame_offset(1) "minimap.water"
anim: "anim/switch_oneway.fus"
state: "init"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodataanim: "anim/coin.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodataanim: "anim/coin.fus"
state: "crouch"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodataanim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r: is
nodataanim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l: is
    r:
nodataanim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d: is
    l:
    r: is
nodataanim: "anim/switch.fus"
state: "init"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodataparts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   ?   +     [h]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon2.fus"

collmap:
    ;;
    ;;     +   .   ?   +     [h~^2]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   .   +
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   !    [h]
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon2.fus"

collmap:
    ;;
    ;;     +   .   ?   +     [h^1]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   .   +
    ;;
    ;;   +  (.)  ?   .   +    [h]
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   .   !     [h]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     !   .   .   +     [h]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   .   +
    ;;
    ;;   !  (.)  .   .   !  [h][h]
    ;;
    ;;     +   .   .   +
    ;;

collmap:
    ;;    + - + - +
    ;;   /         \
    ;;  +  (.)  + - +
    ;;   \     /
    ;;    + - +
    ;;     \*/
    ;;      +
parts:
    "h": "data/tests/draw_realloc/hexagon2.fus"

collmap:
    ;;
    ;;     +   .   ?   +     [h]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon.fus"

collmap:
    ;;
    ;;     +   .   .   +
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     !   .   .   +     [h]
    ;;

parts:
    "h": "data/tests/draw_realloc/hexagon2.fus"

collmap:
    ;;
    ;;     +   .   ?   +     [h^2]
    ;;
    ;;   +  (.)  .   .   +
    ;;
    ;;     +   .   .   +
    ;;

collmap:
    ;;    +   +
    ;;
    ;;  +  (.)  +
    ;;
    ;;    +   +
for f in data/tests/draw_realloc/test*.fus
do
    echo
    echo "============================================"
    echo "== $f:"
    cat "$f"
    bin/collmaptool < "$f"
done
unit: 3 2 0 -1
spawn: "data/maps/crazyspidertown/start.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        file: "data/maps/crazyspidertown/start.fus"
        pos: (0 0)
        camera: (0 0)
        mapper: ("triple")
collmap:
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                             \
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                               \
    ;;    .   .   .   .   .   + - +   .   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       /                             \           \
    ;;  .   .   .   + - +   +   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;             /       /
    ;;    .   .   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;             \ /     \
    ;;  .   .   .   +   .   +   + - +   .   .   .   .   .   .   +   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;               \     /                                     \                   \
    ;;    .   .   .   + - +   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                           /                     \
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                         /
    ;;    .   .   .   .   .   .   .   .   .  (+)- + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         \*/
    ;;  .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                       \
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                                                                 \     /
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas2.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [s^1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] [g]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .  %+ - .   +   .   .   .   .   .   .   .   .   .  [x|1 x|1]
    ;;                                                             %\*/                                           [x|1 x|1]
    ;;   .   .   .   .   .   + - + - +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \   \
    ;; .   .   .   .   .   .   .   + - +   ?   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .       [t^3|1]
    ;;                                                                             S
    ;;   .   .   .   .   .   .   .   +   .   +   ?   .   +   .   +   .   + - +   .   +   .   .   .   .   .   .              [e^2|1]
    ;;                                                                  /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   .   .   .   +   +   .   .   .   .   .   .                  [t^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   ?   .  (?)  .   .   .   .   +   .   +   .   .   .   .   .                     [e^1|1]    [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   ?   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .                [t^1|1]
    ;;
    ;; .   .   .   .   + - ?   .   ?   .   ?   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .  [t|1] [t|1] [e|1]
    ;;                                                   %/*\                                                      [x|1 x|1]
    ;;   .   .   .   .   .   .   .   +   .   +   .   .  %+ - .   +   .   .   +   .   +   .   .   .   .   .   .     [x|1 x|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .  %+ - + - +   .   .   .   .  %+ - + - + - + - + - +   .   .   .   .   .  [x|1 x|1 x|1 x|1 x|1]  [x|1 x|1 x|1 x|1]
    ;;                                     %\* * * *\                %/* * * */                             [x|1 x|1 x|1 x|1 x|1 x|1]  [x|1 x|1 x|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   + - + - +   +  %+ - +   + - + - +   .   .   .   .   .   .   .   .   [0|1 x|1 x|1]
    ;;                                                       %\*/                                                [0|1 x|1 x|1]
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .  %+   +   .   +   .   .   .   .   .   .   .   .   . [0|1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas3.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [s^4 s^5]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [g^2]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [s^3 s^1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s^1 s]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

    "b": "data/maps/demo/bubblecar_ball.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         w
    ;; .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .           [b]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .           [b]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       [b]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .       [b] [b]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .   .   .   [b] [b]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [b]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;
    ;; .   +   +   .
    ;;
    ;;   +  (.)  +
    ;;
    ;; .   +   +   .
    ;;
    ;;   .   .   .
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .  %+ - + - + - + - + - +   .   +   .   .   .   .   .   .          [0|1 x|1 x|1 x|1 0|1]
    ;;                                                   %\*/*\*/                                                   [0|1 x|1 x|1 S|1 x|1 x|1 0|1]
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .  %+ - +   .   +   .   .   .   .   .   .   .   .   .   .            [0|1 0|1 0|1]
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   .   .  (?)  .   .   .   .   +   .   +   .   .   .   .   .        [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +  %+   .   .   .   .   .   .   .   .   .   .                        [0|1]
    ;;                                                             %/*\                                                           [x|1 x|1 0|1]
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +  %+ - +  %+ - +   +   .   .   .   .   .   .   .   .   .   [0|1 0|1 0|1]  [x|1 x|1 0|1]
    ;;                                                     %\*/                                                    [x|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .   .   .         [x|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
    "s": recording "data/recs/switch_oneway.fus"
        vars:
            "key": "jungle_cage"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                     * * *           *             */*\*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .  %+ - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .              [111]
    ;;                                   %/* * *\                                          * *                           [11111]
    ;;   .   .   .   .   .   .   .   .  %+ - + - +   .   .   .   .   .   .   .   + - +   + - +   .   .   .               [11111]
    ;;                                           %\                                   \            * *                       [1]
    ;; .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   +   .   .   .   .   .                 [1]
    ;;                                                                                /              *
    ;;   .   .   .   +   .   .   .   .   .   .   .%- + - + - + - +   .   .   + - + - +   .   .   +   .   .               [11111111]
    ;;              /                                            %\                                  * * *                        [1]
    ;; .   .   .   +   .   .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   + - +   .   .   . - +                        [1]
    ;;              \                                              %\                 /* * *\        *      \                         [1]
    ;;   .   .   .  (+)- +   ?   + - +   ?   .   .   .   .   .   .  %+ - + - +   .   +   .   + - +   +   .   .               [_] [_]    [11111]
    ;;                    \           \                                               \* * */* * *\
    ;; .   ?   .   .   ?   + - + - +   +   .   ?   .   .   ?   .   .  %+   .   .   +   + - +   .   +   .   .   +       [_] [_]     [_] [_]    [1]
    ;;                              \ /                              %/                     \* * */           /                               [1]
    ;;   .   .   ?   .   .   ?   .   +   ?   .   .   ?   .   .   ?  %+   .   .   .   .   .   + - +   .   +               [_] [_] [_] [_] [_]  [1]
    ;;                                \                                                     /* * *\
    ;; .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   +   +   .   +   .   .           [_] [_] [_] [_] [_] [_] [_]
    ;;                                      \     /     \                                  *\* * */*
    ;;   .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   .   + - +   .   .               [_] [_] [_] [_] [_] [_]
    ;;                                                        \                            *
    ;; .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   +   .   ?   .   .   ?   .   .   ?   +   +   .           [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                             S              /           /                                  *       *
    ;;   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   +   ?   .   .   ?   .   .   ?   .   !   .   +               [_] [_] [_] [_] [_] [_] [_][s^5]
    ;;                                      /                 \                                 /*       *
    ;; .   ?   .   .   ?   .   .   ?   .   +   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ? - +   +               [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                      \                                                        *
    ;;   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .               [_] [_] [_] [_] [_] [_] [o] [_]
    ;;                                            \
    ;; .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .           [_] [_] [_] [_] [_] [_] [o] [_]
    ;;                                            /
    ;;   .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   .   .               [_] [_] [_] [_] [_] [_] [O]
    ;;                                                        \
    ;; .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   .           [_] [_] [_] [_] [_] [_] [O] [_]
    ;;                                                              \
    ;;   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   .   .               [_] [_] [_] [_] [_] [O] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

parts:
    "_": empty
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "r": actor "actor/airoller.fus"
    "w": actor "actor/aiwater_roller_sneaky.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   + - +   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                      /     \
    ;; .   .   .   .   .   +   .   +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .  [O]
    ;;                      \     /
    ;;   .   .   .   .   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   ?   .   .   .   .    [O]
    ;;                      /           /     \     /     \     /     \     /     \     /     \
    ;; .   .   .   .   + - +   .   .   +   .   + - +   .   + - +   .   + - +   .   + - +   .   + - +   ?   .   .   .  [O]
    ;;                /                 \                                   \     /     \     /     \
    ;;   .   .   + - +   .   + - +   .   +   +   .   + - +   .   + - +   .   + - +   .   +   .   +   + - +   .   .
    ;;          /     \     /     \     /     \     /     \     /             \   \                 /     \
    ;; .   .   +   .   +   +   .   + - +   .   ! - +   .   + - +   .   .   .   .   +   .   .   .   +   .   +   .   .  [C]
    ;;          \     /     \           \           \     /                                         \     /
    ;;   .   .   +   !   ?   +   ! - +   + - +   .   + - +   .   .   .   .   .   .   .   ! - +   .   + - +   .   .   [C][C]    [r][r]
    ;;          /     \     /   /     \             /        S                          /     \
    ;; .   + - +   .   !   +   +   .   + - +   .   +   .   + - +   .   .   .   .   + - +   .   + - +   .   .   .   .  [C]
    ;;      \   \     /     \   \           \       \     /     \                 /     \     /     \
    ;;   .   +   +   +   .   +   +   .   .   !   .   +   +   ?   +   .   .   .   +   .   + - +   ?   + - +   .   . [C][O][O]
    ;;      /   /     \         /           /       /     \     /                 \     /     \     /     \
    ;; .   + - +   .   + - +   +   .   + - +   + - +   .   + - +   .   .   .   .   + - +   ?   + - +   .   +   .   .  [O]
    ;;          \           \   \     /       /     \                             /     \     /     \     /
    ;;   .   .   +   .   .   +   + - +   + - +   ?   +   .   .   ! - +   .   + - +   ?   + - +   .   .   +   .   .    [O][w][O]
    ;;          /           /           /     \     /           /     \     /     \     /     \           \
    ;; .   .   +   .   +   +   .   + - +   ?   + - +   .   + - !   !   + - +   ?   + - +   .   .   .   .   +   .   .  [O][C][C][O]
    ;;          \  D  /     \     /     \     /           /       /*\       \     /     \               \
    ;;   .   .   + - +   .   + - +   ?   + - +   .   + - +   ?   +   +   ?   + - +   .   .   .   .   +   +   .   .    [O] [c][c]
    ;;                      /     \     /           /     \     /* * *\     /     \               \
    ;; .   .   .   .   .   +   ?   + - +   .   + - +   .   +   +   .   +   +   .   + - +   .   +   +   .   .   .   .  [O]
    ;;                      \     /           /     \     /   /* * * * *\   \     /     \   \
    ;;   .   .   .   .   .   + - +   .   + - +   .   + - +   + - + - + - +   + - +   .   +   +   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                                          \     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "R": actor "actor/aibig_roller.fus" ^5

collmap:
    ;;
    ;;     .       .       .       .       .       .       .       .       +       .       .       .       .
    ;;                                                                    / \
    ;;                                                                   + - +
    ;;
    ;; .       .       .       .       .       .       .       .       + - +   +       .       .       .       .
    ;;                                                                /* * *\   \
    ;;                                                               +   .   +   +
    ;;                                                              / \* * */
    ;;     .       .       .       .       .       .       .       +   + - +   .   .       .       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       +       .       .       .       .       .       .
    ;;
    ;;                                                   + - +
    ;;                                                  /* * *\
    ;; .       .       .       .       .       + - +   + - + - +       .       .       .       .       .       .
    ;;                                          \*/   /
    ;;                                           +   +           .
    ;;                                              /
    ;;     .       .       .       + - +   + - + - +       .       .       .       .       .       .       .
    ;;                                      \* * */
    ;;                                       + - +               + - +
    ;;                                                          /     \
    ;; .       .       .       .       .       .       .       +       +       .       .       .       .       .
    ;;                                                                /
    ;;                                       + - +                   +
    ;;                                      /* * *\                 /
    ;;     .       .       .       .       + - + - +       .       +       +   .   +       .       .       .
    ;;                                                                      \       \
    ;;                                                                       + - +   +
    ;;                                                                            \
    ;; .       .       .       .       .       +       +       .       .       +   + - +       .       .       .
    ;;                                          \     /*\                         /*\   \
    ;;                                          (+)- +   +                       +   +   +
    ;;                                            \* * */                         \* *\ /
    ;;     .       .       .       +       .       + - +   +       .       .       + - +   +       .       .
    ;;                            /
    ;;                   +       +
    ;;                    \  D  /
    ;; .       .       .   + - +       .       .       +       !       .       .       .       .       .       .  [R]
    ;;                                                /       /*\
    ;;                                               +       + - +
    ;;                                              /             \
    ;;     .       .       .       .       .       +       +       +       .       .       .       .       .
    ;;                                              \       \     /
    ;;                                               +       + - +
    ;;                                                \
    ;; .       .       .       .       .       .       + - + - +       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;

collmap:
    ;;
    ;;     .       .       .       .       .       .       +       .       .       .       .       .       .
    ;;
    ;;                                                   + - +
    ;;                                                  /* * *\
    ;; .       .       .       .       .       + - +   + - + - +       .       .       .       .       .       .
    ;;                                 *        \*/   /
    ;;                                 -         +   +           .
    ;;                               *\*/*          /
    ;;     .       .       .       + - +   + - + - +       .       .       .       .       .       .       .
    ;;                                      \* * */
    ;;                                       + - +               + - +
    ;;                                        \*/               /     \
    ;; .       .       .       .       .       +       .       +       +       .       .       .       .       .
    ;;                                        /*\                     /
    ;;                                       + - +                   +
    ;;                                      /* * *\                 /
    ;;     .       .       .       .       + - + - +       .       +       +   + - +       .       .       .
    ;;                                                                      \       \
    ;;                                                                       + - +   +
    ;;                                                                        \* *\
    ;; .       .       .       .       .       +       +       .       .       + - + - +       .       .       .
    ;;                                          \     /*\                               \
    ;;                                          (+)- +   +                       + - +   +
    ;;                                            \*/* * *\                       \* *\   \
    ;;     .       .       .       .       .       + - + - +       .       .       + - +   +       .       .
    ;;
    ;;
    ;;
    ;; .       .       .       .       .       .       +       +       .       .       .       .       .       .
    ;;                                                /       /*\
    ;;                                               +       + - +
    ;;                                              /             \
    ;;     .       .       .       .       .       +       +       +       .       .       .       .       .
    ;;                                              \       \     /
    ;;                                               +       + - +
    ;;                                                \
    ;; .       .       .       .       .       .       + - + - +       .       .       .       .       .       .
    ;;
    ;;
    ;;
    ;;     .       .       .       .       .       .       .       .       .       .       .       .       .
    ;;
    ;;
collmap:
    ;;
    ;; .   + - +   .
    ;;    /* * *\
    ;;   +  (.)  +
    ;;    \* * */
    ;; .   + - +   .
    ;;
    ;;   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?  (.)  .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [o] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [o] [_] [_] [o] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [o] [_] [o] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [o] [_] [o] [_] [o] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [o] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [o]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "r": actor "actor/airoller.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;                                                    /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   ?   +   .   .   .   .   .   .   .   .   .   .   .  [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .  [c][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .  (?)  .   +   .   +   +   .   ?   .   ?   .   .   .    [D][c][]
    ;;                                              /                 \     /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   +   .   +   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   +   +   .   + - +   .   ! - +   .   .   .   .   .   .   .   .   .   .     [r]
    ;;                                  /     \
    ;; .   .   .   .   .   .   .   .   +   ?   +   .   .   .   .   .   +   .   ?   ?   +   .   .   .   .   .   .  [c] [][c]
    ;;                                                                /               /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   +   .   .   .   .   .   .      [c]
    ;;                                                                              /
    ;; .   .   .   .   .   .   .   +   .   ?   .   +   .   .   .   .   ! - +   ?   +   .   .   .   .   .   .   .  [][r][c]
    ;;                            /                 \
    ;;   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ! - +   .   + - +   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   . [r][C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   + - +   .   .
    ;;                                                                       * *\                 /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - + - + - +   .   + - +
    ;;                                                                    \* * */
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   +   +   .   .   .   .   .   .   .   .
    ;;                                                                      \
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   +   +   .   .   + - + - + - + - .   .   .   .   .
    ;;                                                    \     /              * * * * * *\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   + - +   .   .   .   . - + - + - +   .   .   .   .   .
    ;;                                                                                 * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   + - +   + - +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                                                            /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                      /*                                  /
    ;; .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .
    ;;                                      \*/*                              /         \  * * *
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .
    ;;                                                                      /           /     \*
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   + - +   .   .   .
    ;;                                                                                        / \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "D": recording "data/recs/coin_crouch.fus"
    "D": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 *
    ;;   .   .   .   . - + - +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 */     \         /*    \         /*\*  \
    ;; .   .   .   .   ?   ?   +   .   +   +   +   .   +   ?   +   .   .   .   .   .   .   .   .   .   .   .   .  [D][C]  [C]
    ;;                 *\               \*   */               /        *
    ;;   .   .   .   .   +   .   .   .   +   +   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                    \
    ;; .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                          /*\*/*\            */*\
    ;; .   .   .   .   .   .   .   .   .   .   +   . - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                          \    */            * */
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 *                   S
    ;;   .   .   .   . -(+)- +   .   .   + - +   .   .   + - +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                 */     \         /     \               \        *
    ;; .   .   .   .   +   .   +   .   +   .   +   .   + - ?   +   .   .   .   .   .   .   .   .   .   .   .   .    [C]
    ;;                  \     /         \     /         \  *\ /
    ;;   .   .   .   .   + - +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   +   .       .   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                          /*    \             / \        * * *
    ;; .   .   .   .   .   .   +   ?   +   .   + - +   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .     [C]
    ;;                          \*/* */*\       \*    /
    ;;   .   .   .   .   +   .   + - + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                   *
    ;; .   .   +   + - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;           * * *
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D s^1 s^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [s^1 s^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s s^4]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap: "(+)"collmap:
    ;;
    ;;    + - +   .   .   .
    ;;   /
    ;;  +   .   .   .   .
    ;;   \
    ;;   (+)  .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .  (+)- +   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /     \                         /   /
    ;; .   .   .   .   +   .   +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  \     /                         \ /
    ;;   .   .   .   .   + - +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;     .   .
    ;;
    ;;   .       .
    ;;       D
    ;;    (+)- +
parts:
    "c": recording "data/recs/coin.fus"

collmap:
    ;;                                         +
    ;;
    ;;                                       ?   .                                                    [c]
    ;;
    ;;                                     ?   +                                   +                 [c]
    ;;                 * */                * * *                                    \
    ;;                   +       .   .   ?   +   +   .   .   .   .   +   +   +   .   +       .      [c]
    ;;                 * *\        *     * */                             \*        /*\
    ;;                     .   .   +   + - +                           ?   +   .   +   +       + - +          [c]
    ;;                                /                                       /*    \* *\       \* *
    ;;                   .           +                                   +           +   +       +
    ;;                               *\              S                  /*    \*    /* */       / \*
    ;;                 .               + - +   + - + - +               +       .   +   +       +
    ;;                                   */   /* * * *                  \* *\     /* */       /* *
    ;;               .                       +               +           +       + - +       +
    ;;               *\                     /    *   *   * * *             * *    \* *        \* * *
    ;;               - + -         + - + - +               + - +   +   .   + -     +   .       +
    ;;               */*\*           * * * * *           */* *  \*           *                /*\* *
    ;;                               + - + - +           +       +                           +   .
    ;;                             */         \*         *\     /                             \* *\
    ;;                             +   ?   ?   +   .   .   +               ?                   +        [c]  [c]     [c]
    ;;                           */           /*                                                \*
    ;;                           +   ?   ?   +                                       .   .   .   +     [c]  [c]
    ;;                                                                            \*            /*\
    ;;                         .           .                                   ?   +           +                       [c]
    ;;                                                                            /*            \*
    ;;               + - +   .          (+)- +               +           .   . - +               +
    ;;              /* */               /*\* * *        /* */*\          *                        \
    ;;             +   + - +       .   + - +   .   .   .   + - +   .   + - +
    ;;              \* * */
    ;;               + - +
    ;;
    ;;

unit: 3 2 0 -1
spawn: "data/maps/demo/start.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

actors:
    : "actor/guide/actor.fus" "player_cpu"
    : "actor/hermit/actor.fus" "player_cpu"

    # Spidertown:
    : (42 75) 0 y "actor/aiplayer.fus" "player_cpu"
    : (55 67) 0 y "actor/aiplayer.fus" "player_cpu"
    : (51 78) 2 n "actor/aiplayer.fus" "player_cpu"
    : (47 52) 0 n "actor/aiplayer.fus" "player_cpu"

    # Dodecas:
    : (21 -15) 5 y "actor/airollerplayer.fus" "player_cpu"

vars:
    "map3_blocker": F
    "map3x_blocker": F
    "jungle_cage": F
    "vines3_door": F

submaps:
    :
        file: "data/maps/demo/start.fus"
        text: "Press Enter to show/hide controls"
        pos: (0 0)
        camera: (5 4)
        mapper: ("quadruple")
        palette: "data/maps/demo/pals/start.fus"
    :
        file: "data/maps/demo/start2.fus"
        text: "Touch the green thing to save.\nPress 1 to restart from last save point."
        pos: (7 11)
        camera: (5 4)
        mapper: ("quadruple")
        palette: "data/maps/demo/pals/start.fus"
        submaps:
            :
                file: "data/maps/demo/start3.fus"
                pos: (2 15)
                camera: (5 -5)
                mapper: ("triple")
                tileset: "data/maps/demo/tilesets/shiny.fus"
                submaps:
                    :
                        file: "data/maps/demo/start4.fus"
                        pos: (19 6)
                        camera: (5 5)
                        mapper: ("quadruple")
                        tileset: "data/maps/demo/tilesets/shiny.fus"
                    :
                        file: "data/maps/demo/vines.fus"
                        pos: (-4 2)
                        camera: (-5 5)
                        mapper: ("triple")
                        palette: "data/maps/demo/pals/vines.fus"
                        tileset: "data/maps/demo/tilesets/water.fus"
                        submaps:
                            :
                                file: "data/maps/demo/vines2.fus"
                                pos: (-26 -5)
                                camera: (-7 3)
                                mapper: ("quadruple")
                                submaps:
                                    :
                                        file: "data/maps/demo/vines3.fus"
                                        pos: (-21 -6)
                                        camera: (-6 7)
                                        mapper: ("quadruple")
                                        palette: "data/maps/demo/pals/water.fus"
                                        submaps:
                                            :
                                                file: "data/maps/demo/vines3_door.fus"
                                                visible: "vines3_door"
                                                pos: (-11 8)
                                                doors:
                                                    :
                                                        map: "data/maps/water/worldmap.fus"
                                                        pos: (1 8)
                                                        rot: 0
                                                        turn: n
                                    :
                                        file: "data/maps/demo/vines4.fus"
                                        pos: (-40 4)
                                        camera: (0 0)
                                    :
                                        pos: (-40 4)
                                        camera: (-10 -10)
                                        tileset: "data/tileset1.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle.fus"
                                    :
                                        pos: eval: (-40 4) + (-6 -18)
                                        camera: (0 -8)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        tileset: "data/tileset1.fus"
                                        recordings:
                                            : "data/maps/demo/recs/jungle2_bird000.fus"
                                            : "data/maps/demo/recs/jungle3_bird000.fus" "player_cpu"
                                            : "data/maps/demo/recs/jungle5_bird000.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle2_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle2.fus"
                                                doors:
                                                    :
                                                        map: "data/maps/water/worldmap.fus"
                                                        pos: (1 8)
                                                        rot: 0
                                                        turn: n
                                    :
                                        file: "data/maps/demo/jungle3.fus"
                                        pos: eval: (-40 4) + (-6 -18) + (15 -8)
                                        camera: (6 0)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                    :
                                        file: "data/maps/demo/jungle4.fus"
                                        pos: eval: (-40 4) + (-6 -18) + (10 -16)
                                        camera: (0 0)
                                        mapper: ("triple")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                    :
                                        pos: eval: (-40 4) + (-6 -18) + (15 -8) + (24 7)
                                        camera: follow
                                        mapper: ("solid_curvy")
                                        palette: "data/maps/demo/pals/vines.fus"
                                        tileset: "data/maps/demo/tilesets/water.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/jungle5_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/jungle5.fus"
                                            :
                                                file: "data/maps/demo/jungle_cage.fus"
                                                visible: not "jungle_cage"
                                                pos: (15 2)
            :
                file: "data/maps/demo/pebbles.fus"
                pos: (15 -2)
                camera: (3 1)
                mapper: ("solid_curvy")
                submaps:
                    :
                        file: "data/maps/demo/pebbles3.fus"
                        pos: (1 -9)
                        camera: (0 -4)
                        mapper: ("triple")
                        recordings:
                            : "data/maps/demo/recs/dodecas_000.fus" "player_cpu"
                            : "data/maps/demo/recs/dodecas_001.fus" "player_cpu"
                            : "data/maps/demo/recs/dodecas_hexroller_000.fus"
                            : "data/maps/demo/recs/dodecas_hexroller_001.fus" "player_cpu"
                        submaps: : mapper(("double")) submaps:
                            :
                                file: "data/maps/demo/dodecas_bg.fus"
                                pos: (-55 -60)
                            :
                                file: "data/maps/demo/dodecas_bg2.fus"
                                pos: (20 -65)
                            :
                                file: "data/maps/demo/dodecas_0_0.fus"
                                pos: (1 -6)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_0_-1.fus"
                                pos: (-27 -15)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_1_0.fus"
                                pos: (0 -28)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_1_-1.fus"
                                pos: (-22 -30)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_2_0.fus"
                                pos: (0 -48)
                                camera: (0 -4)
                            :
                                file: "data/maps/demo/dodecas_2_-1.fus"
                                pos: (-22 -50)
                                camera: (0 -4)
                            :
                                pos: (20 -50)
                                submaps:
                                    :
                                        pos: (0 -28)
                                        camera: (0 0)
                                        recordings:
                                            : "data/maps/demo/recs/big_000.fus"
                                        submaps:
                                            :
                                                bg
                                                file: "data/maps/demo/big_bg.fus"
                                                tileset: "data/tileset1_bg.fus"
                                            :
                                                file: "data/maps/demo/big.fus"
                                                doors:
                                                    :
                                                        map: "data/maps/triangles/worldmap.fus"
                                                        pos: (0 0)
                                                        rot: 0
                                                        turn: n
                                    :
                                        file: "data/maps/demo/fisheye.fus"
                                        pos: (0 0)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye2.fus"
                                        pos: (-12 -16)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye3.fus"
                                        pos: (-32 -26)
                                        camera: (0 0)
                                    :
                                        file: "data/maps/demo/fisheye4.fus"
                                        pos: (-48 -28)
                                        camera: (0 0)
                                        doors:
                                            :
                                                anim: "anim/roller.fus"
                                                pos: (-11 -80)
                                                rot: 0
                                                turn: n
            :
                file: "data/maps/demo/pebbles2.fus"
                pos: (22 9)
                camera: (4 0)
                mapper: ("solid_curvy")
                submaps:
                    :
                        file: "data/maps/demo/tunnels.fus"
                        pos: (13 1)
                        #camera: follow
                        camera: (6 -5)
                        mapper: ("triple")
                        palette: "data/maps/demo/pals/tunnels.fus"
                    :
                        file: "data/maps/demo/tunnels3.fus"
                        pos: eval: (13 1) + (30 -5)
                        camera: (0 0)
                        mapper: ("triple")
                        palette: "data/maps/demo/pals/tunnels.fus"
                        doors:
                            :
                                anim: "anim/rollerplayer.fus"
                                pos: (70 10)
                                rot: 0
                                turn: n
                    :
                        file: "data/maps/demo/tunnels2.fus"
                        pos: eval: (13 1) + (18 8)
                        camera: (0 5)
                        mapper: ("triple")
                        tileset: "data/maps/demo/tilesets/shiny.fus"
                        doors:
                            :
                                map: "data/maps/wilderness/worldmap.fus"
                                pos: (0 0)
                                rot: 0
                                turn: n


    :
        pos: (40 60)
        camera: (0 0)
        recordings:
            : "data/maps/demo/recs/test_003.fus" "player_cpu"
            : "data/maps/demo/recs/test_flier_000.fus"
        submaps:
            :
                file: "data/maps/test/map3.fus"
                pos: (0 0)
                camera: (0 4)
                mapper: ("triple")
                doors:
                    :
                        map: "data/maps/spidertown/worldmap.fus"
                        pos: (0 0)
                        rot: 0
                        turn: n
                submaps:
                    :
                        file: "data/maps/test/map3_blocker.fus"
                        visible: not "map3_blocker"
                    :
                        file: "data/maps/test/map2.fus"
                        pos: (1 10)
            :
                file: "data/maps/test/map2x.fus"
                pos: (15 12)
                camera: (1 8)
                mapper: ("double")
                submaps:
                    :
                        file: "data/maps/test/map3x.fus"
                        pos: (1 10)
                        doors:
                            :
                                map: "data/maps/test/worldmap.fus"
                                pos: (0 0)
                                rot: 0
                                turn: n
                    :
                        file: "data/maps/test/map3x_blocker.fus"
                        visible: not "map3x_blocker"
                        pos: eval: (1 10) + (-2 4)
            :
                pos: (-1 -10)
                camera: (4 0)
                mapper: ("triple")
                submaps:
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  0 + (-1 3) *  0
                    :
                        file: "data/maps/test/map1grid.fus"
                        pos: eval: (8 2) *  0 + (-1 3) * -2
                    :
                        file: "data/maps/test/map1x.fus"
                        pos: eval: (8 2) *  0 + (-1 3) * -4
                        camera: (-1 -1)
                        mapper: ("solid_curvy")
                        submaps:
                            :
                                file: "data/maps/test/map1x_exit.fus"
                                pos: (2 -8)
                                camera: (8 0)
                                mapper: ("solid_curvy")
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  1 + (-1 3) *  0
                    :
                        file: "data/maps/test/map1.fus"
                        pos: eval: (8 2) *  1 + (-1 3) * -1

collmap:
    ;;
    ;;   + - +
    ;;  /     \
    ;; +  (.)  +
    ;;  \     /
    ;;   + - +
    ;;
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye_B.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []  [] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (?)  .   .   .   .   ?   .   ?   .   .   .   .   .     [] []  [F] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []    [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .           [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .             []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   +   +   +   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   +   .   .   .   .   .   +   .   .  %+   .   +   .   .   .   .   .   .   .   .   .   .          [1]
    ;;                                            /*\
    ;;   +   .   .   +   .   .   .   +   . %(+)-%+  %+   .   .   +   .   .   .   .   .   .   .   .   .  [1][1][1]
    ;;                                        \* * */*
    ;; .   .   .   .   .   +   .   +   .   .  %+ -%+   .   .   .   +   .   .   .   .   .   .   .   .    [1][1]
    ;;                                           *
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         D
    ;;   .   .   .   .   .   .   .   .   +  %+ -%+ -%+   +   .   .   .   .   .   .   .   .   .   .   .  [1][1][1]
    ;;                                        \*   */
    ;; .   .   .   .   .   .   .   .   .   +  %+  %+   +   .   .   .   .   .   .   .   .   .   .   .      [1][1]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .
    ;;                                                                                            /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - + - + - + - +   .   + - +
    ;;                                                                    \     /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .
    ;;                                                                      \
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   .   +   .   .   + - + - + - + - .   .   .   .   .
    ;;                                              /     \     /
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   + - +   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                    /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   + - +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                                                            /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;                                      /
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   +   .   .   + - +   .   .   .   .
    ;;                                                                      /                 \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .
    ;;                                                                   */*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;      + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .
    ;;
    ;;        .   + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .   .   .
    ;;
    ;;      .   .   + - + - .   + - + - +   + - + - + - + - + - + - .   + - + - .   .   .   .   .   .
    ;;                         /         \
    ;;        .   .   + - + - +   .   .   + - +   + - + - + - + - + - + - + - + - .   .   .   .   .
    ;;               /                         \
    ;;      + - .   +   .   .  %+   +   +   +   +   + - + - + - + - + - + - + - .   .   .   .   .   .  [1111]
    ;;             /                           /
    ;;+ - +   + - +   .   .  %+   +   +   +   +   + - + - + - + - + - + - + - .   .   .   .   .   .    [1111]
    ;;     \                                   \
    ;;      + - + - +   .   .  %+   .   .   .   +   + - + - + - + - + - + - .   .   .   .   .   .   .  [1]
    ;;               \                           \
    ;;        + - .   + - +   .   .   .   .  %+   +   .   + - + - + - + - + - .   .   .   .   .   .    [1]
    ;;                     \                       \
    ;;      + - + - + - .   +   .   +   .   + - + - +   .   + - + - + - + - .   .   .   .   .   .   .
    ;;                       \     /
    ;;        + - + - .   .   + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;      + - + - + - .   .   + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .   .   .
    ;;
    ;;        + - + - .   .   + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .   .
    ;;
    ;;      + - + - + - + - + - .   + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;        + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - .   .   .   .   .   .
    ;;
    ;;  + - + - + - + - + - + - + - + - .   .   + - + - + - .   .   + - .   .   .   .   .   .   .
    ;;                                                                         /
    ;;    + - + - + - + - .   + - + - + - + - + - .   + - + - + - + - + - + - +   .   .   .   .
    ;;                       /                                                   /    %\                     [1]
    ;;  .   + - + - + - .   +   + - + - + - + - + - + - + - + - + - + - + - + - +      %+   .   + - +   .    [1 111]
    ;;                       \                                                        %/ \    %/     \       [11] [11]
    ;;    + - + - + - + - .   + - + - +   + - + - + - + - + - + - + - + - + - + - .  %+ -(+)  +   .   +     [11111  1]
    ;;                                 \                                                  %\      S %/      [1]   [1]
    ;;  .   .   + - + - + - + - + - .   + - + - + - + - + - + - + - + - + - + - .   .      %+ - + - +   .    [11111]
    ;;         /
    ;;    .   .


collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .  (+)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \ /
    ;;   .   .   .   .   +   +   +   +   + - + - +   +   .   +   +   .   +   +   .   +   +   .   .   .   .   .
    ;;                          /           / \
    ;; .   .   .   +   +   + - +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .
    ;;                          \                                     /
    ;;   .   +   +   .   +   +   +   +   +   .   +   +   .   +   + - +   +   +   .   +   .   +   +   +   .   .
    ;;                                                       * */     \     /
    ;; .   +   .   +   +   .   +   +   .   +   +   .   +   + - +   .   + - +   +   .   .   .   +   .   +   .   .
    ;;                                                          \* * */     \*
    ;;   .   +   +   .   +   +   +   +   +   .   +   +   .   .   + - +   .   +   .   +   +   .   +   +   .   .
    ;;                                                          /     \
    ;; .   +   .   +   +   +   .   +   +   .   +   .   +   + - +   .   +   .   +   +   .   +   +   .   + - +   .
    ;;                       * * */                 \           \* * */                               /     \
    ;;   .   +   +   .   +   + - +   .   +   .   +   +   .   +   + - +   .   +   .   +   +   .   +   +   .   + - +
    ;;                            \* * *            /        * */     \                               \* * */     \
    ;; .   +   .   +   +   +   .   +   +   +   +   +   +   + - +   +   + - +   +   +   .   +   +   .   + - +   .   +
    ;;                       * * *                  \* * */     \* * */                                     \* * */
    ;;   .   +   .   .   +   +   +   +   +   .   +   + - +   +   + - +   +   +   .   +   +   .   .   +   .   + - +
    ;;                                           * */     \*
    ;; .   +   .   +   +   .   +   +   .   +   + - +   +   +   +   +   +   .   +   +   .   .   .   .   +   .   .
    ;;                                        /     \*
    ;;   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .   +   +   .   .
    ;;
    ;; .   .   .   .   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   +   +   .   .   .   .
    ;;
    ;;   .   .   .   .   +   +   .   +   +   .   +   +   +   +   +   +   +   +   .   +   +   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "r": actor "actor/airoller.fus"

collmap:
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            / \ / \ / \ / \                            %/       /                               [11]
    ;;   .   .   + - +   .   + - +   +   +   +   +   .   .   .   .   .   .  %+   .   +   .   .   .   .   .   .        [11]
    ;;                \     /* * * * * * * * * * *\ / \ / \ / \ / \        %/       /                                 [11]
    ;; .   .   .   .   + - + - + - + - + - + - + - +   +   +   +   +   .  %+   .   +   .   .   .   .   .   .   .      [11]
    ;;                                              \* * * * * * * *\ / \%/                                           [1]
    ;;   .   .   .  (+)- +   .   .   .   .   .   .   +   .   .   .   +  %+   .   + - + - +   .   + - +   .   .        [1]
    ;;              /  */*\                           \* * * * * * * * * *\     /* * * * *\  S  /* * *\
    ;; .   .   + - +   +   ! - + - + - + - + - + - +   +   .   . - . - .   + - +   .   +   + - +   +   +   .   .  [r]
    ;;        /       /* * *  /                       /* * * */* * * * *\* * * * * * * * * * * * */ \* *\
    ;;   .   +   .   +   .   +   .   .   + - +   .   +   .   .   +   +   .   .   .   .   .   .   + - +   ! - +    [r]
    ;;              /*\* * */           /     \     /* * * * *\* * * * */* * * * * * * * * * * * * * * * * * *\
    ;; .   .   .   +   .   +   .   ! - + - + - + - +   + - +   . - . - .   .   + - + - +   .   .   .   .   .   +  [r]
    ;;              \* *\* *\           \* * * * * * */     \* * * * * * * * * *\ /   /* * * * * * * * * * * */
    ;;   .   .   .   +   .   +   .   .   +   .   .   +   .   +   .   .   .   .   +   +   +   .   .   .   + - +
    ;;              /*\* *\* *\           \* * * * * *\       \* * * * * * * * * *\ /* */ \* * * * * * */
    ;; .   .   .   +   .   .   + - +   .   +   .   .   ! - +   + - +   .   .   .   +   +   +   .   .   +   +   .  [r]
    ;;              \* *\* *\* * * *\       \* * * * * * * *\       \* * * * * * * * */   / \* * * * */    *\
    ;;   .   .   .   +   .   . - . - +   .   + - +   .   + - + - +   +   + - +   .   + - + - +   .   +   . - +
    ;;                \* *\* * * * * *\           \* * */         \   \*/     \* * * * * * * * * * */    *\*/
    ;; .   .   .   .   +   .   .   .   + - +   .   + - +   .   +   +   + - +   +   .   .   .   .   +   + - +   .
    ;;                /*\* *\* * * * * * * *\                 /   /         \ /* * * * * * * * * */   /
    ;;   .   .   .   +   .   . - . - . - . - + - +   .   + - +   +   +   .   +   .   .   .   .   +   +   .   .
    ;;                \* *\* * * * * * * * */     \     /       /   /*\       \* * * * * * * * */   /
    ;; .   .   .   .   +   .   .   .   .   +   .   + - +   + - +   +   +   .   +   + - +   .   +   +   .   .   .
    ;;                  \* *\* * * * * * */          */   /* * *\   \*/       /* */*\*/*\* * */    *\
    ;;   .   .   .   .   +   .   .   .   +   .   .   +   +   .   +   +   .   +   + - + - +   +   + - +   .   .
    ;;                  /* * *\* * * * */             \   \* * */   /       /* * *\*/*\*/* */   /
    ;; .   .   .   .   +   .   . - . - +   .   .   .   +   + - +   +   + - +   .   + - +   +   +   .   .   .   .
    ;;                  \* * * * * * */                 \         /         \* * * *\*/*\* *\
    ;;   .   .   .   .   + - +   .   +   .   .   .   .   + - + - +   .   .   +   .   + - +   +   .   .   .   .
    ;;                        \* * */                                         \* * * *\*/*\* *\
    ;; .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   + - +   + - +   +   .   .   .   .
    ;;                          \*/                                                 \* * * * */
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                  \       \   \
    ;;   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    \
    ;; .   .   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            /     \      S
    ;;   .   .   .   .   .   .   +   .   + -(+)- +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \     /
    ;; .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye.fus"
    "t": "data/maps/demo/tunnels/basic.fus"
    "e": "data/maps/demo/tunnels/basic_elbow.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   ?   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   [t^3|1] [t^3|1]
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   .   .   .   +   +   .   .   .   .   .   .            [e^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   +   .   +   .   .   .   ?  (?)  .   .   .   .   +   .   +   .   .   .   .   .              [t^2|1] [F]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   +   .   .   .   .   ?   .   .   .   .   +   +   .   .   .   .   .   .                [t^2|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   +   .   .   +   ?   +   .   .   +   .   +   .   .   .   .   .   .                 [e^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .                [t^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .             [t^1|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /
    ;; .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  \
    ;;   .   .   .   ?  (+)- +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [i] [_] [_] [_]
    ;;                        \     /*\*/*\
    ;; .   .   ?   .   .   ?   + - + - ? - +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [O] [_] [o] [_] [_]
    ;;                                  \*/
    ;;   .   .   .   ?   .   .   ?   .   +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [O] [_] [O] [_] [_]
    ;;                                    \
    ;; .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                          \     /     \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [_]
    ;;                                                            \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                                /           /
    ;;   .   .   .   ?   .   .   ?   + - +   ?   + - +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   ?   .     [_] [_] [_] [_] [_] [_] [_] [i]
    ;;                                          /                 \
    ;; .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [_] [_]
    ;;                                          \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [o]
    ;;                                                \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [o] [_]
    ;;                                                /
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   +   ?   .   +   ?   .   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [_] [O]
    ;;                                                            \
    ;; .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .   .   . [_] [_] [_] [_] [_] [_] [O] [_]
    ;;                                                                  \
    ;;   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   +   .   ?   .   .   ?   .   .   .   .     [_] [_] [_] [_] [_] [O] [_]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   +   +   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   +   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   +   +   .   +
    ;;                                                                              \* *
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +
    ;;                                                                        \       \* *
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .
    ;;                                                                          \       \*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .
    ;;                                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                           * * *
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                                                                          /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   +   .   .   .               + - +
    ;;                                                                                      \   \     /   /*                          /    *\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - +   +   .   .   .   .           +   . - +
    ;;                                                                                        \         /* *                             *\*
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   +   .   .           .       +   + - .   +
    ;;                                                                                                                              \ /         \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .               .       +   .   .   +
    ;;                                                                                                                                       D  /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   +   .   .   .             - + - +   .   + - +
    ;;                                                                                    /       /                          */     \     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (+)  .   +   .   .   .               .       + - +
    ;;                                                                                  /         \
    ;;                                                         +   +                   +   .       + - + - + - + - + - +   .
    ;;                                                                                  \                               \
    ;;                                                                                   +   .       +                   +
    ;;                                                                                    \                             /
    ;;                                                                                     + - + - + - + - + - +       +
    ;;                                                                                        /                         \
    ;;                                                                                       +               +           +
    ;;                                                                                      /                           /
    ;;                                                                                     +   .   + - + - + - + - + - +

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"
    "g": "data/maps/demo/tiles/hex_vec4/dodeca_sign_solid.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] [g]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;    .
    ;;    D
    ;; ( )  .parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;;                                                                       ?   ? - ! - +    [C][C][C]
    ;;                                                                      /* * * * * */
    ;;                                                                     +           +
    ;;                                                                      \* * * * * *\
    ;;                                                                       +   + - +   +
    ;;                                                                      /* * *\ /* */
    ;;                                                                 + - + - +   + - +
    ;;                                                                /* * *\   \*/
    ;;                                                       + - + - + - +   + - +
    ;;                                                      /   /* * *\   \* * */
    ;;                                 + - + - +   + - + - +   + - +   + - +   +       .
    ;;                                /   /             \           \* * * * */*       *
    ;;                   + - + - + - +   +   ?       ?   + - + - +   +   + - + -     + - .          [c][c]
    ;;                  /                 \                       \   \*/  */*\*       *
    ;;                 +   + -             +       ?               +   +               +   .          [c]
    ;;                /   /               /                         \   \
    ;;               +       + - + - + - +           ?   ?           +   +               .   +        [c][c]
    ;;                \     /                                    S  /   /
    ;;                 + - +               .   + - +       + - + - +   +
    ;;                                        /     \     /             \
    ;;                   .      (+)- + - + - +       + - +     - + -     +
    ;;                          /                   /     \             /*
    ;;                         + - +               +       + - + - + - +
    ;;                        /     \             /                  * * *
    ;;                       +       + - + - + - +
    ;;                        \
    ;;             ?   ?       +                                                               [c][c]
    ;;                        /
    ;;               ?       +                                                                  [c]
    ;;                      /
    ;; ?                   +                                                                      [C]
    ;;                   */
    ;;                   .
    ;;
    ;;
parts:
    "F": "data/maps/demo/tiles/hex_vec4/fisheye_B.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] []  [] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;                                       %\                                                                      [0|1]
    ;; .   .   .   .   .   .   .   .   .   .  %+   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [0|1]
    ;;                                       %/*\                                                                   [0|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   ?   ?%- + - +   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .   [] [][0|1 0|1 x|1 x|1]    [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                         D
    ;;   .   .   .   .   ?   .   ?   .   ?   .   .   .   .  (?)  .   .   .   .   ?   .   ?   .   .   .   .   .  [] [] []  [F] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   ?   ?   .   ?   .   .   .   .   .   ?   .   ?   ?   .   .   .   .   .   .[T][] [] []     [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   .   ?   .   .   .   ?   .   ?   .   .   .   .   .   .    [] []   []  [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .  %+   .   ?   .   ?   .   .   .   .   .   .   .   .   [] [] [0|1] [] []
    ;;                                                       %/*\                                                    [0|1 x|1 x|1]
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?  %+ - +   .   .   .   .   .   .   .   .   .   .   .    [] [0|1 x|1 x|1]
    ;;                                                       %\*/                                                    [0|1 x|1 x|1]
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .  %+   ?   .   ?   .   .   .   .   .   .   .   .   .   [] [] [0|1] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .             []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "D": "data/maps/demo/tiles/hex_vec4/dodecas.fus"
    "s": "data/maps/demo/tiles/hex_vec4/dodeca_sign.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [D] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [s^2 s^4]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [s]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                    \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                                                    /
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   +   .   +   .   .
    ;;    \  S                                                                \         /   /       /
    ;; .   + - + - +   .   + - + - + - + - +   .   .   +   + - +   .   .   .   +   .   +   +   .   +   .   .   .
    ;;    /         \     /* */ \* * * * * *\  *   * */   /* * *\             /         \ /         \
    ;;   +   + - +   +   + - +   +   .   .   + - + - +   +   + - +   .   .   +   .   .   +   .   .   +   .   .
    ;;    \ /     \ /             \* * * * */         \   \*/                 \           \         /
    ;; .   +   .   +   .   .   .   + - + - +   .   .   +   +   .   .   .   .   +   .   .   +   .   +   .   .   .
    ;;    /                               /           /     \              * * * * * * *   * * *  /
    ;;   +   .   .   .   .   .   .   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   +   .   .   .
    ;;  / \                               \           \     /              * * * * *   * * * * *
    ;; +   +   .   .   .   .   .   .   .   +   .   .   +   +   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;  \ /                               /             \   \                               \
    ;;   +   .   .   .   .   .   .   .   +   .   .   .   +   +   .   .   .   .   .   .   .   +   .   .   .   .
    ;;  / \                                             /     \                             /
    ;; +   +   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +   .   .   .   .   .
    ;;  \ /                                                                                 \
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;  /
    ;; +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;  \
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;  /
    ;; +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .   .  %+ - +   .   .   .  [222] [222]
    ;;                                                                   %/ \ / \            %/ \ /              [2222]  [222]
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - + - +   .   .  %+ - +   .   .   .   [22222]   [222]
    ;;  / \                                                              %\ / \ /                                 [2222]
    ;; +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .   .   .   .   .   .   .   [222]
    ;;  \   \
    ;;   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   . %(+)- +   .   .   [222] [222]
    ;;                                                                               %/ \ /        %\ /            [222]  [22]
    ;;   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  %+ - +   .   .  %+   .   .     [222]   [2]
    ;;      /     \
    ;; .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      \     /
    ;;   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "_": empty
    "i": "data/maps/demo/jungle_ball_points.fus"
    "o": "data/maps/demo/jungle_ball_hollow.fus"
    "O": "data/maps/demo/jungle_ball.fus"
collmap:
    ;;
    ;;                                                        *
    ;;                                                  .   .   .   .
    ;;                                                      * * *
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                                      * * *                        /
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .
    ;;                                                                             /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   +   .   .   .               [_] [o] [_] [_] [_] [_] [i]
    ;;                                                                             \
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   .   .       [_] [o] [O] [_] [_] [_] [i] [O]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [_] [_] [O] [_] [_] [_] [O]
    ;;
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .       [_] [_] [_] [o] [O] [_] [_] [_] [O]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [_] [_] [O] [_] [_] [_] [_]
    ;;                                                                                             
    ;;  ?   .   .   ?  (.)  .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .       [_] [_] [_] [O] [_] [_] [_] [_] [_]
    ;;
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .           [_] [O] [O] [_] [_] [_] [_] [O]
    ;;
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   ?   .   .   ?   .       [_] [O] [_] [o] [_] [i] [_] [_] [O]
    ;;                                                                 /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   +   .   ?   .   .   ?   .   .           [_] [o] [o] [_] [_] [i] [_] [_]
    ;;                                                           /
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   + - +   ?   .   .   ?   .   .   .           [_] [_] [_] [_] [_] [i] [_] [_]
    ;;                                                           \     /     \
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   +   .   ?   .   .   .   .               [_] [_] [_] [_] [i] [i] [_]
    ;;                                                                       /
    ;;  ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   +   ?   + - +   ?   .   .   .           [_] [_] [_] [_] [i] [_] [_] [_]
    ;;                                                                       \     /
    ;;    .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   + - +   ?   .   .   .   .               [_] [_] [_] [_] [_] [_] [i]
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      S
    ;;    + - +   .   .   + - + - + - + - .   .   .   .
    ;;         \         /
    ;;  .   .   + - +   +   .   .   .   .   .   .   .   .
    ;;               \
    ;;    .   .   .   + - + -(+)- + - .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "C": shape "red_curvy_dodeca_anim"

collmap:
    ;; (?)  [C]parts:
    "B": shape "curvy_curvy_dodeca_anim"

collmap:
    ;; (?)   [B]
collmap:
    ;;                    %. - +     [11]
    ;;                         %\    [1]
    ;;                          %+ - +  [111]
    ;;                         %/   /   [11]
    ;; .   .   .   .   .   .  %+   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .  [11]
    ;;                         %\ /                                                               / \             [11]
    ;;   .   .   .   .   .   .  %+   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .    [1]
    ;;                         %/   /     \                                                       \ /              [1]
    ;; .   .   .   .   .   .  %+   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   [1]
    ;;                       %/   /                 \                                               \              [1]
    ;;   .   .   .   .   .  %+   + - + - + - +   .   + - + - + - +   .   .   .   .   .   .   .   .   +   .   .      [1]
    ;;                     %/     \       \               \       \                                 /                  [1]
    ;; .   .   .   .   .  %+   +   + - +   + - + - +   .   +   .   +   .   .   .   .   .   .   .   +   .   .   .         [1]
    ;;                   %/   /         \           \                                             / \                   [1]
    ;;   .   .   .   .  %+   + - +   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   + - + - +   .         [1]
    ;;                 %/   /     \                                                                   \ /              [1]
    ;; .   .   .   .  %+   +   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .         [1]
    ;;                 %\           \           \                                                       \               [1]
    ;;   .   .   .   .  %+   .   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   +   .   +   .         [1]
    ;;                   %\                                                                       \  S                 [1]
    ;; .   .   .   .   .  %+   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   + - +   +   .       [1]
    ;;                     %\   \                                 /                                 \   \   \         [1]
    ;;   .   .   .   .   .  %+   + - + - +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   + -(+)  +         [1]
    ;;                       %\   \       \                     /   /                               /   /              [1]
    ;; .   .   .   .   .   .  %+   +   .   + - +   .   +   + - + - +   .   .   .   .   .   .   .   + - +   + - +         [1]
    ;;                         %\   \                 /   /                                               /   / \         [1]
    ;;   .   .   .   .   .   .  %+   + - +   + - + - + - +   .   .   + - +   .   .   .   .   .   .   .   + - +   +         [1]
    ;;                           %\         /                       /                                     \   \ /         [1]
    ;; .   .   .   .   .   .   .  %+   .   +   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   + - +         [1]
    ;;                                    /       /       /
    ;;   .   .   .   .   .   .   .   .   + - + - + - + - +   .   .   .   .   .   + - +   .   .   .   .   .   .
    ;;                                                \                         /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   + - + - +   .   .   .   .   .   .   .   .
    ;;                                                  \             /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;
    ;;                                                             .   +   .
    ;;
    ;;                                                               +   +
    ;;
    ;;                                                             .               +   .   +
    ;;
    ;;                                                       .   .   .               .   +   .   +   +
    ;;                                                                               * *         *   *
    ;;                                                     .   .   .           +   +   .   .   + - +   .
    ;;                                                                             *          /
    ;;                                                   .   .   .   .   .   +   +   +   .   .
    ;;                                                                           *
    ;;                                                     .   .   .           +   .
    ;;                                                                           *
    ;;                                                                          (+)

collmap:
    ;;                                                                       S
    ;;                                                     + - + - + - + - + - + - + - +
    ;;                                                    /                             \
    ;;                                                   +       + - + - + - + - +       +
    ;;                                                  /       /                 \     /
    ;;                                         + - + - +       +       +       +   + - +
    ;;                                        /               /         \       \
    ;;                                       +       + - + - +           +       +
    ;;              %*                        \     /                                           [o]
    ;;           %(+)- .                       + - +                       +       +            [oo]
    ;;
    ;;           .                                                           .       .
    ;;
    ;;         .                               .                               .       .
    ;;
    ;;       .                                                                   .       .
    ;;  %* */                                                                                  [ooo]
    ;;  %  +                                   .                                   .       .   [  o]
    ;;  %* *\                                                                                  [ooo]
    ;;  %    +   .   .   .   .   .   .   .   .   .                                             [  o]
collmap:
    ;;
    ;; .   + - +   .
    ;;    /     \
    ;;   +  (.)  +
    ;;    \     /
    ;; .   + - +   .
    ;;
    ;;   .   .   .
anim: "anim/player.fus"
state: "stand"
pos: ( 56 82)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w5+d w4+r w38-d w44-r w3+l w7-l w26+r w40-r w13+l w10-l w2+d w4+r w18-d w18-r w2+d w3+l w14-d w44-l w3+r w83-r w1+d w1+l w32"
anim: "anim/hexroller.fus"
state: "stand"
pos: (12 -46)
rot: 1
turn: no
keys:
    u:
    d: is
    l:
    r: is
nodata
anim: "anim/bird.fus"
state: "stand"
pos: ( -21 1)
rot: 1
turn: yes
keys:
    u:
    d:
    l:
    r:
data: " w2+l w53-l w1+r w58+l w1-r w59-l w1+r w59-r w1+l w2-l w3"
anim: "anim/player.fus"
state: "crawl"
pos: ( 47 -71)
rot: 1
turn: no
keys:
    u:
    d: is was
    l:
    r:
data: " w133+l w3-l w22+r w13-r w55+l w1-l w67+r w3-r w93+r w4-d w9-r w8+u w6-u w7+d w6+r w5-r w14+l w3-l w130+r w8-d w4-r w5+l w10-l w15+r w8-r w3+d w3+l w14-l w62+r w7-r w3+l w3-l w83+l w7-d w10-l w8+r w51-r w3+d w4+l w22-l w13-d w5+l w8-l w8+l w8-l w14+d w4+l w5-l w16+r w7-r w127+l w1-l w121-d w10+r w37+d w13-r w10-d w9+l w53-l w11+l w3-l w5+u w3-u w10+d w2+l w6-l w19+l w4-l w42+l w4-l w1+r w2-r w43"
anim: "anim/flier.fus"
state: "fly"
pos: ( 70 90)
rot: 2
turn: no
keys:
    u: is was
    d:
    l:
    r:
data: " w13+l w3-l w14+r w6-r w10+l w5-l w30+l w5-l w5+r w4-r w13+l w7-l w10+r w5-r w32+l w4-l w2+r w3-r w5+l w2-l w2+r w2-r w2+r w7-r w20+l w6-l w9+r w7-r w25+l w1-l w7+r w5-r w11+l w5-l w4+r w5-r w41+r w6-r w10+l w7-l w6+r w6-r w31+r w5-r w4+r w8-r w9+r w3-r w4+r w1-r w21+r w6-r w3+l w6-l w7+l w2-l w9+r w8-r w13+r w7-r w12+l w7-l w11+r w7-r w9+l w6-l w14+r w4-r w12+r w3-r w3+l w6-l w16+l w6-l w1+r w4-r w4+l w6-l w1+r w5-r w3+l w5-l w8+r w5-r w21-u"
anim: "anim/player.fus"
state: "stand"
pos: ( 14 -13)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w3+d w2+r w19-d w1-r w6+r w6-r w11+d w4+l w10-l w10-d w25+r w12-r w4+r w6-r w2+d w3+l w62-d w4-l w4+r w12-r w22+r w1-r w3+u w3-u w29+d w11+r w7-r w5-d w5+r w21-r w2+d w3+r w58-r w13-d w17+u w2-u w28+r w46-r w1+l w16-l w28+l w26-l w4+r w2-r w38+r w12-r w4+l w3-l w13+u w2-u w25+l w5-l w7+d w6+r w4-r w13+r w5-r w5-d w3+r w20+d w27-d w11-r w10+r w5-r w3+d w3+r w5-r w11-d w1+d w1-d w4+r w60-r w13+r w4-r w9+d w6+r w15-d w3-r w11+r w4-r w8+d w5+l w29-d w8-l w16+d w17-d w3+l w7-l w17+u w3-u w5+l w49-l w22+l w17-l w2+r w3+u w1-r w2-u w10+r w77-r w3+d w4+r w5-r w14-d w8+r w20-r w4+d w7+r w29-r w9-d w7+r w8-r w9+d w3+l w7-l w7-d w1+l w45-l w5+d w20+l w7-l w10-d w10+l w4-l w3+d w3+r w34-r w1-d w3+l w32-l w9+l w12-l w7+d w6+l w16-l w9-d w3+l w38-l w2+d w4+l w6-l w25+l w3-l w1-d w2+l w20-l w6+d w37+r w4-r w16+r w3-r w6-d w9+r w4-r w26+d w7+r w16-r w3-d w8+r w14-r w16+d w1+r w12-r w7-d w6+r w12-r w2+d w3+r w5-r w16+l w8-l w14+l w3-l w8-d w23+r w4-r w4+r w6-r w13+d w3+r w9-r w4-d w9+l w12-l w3+d w4+l w5-l w30+l w9-d w2-l w29+l w19-l w8+l w5-l w4+d w6+l w10-l w15-d w2+l w6-l w13+d w4+r w9-r w9+r w3-r w3-d w11+l w18-l w11"
anim: "anim/player.fus"
state: "stand"
pos: ( 56 82)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w5+r w8-r w5+d w4+l w34-d w6-l w3+u w3-u w11+l w6-l w10+u w3-u w27+l w7-l w6+r w2-r w26+l w44-l w45+r w12-r w11+d w3+l w13-d w17-l w24+l w39-l w6+r w15-r w4+u w3-u w14+r w10-r w14+d w6+l w29-d w4-l w12+d w7+r w40-d w2-r w3+l w4-l w4+u w2-u w18+l w7-l w3+r w2+u w1-r w2-u w14+r w9-r w33+r w4-r w16+d w6+r w14-r w10-d w5+r w11-r w5+d w6+l w13-d w45-l w9+r w39+d w28"
anim: "anim/player.fus"
state: "stand"
pos: ( 68 70)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w116+r w4-r w6+l w1-l w27+u w4-u w9+l w5-l w11+l w4-l w2+r w2-r w108+d w13+r w11-r w9-d w5+r w6-r w9+d w4+l w29-l w1-d w1+r w22-r w34+r w5-r w3+l w2-l w72+l w17+d w21-l w5+r w2-r w16-d w6+r w4-r w105+l w16-l w8+r w8-r w17+l w3-l w23+l w4-l w3+r w2+u w1-r w1-u w12+d w3+r w29-d w1-r"
anim: "anim/player.fus"
state: "stand"
pos: ( 55 72)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w7+l w82-l w10+r w11-r w2+u w2-u w11+r w124-r w2+l w66-l w2+d w14+r w26-r w3-d w13+r w9-r w36+l w8-l w5+d w5+r w42-r w1-d w3+l w4-l w12+u w4-u w11+u w6-u w15+l w7-l w18+r w7-r w3+l w3-l w2+u w3-u w11+l w6-l w6+r w2-r w2+u w1-u w29+r w18-r w14+d w4+l w12-d w2-l w16+l w14-l w31+r w11-r w16+r w26-r w1+u w3-u w13+r w45-r w4+l w7-l w17+d w5+r w22-d w7-r w18+d w4+r w36-d w5-r w9+r w7-r w15+r w6-r w27+r w13-r w15+l w4-l w4+r w2-r"
anim: "anim/hexroller.fus"
state: "stand"
pos: (8 -54)
rot: 3
turn: no
keys:
    u:
    d: is
    l:
    r: is
nodata
anim: "anim/player.fus"
state: "stand"
pos: ( 35 -2)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w26+d w4+l w34-d w43+d w18-l w14+l w10-l w7-d w3+l w25+d w4-l w6+l w15-d w15-l w16+d w2+r w9-r w4-d w7+r w16-r w9+r w12-r w2+d w6+r w4-r w7+r w4-r w7+r w7-d w1-r w1+r w32-r w2+d w2+l w52-l w1-d w6+r w9-r w3+d w2+r w7-r w11-d w5+r w17-r w1+d w2+l w9-l w14+l w4-l w2-d w2+l w9-l w8+d w1-d w9+l w5-l w3+d w4+l w5-l w10-d w3+l w5-l w12+d w2+r w9-d w4-r w3+r w16-r w7+d w2+l w55-d w33-l w18+d w3+l w9-l w11+l w11-l w7-d w18+d w3-d w7+l w5-l w5+d w3+r w7-d w1-r w9+r w5-r w3+d w4+l w52-d w38+d w42-l w14+l w2-l w3-d w6+r w71-r w16+d w4+l w11-l w18+r w4-r w9+r w3-r w5-d w6+l w28-l w14+u w3-u w9+r w19+l w1-r w62-l w37+l w3-l w3+r w2-r w3+u w3-u w7+r w76-r w16+d w10+r w5-r w10-d w17+r w23-r w14+d w3+r w27-r w1-d w14+r w5-r w5+d w7+r w15-r w12+r w7-r w7+r w28-d w1-r w2+l w31-l w9+l w10-l w1+d w3+l w17-d w40-l w3+d w10+l w8-l w30+l w1-l w6-d w25+l w21-l w2+d w19-d w1+l w8-l w1+d w4+l w8-l w9-d w4+l w6-l w4+d w3+r w8-r w12+r w5-d w33-r w4+d w11+r w11-r w12-d w6+l w44-l w27+d w3+l w11-d w43-l w1+d w4+l w7-l w23+l w10-l w12+r w8-r w7-d w2+l w36-l w1+d w4+l w5-l w19-d w4+l w9-l w1+d w4+l w4-l w15+r w7-r w7-d w2+r w30-r w1+d w7+r w17-d w3+d w5-r w17-d w4+r w25-r w4+d w1+l w62-l w21+l"
anim: "anim/bird.fus"
state: "crawl"
pos: ( -47 2)
rot: 5
turn: yes
keys:
    u:
    d: is was
    l:
    r:
data: " w85-d w17+l w69-l w10+r w3-r w6+d w66-d w17+r w16-r w18+l w80-l w49+r w2-r w13+l w3-l w70+r w13-r w53+l w44-l w8+d w91-d w4+r w169-r w1+d w22+l w4"
anim: "anim/bird.fus"
state: "stand"
pos: ( -72 9)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
data: " w105+l w2-l w117+r w2-r w46+d w57-d w99+r w75-r w12+l w2-l w103+d w19+r w1-r w43+l w3-l w35-d w61+r w86-r w90+l w13-l w87+r w2-r w71+r w4-r w6+r w37-r w18+l w4-l w61+l w122-l w38+r w4-r w49+r w2-r w43+l w67-l w10+r w3-r w30+l w19-l w3+r w2-r w15+r w4-r w28"

$SET_INT TIME 30
$SET_INT BGTIME 50
$SET_INT D1   0
$SET_INT D2  60
$SET_INT L1 127
$SET_INT L2 255
$SET_INT BGrl 30
$SET_INT BGgl 50
$SET_INT BGbl 80
$SET_INT BGrd 20
$SET_INT BGgd 40
$SET_INT BGbd 50

colors:

    : animate:
        : ($GET_INT D1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT D1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT D1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT D1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT L1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT L1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT L1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT L1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT L1) $GET_INT TIME

    : animate:
        : ($GET_INT D2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT D2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT D1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT D2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT D2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT D1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT L2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT L2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT D2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT L1 $GET_INT D1 $GET_INT L1) $GET_INT TIME
    : animate:
        : ($GET_INT L2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT D2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT D1) $GET_INT TIME
    : animate:
        : ($GET_INT L2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L2 $GET_INT L2 $GET_INT L2) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT L1) $GET_INT TIME
        : ($GET_INT L1 $GET_INT L1 $GET_INT L1) $GET_INT TIME

    255: animate:
        : ($GET_INT BGrl $GET_INT BGgl $GET_INT BGbl) $GET_INT TIME
        : ($GET_INT BGrl $GET_INT BGgl $GET_INT BGbl) $GET_INT TIME
        : ($GET_INT BGrl $GET_INT BGgl $GET_INT BGbl) $GET_INT TIME

        : ($GET_INT BGrd $GET_INT BGgd $GET_INT BGbd) $GET_INT TIME
        : ($GET_INT BGrd $GET_INT BGgd $GET_INT BGbd) $GET_INT TIME
        : ($GET_INT BGrd $GET_INT BGgd $GET_INT BGbd) $GET_INT TIME

        : ($GET_INT BGrd $GET_INT BGbd $GET_INT BGgd) $GET_INT TIME
        : ($GET_INT BGrd $GET_INT BGbd $GET_INT BGgd) $GET_INT TIME
        : ($GET_INT BGrd $GET_INT BGbd $GET_INT BGgd) $GET_INT TIME

colors:

    : animate: +eval(5 * 0)
        : (  0   0   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 1)
        : (  0   0  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 2)
        : (  0 127   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 3)
        : (  0 127  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 4)
        : ( 60   0   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 5)
        : ( 60   0  60) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 6)
        : ( 60 127   0) 20
        : (  0   0 127) 20
    : animate: +eval(5 * 7)
        : ( 60 127  60) 20
        : (  0   0 127) 20

    : animate: +eval(5 * 0)
        : (  0   0   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 1)
        : (  0   0  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 2)
        : (  0 127   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 3)
        : (  0 127  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 4)
        : ( 60   0   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 5)
        : ( 60   0  60) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 6)
        : ( 60 127   0) 20
        : (  0  60 127) 20
    : animate: +eval(5 * 7)
        : ( 60 127  60) 20
        : (  0  60 127) 20

    255: animate:
        : (0 30 30) 100
        : (0  0 30) 300
        : (0  0  0) 100

colors:

    : animate: +eval(8 * 0)
        : (  0   0   0) 80
        : (  0   0   0) 80
    : animate: +eval(8 * 1)
        : (  0   0   0) 80
        : (  0   0  64) 80
    : animate: +eval(8 * 2)
        : (  0   0   0) 80
        : (  0  64   0) 80
    : animate: +eval(8 * 3)
        : (  0   0   0) 80
        : (  0  64  64) 80
    : animate: +eval(8 * 4)
        : (  0   0   0) 80
        : ( 64   0   0) 80
    : animate: +eval(8 * 5)
        : (  0   0   0) 80
        : ( 64   0  64) 80
    : animate: +eval(8 * 6)
        : (  0   0   0) 80
        : ( 64  64   0) 80
    : animate: +eval(8 * 7)
        : (  0   0   0) 80
        : ( 64  64  64) 80

    : animate: +eval(8 * 0)
        : (  0   0   0) 80
        : (  0   0   0) 80
    : animate: +eval(8 * 1)
        : (  0   0   0) 80
        : (  0   0 150) 80
    : animate: +eval(8 * 2)
        : (  0   0   0) 80
        : (  0 150   0) 80
    : animate: +eval(8 * 3)
        : (  0   0   0) 80
        : (  0 150 150) 80
    : animate: +eval(8 * 4)
        : (  0   0   0) 80
        : (150   0   0) 80
    : animate: +eval(8 * 5)
        : (  0   0   0) 80
        : (150   0 150) 80
    : animate: +eval(8 * 6)
        : (  0   0   0) 80
        : (150 150   0) 80
    : animate: +eval(8 * 7)
        : (  0   0   0) 80
        : (150 150 150) 80

    255: 0 0 0

colors:

    :   0   0   0
    :   0   0 127
    :   0 127   0
    :   0 127 127
    : 127   0   0
    : 127   0 127
    : 127 127   0
    : 127 127 127

    :  60  60  60
    :  60  60 255
    :  60 255  60
    :  60 255 255
    : animate:
        : (255  60  60) 30
        : (255 120  60) 30
    : 255  60 255
    : 255 255  60
    : 255 255 255

    :   0   0   0
    :   0   0  60
    :   0  60   0
    :   0  60  60
    :  60   0   0
    :  60   0  60
    :  60  60   0
    :  60  60  60

    255: 30 50 80

colors:

    :   0   0   0
    :   0   0  60
    :   0 127   0
    :   0 127  60
    :  60   0   0
    :  60   0  60
    :  60 127   0
    :  60 127  60

    :  30  60  30
    :  30  60 127
    :  30 255  30
    :  30 255 127
    : animate:
        : (127  60  30) 30
        : (127 120  30) 30
    : 127  60 127
    : 127 255  30
    : 127 255 127

    255: 0 0 30
default_face: "0"
collmap:
    ;;       +
    ;;      /*\
    ;;     +   +
    ;;    /* * *\
    ;;  (+)- + - +parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;         .
    ;;
    ;;       .   .   .
    ;;
    ;;     .   .   .   .
    ;;
    ;;       .   ?   .   .      [t q^1 E^2]
    ;;
    ;;    (?)  .                [E T]

parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       S
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
default_face: "2"
collmap:
    ;;       +
    ;;      /*\
    ;; + - +   +
    ;;  \* * * *\
    ;;   +   + - +
    ;;    \*/
    ;;    (+)collmap:
    ;;            +
    ;;           /
    ;;      + - +
    ;;     /   /
    ;;    + - +
    ;;   /
    ;; (+)parts:
    "T": "data/maps/demo/tiles/hex_vec4/dodeca_third_r.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [T T^1 T^2 T^3 T^4 T^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/dodeca_third.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [t t^1 t^2 t^3 t^4 t^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
collmap:
    ;;       +
    ;;      / \
    ;; + - +   +
    ;;  \       \
    ;;   +   + - +
    ;;    \ /
    ;;    (+)default_face: "2"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   + - +
    ;;                         /* */
    ;;        .   .   .   .   + - +   .
    ;;
    ;;      .   .   .   .   .   .   + - +
    ;;                             /* */
    ;;    .   .   .   .  (.)  .   + - +   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;               .
    ;;
    ;;         .   .   .
    ;;
    ;;       .   .   .   .
    ;;
    ;;    (?)  .   ?   .   .     [t] [E^5 T^5 E Q]
    ;;
    ;;               .   .
default_face: "2"
collmap:
    ;;  + - + - +
    ;;   \* * */
    ;;    +   +
    ;;   /* * *\
    ;; (+)- + - +parts:
    "t": "data/maps/demo/tiles/hex_vec4/dodeca_third_hollow.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (?)  .   .   .   .     [t t^1 t^2 t^3 t^4 t^5]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/fisheye_B_bigtri.fus"
    "b": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [b] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^1] [T] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .    [] [] [] [] [b^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []    []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] [b^1]  [t^1]   [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^2] [t] []
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (.)  .   .   .   .   ?   .   ?   .   .   .   .   .       [] [T^2] [T^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^3] [t^5] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] []     [t^4]   [b^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .         []   []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   [] [b^2] [] [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^3] [T^4] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .            [] [b^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      []  [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .              []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
default_face: "1"
collmap:
    ;; + - + - +
    ;;  \* * * *\
    ;;   +   .   +
    ;;    \* * * *\
    ;;    (+)- + - +collmap:
    ;;  + - + - +
    ;;   \     /
    ;;    +   +
    ;;   /     \
    ;; (+)- + - +collmap:
    ;;      +
    ;;     / \
    ;;    +   +
    ;;   /     \
    ;; (+)- + - +collmap:
    ;; (+)- + - +collmap:
    ;;        + - + - +
    ;;       /   /
    ;; (+)- + - +collmap:
    ;;  +
    ;;   \
    ;;    + - +
    ;;   /
    ;; (+)collmap:
    ;;    + - +
    ;;   /   /
    ;; (+)- +
parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 S
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [k]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
    "c": "data/maps/demo/tiles/hex_vec4/dodeca.fus"
    "C": "data/maps/demo/tiles/hex_vec4/dodeca_r.fus"
    "k": "data/maps/demo/tiles/hex_vec4/dodeca_hollow.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   ?   .   .   .    [k] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 S
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .     [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [k]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "t": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri.fus"
    "b": "data/maps/demo/tiles/hex_vec4/fisheye_bigtri_b.fus"
    "T": "data/maps/demo/tiles/hex_vec4/fisheye_big2tri.fus"
collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .            []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      [] [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .          [b] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^1] [T] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .    [] [] [] [] [b^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []    []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] [b^1]  [t^1]   [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^2] [t] []
    ;;
    ;;   .   .   .   .   .   .   ?   .   ?   .   .   .   .  (.)  .   .   .   .   ?   .   ?   .   .   .   .   .       [] [T^2] [T^5] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .     [] [t^3] [t^5] []
    ;;
    ;;   .   .   .   .   .   .   .   ?   ?   .   .   .   .   ?   .   .   .   .   ?   ?   .   .   .   .   .   .   [] []     [t^4]   [b^4] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .         []   []
    ;;
    ;;   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   [] [b^2] [] [] [] []
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .    [] [T^3] [T^4] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .            [] [b^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .      []  [] [] []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .              []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "q": "data/maps/demo/tiles/hex_vec4/sq_face2.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r_face2.fus"
collmap:
    ;;            .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;        .   .   ?   .   .   .   .       [q]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .  (.)  .   ?   .   .   [Q]
    ;;
    ;;      .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .
    ;;
    ;;          .   .   .   .   .   .
    ;;
    ;;            .   .   .   .   .
collmap:
    ;;       +
    ;;      / \
    ;;     +   +
    ;;    /     \
    ;;  (+)- + - +
default_face: "0"
collmap:
    ;;            +
    ;;           /*\
    ;;          +   +
    ;;         /* * *\
    ;;    .   + - + - +
    ;;
    ;; (.)  .parts:
    "e": "data/maps/demo/tiles/hex_vec4/edge.fus"
    "E": "data/maps/demo/tiles/hex_vec4/edge_r.fus"
    "q": "data/maps/demo/tiles/hex_vec4/sq.fus"
    "Q": "data/maps/demo/tiles/hex_vec4/sq_r.fus"
    "t": "data/maps/demo/tiles/hex_vec4/tri.fus"
    "T": "data/maps/demo/tiles/hex_vec4/tri_r.fus"
    "d": "data/maps/demo/tiles/hex_vec4/dia.fus"
    "D": "data/maps/demo/tiles/hex_vec4/dia_r.fus"
collmap:
    ;;               .
    ;;
    ;;         .   .   .
    ;;
    ;;       .   .   .   .
    ;;
    ;;    (+)  .   ?   .   .     [E^5 T^5 E]
    ;;
    ;;               .   .

shapes:

    ##########
    # VERTEX #
    ##########

    "water_vert":
        animation: cycle 12
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  2 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  4 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  6 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0)  8 f eval(1 + 0 + 1)
            : "tri" (0 0 0 0) 10 f eval(1 + 0 + 1)

            : "tri" (0 0 0 0)  0 f eval(1 + 8 + 1)  (0 4)
            : "tri" (0 0 0 0)  2 f eval(1 + 8 + 1)  (2 4)

    ########
    # EDGE #
    ########

    "water_edge":
        animation: cycle 8
        prismels:
            : "tri" (1 0 0  0) 11 f eval(1 + 8 + 3) (0 8)

            : "sq"  (1 1 0 -1)  0 f eval(1 + 0 + 3) (0 2)
            : "tri" (1 1 0 -1)  1 f eval(1 + 0 + 3) (2 2)
            : "tri" (1 2 0 -1)  3 f eval(1 + 0 + 3) (2 2)
            : "sq"  (1 1 0 -1)  0 f eval(1 + 0 + 3) (4 2)
            : "tri" (1 1 0 -1)  1 f eval(1 + 0 + 3) (6 2)
            : "tri" (1 2 0 -2)  3 f eval(1 + 0 + 3) (6 2)

            : "tri" (2 1 0 -1)  1 f eval(1 + 8 + 3) (0 2)
            : "tri" (2 2 0 -2)  3 f eval(1 + 8 + 3) (0 2)
            : "sq"  (1 2 0 -1)  0 f eval(1 + 8 + 3) (2 2)
            : "tri" (2 1 0 -1)  1 f eval(1 + 8 + 3) (4 2)
            : "tri" (2 2 0 -1)  3 f eval(1 + 8 + 3) (4 2)
            : "sq"  (1 2 0 -2)  0 f eval(1 + 8 + 3) (6 2)

            : "tri" (2 2 0 -2)  1 f eval(1 + 0 + 3) (0 2)
            : "tri" (2 2 0 -1)  1 f eval(1 + 0 + 3) (2 2)
            : "tri" (2 2 0 -1)  1 f eval(1 + 0 + 3) (4 2)
            : "tri" (2 2 0 -2)  1 f eval(1 + 0 + 3) (6 2)

    ########
    # FACE #
    ########

    "water_face_third_a":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1

    "water_face_third_b":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 1

    "water_face_third_c":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 1

    "water_face":
        shapes:
            : "water_face_third_a" (1 1 1 0)  0 f
            : "water_face_third_b" (1 1 1 0)  4 f
            : "water_face_third_c" (1 1 1 0)  8 f

verts:
    "0": "water_vert"
    "1": "map_vert1"
    "2": "map_vert0"
edges:
    "0": "water_edge"
    "1": "map_edge1"
    "2": "map_edge0"
faces:
    "0": "water_face"
    "1": "map_face1"
    "2": "map_face0"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"

verts:
    "0": "map_vert1"
    "1": "map_vert1"
    "o": "map_vert0"
edges:
    "0": "map_edge1"
    "1": "map_edge1"
    "2": "map_edge2"
    "o": "map_edge0"
faces:
    "0": "map_face1"
    "1": "map_face1"
    "2": "map_face2"
    "o": "map_face0"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"
collmap:
    ;;  + - + - +
    ;;  xxxxxxxxx
    ;;  x x x x x
    ;;  xxxxxxxxx
    ;; (+)- + - +collmap:
    ;;  +
    ;;  xxxx
    ;;  x x x +
    ;;  xxxxx/
    ;; (+)- +collmap:
    ;;      +
    ;;     /*\
    ;;    +   +
    ;;   /* * *\
    ;; (+)- + - +
collmap:
    ;;      +
    ;;     / \
    ;;    +   +
    ;;   /     \
    ;; (+)- + - +
collmap:
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   +   .   +   +   .
    ;;                                                     /* * *\* * * *\     /* *
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   + - +   .   .
    ;;                                                    *\* * */ \* * * * * * *
    ;;      .   .   .   .   .   +   .   .   .   .   .   +   + - + - + - + - + - +   .   .   .   .   .   .
    ;;                          *                                 * * *   * *\ /
    ;;    .   .   .   .   .   + - +   .   .   .   .   .   .   .   + - +   .   +   .   .   .   .   .   .   .
    ;;                       /     \                               \ /      *
    ;;      .   .   .   .   + - + - +   .   .   .   .   .   +   .   +   .   .   .   .   +   .   .   .   .
    ;;                                                                                */ \*
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .
    ;;                                                                                 \ /
    ;;      .   +   .   +   .   .   .   +   .   .   .   +   .   +   .   +   .   .   .   +   +   +   .   .
    ;;           \* * */                                               / \             / \
    ;;    .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   +   +   .   .   .   .
    ;;             \ /                                               /   /*           *\   \
    ;;      .   .   +   .   .   .   .   .   .   .   .   .   +   .   + - +   .   +   .   + - +   .   .   .
    ;;                                                                        */ \*
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .
    ;;                                                                         \ /
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   +   .   .   .
    ;;                                                * * *         *       *        \* * */
    ;;    .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - +   +   .   .   + - +   .   .   .
    ;;                                                 \*/       /* * *\  *\* *         *
    ;;      .  (+)- + - +   .   + - + - +   .   .   .   +   .   +   +   +   +   + - + - + - + - +   .   .   . - +   .   +
    ;;            * * *           * * * *\                        */*\*  \* * */                                 \     /
    ;;    .   .   + - +   .   .   + - +   +   .   .   .   .   .   + - +   + - +   .   .   .   .   .               +   +
    ;;              *               * *\* *\                        *       *                                        /
    ;;      .   .   +   .   .   .   +   +   +   .   .   .   +   .   +   .   +   .   .   .   .   .   .               +   .   +
    ;;                                                                                                               \
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .                   + - +
    ;;                                                                                                                  *
    ;;      .   .   .   .   .   .   .   + - +   +   .   +   .   .   .   .   .   .   .   .   .   .                       +
    ;;                                    * *\*  \
    ;;    .   .   .   .   .   .   .   .   +   +   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                      */     \*/
    ;;      .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                             /
    ;;    .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                           /
    ;;      .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;collmap:
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;         */   /
    ;;         +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          \ /                *
    ;;           +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          / \             /     \                  *               *
    ;;         +   +   .   .   +   + - + - .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;         *\   \          *\   \* *              /     \         /     \
    ;;           + - + - + - +   + - +   .   .   .   + - + - + - + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                \     /                                 \     /         \     /
    ;;                 + - +   .   .   .   .   .   .   .   .   + - +   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                   *                                       *              \ /
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                          / \
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;                                                                         *\ /*
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - + - + - + - + - +   .   .   .   .   .
    ;;                                                                         * *\ / \ /* *   * * * *\
    ;;                     .   .   .   .   .   .   + - +   .   .   .   .   .   +   + - +   +   +   +   +   .   .   .   .
    ;;                                            /     \                        * * * * *      \*/* * *\
    ;;                   .   .   + - + - +   .   + - + - +   .   .   .   .   .   +   +   +   .   +   .   +   .   .   .
    ;;                            \     /                                                         \* * * *
    ;;                     .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                              \ /                                                              * *\* *
    ;;                   .   .   .   +   .   .   .  (+)- + - +   .   .   .   .   .   .   .   .   .   +   + - +   .   .
    ;;                                              /         \
    ;;                     .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            /             \
    ;;                   .   .   .   .   .   .   + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                           *
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                                                        /     \
    ;;                   .   .   .   .   .   +   .   + - + - +   .   + - + - +   .   +   .   .   .   .   .   .   .   .
    ;;                                      / \       \     /                 \     /
    ;;                     .   .   .   .   +   +   .   + - +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                    /   /*         *                       *
    ;;                   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;         .   .   .
    ;;          \     /
    ;;       .   + - +   .
    ;;          /* * *\
    ;;     . - +  (+)- + - .
    ;;          \* *\
    ;;       .   + - +   .
    ;;          /     \
    ;;         .   .   .
collmap:
    ;;
    ;;     .   .   .   .
    ;;          \     /
    ;;   .   .   + - +   .
    ;;          /* */
    ;;     . - +   +   .   .
    ;;          \*/
    ;;   .   .   +   .  (.)  .
    ;;          /*\
    ;;     . - +   +   .   .   .
    ;;          \* *\
    ;;   .   .   + - + - + - +   .
    ;;          /     \* * */
    ;;     .   .   .   + - +   .
    ;;                /     \
    ;;       .   .   .   .   .
    ;;
    ;;         .   .   .   .
collmap:
    ;;                                                                         +   +
    ;;                                                                         * * * *
    ;;                                                                       + - +   +
    ;;                                                                      /     \*
    ;;             .   .   .   .   .   .   + - + - +   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          \* * */ \
    ;;           .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            \ /* * *\
    ;;             .   .   .   .   +   .   .   .   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            /                *\
    ;;           .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                          /                * */ \
    ;;             .   .   .   +   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        / \     /        *\
    ;;           .   .   .   .   .   .   .   +   + - +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /   /* *        / \* *\
    ;;             .   .   .   .   .   .   + - +   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \   \* *        \ /* */ \
    ;;           .   .   .   .   .   .   .   +   + - +   .   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        \ /     \        */   /*
    ;;             .   .   .   .   .   +   .   + - + - +   .   + - +  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                  \
    ;;           .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    \
    ;;             .   .   .   .   .   .   +   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "R": actor "actor/aibig_roller.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "start_blocker"
    "t": recording "data/recs/switch.fus"
        vars:
            "key": "start2_blocker"
    "u": recording "data/recs/switch.fus"
        vars:
            "key": "start4_blocker"

collmap:
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .
    ;;                                                     /* * *\
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .
    ;;                                                     \* * */ \  S
    ;;  +   .   !   .   .   .   +   .   +   .   .   .   +   + - + - + - + - + - +   .   .   .   .   .   .    [R]
    ;;                                                                       \ /
    ;;    .   .   .   .   .   + - +   .   .   .   .   .   .   .   + - +   .   +   .   .   .   .   .   .   .
    ;;                       /     \                               \ /
    ;;      +   .   +   .   + - + - +   .   .   .   .   .   +   .   +   .   .   .   .   +   .   .   .   .
    ;;                                                                                 / \
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   .   .
    ;;                                                                                 \ /
    ;;      .   +   .   +   .   .   .   +   .   +   .   +   .   +   .   +   .   .   .   +   +   +   .   .
    ;;           \     /                                               / \             / \
    ;;    .   .   ! - +   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   +   +   .   .   .   .    [u]
    ;;             \ /                                               /   /             \   \
    ;;      .   .   +   .   .   .   .   .   .   .   +   .   +   .   + - +   .   +   .   + - +   .   .   .   +   . - +   .
    ;;                                                                         / \                                   \
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;                                                                         \ /
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   +   .   +   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                                                     \
    ;;      .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .   +   .   +
    ;;                                                                               \     /                               /
    ;;    .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - +   +   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                 \*/       /     \   \
    ;;      .  (+)- + - +   .   + - + - !   .   .   .   +   .   +   +   +   +   + - + - + - + - +   .   .   . - +   .   +     [s^3]
    ;;                                   \                         /*\   \     /                                 \     /
    ;;    .   .   + - +   .   .   +   .   +   .   .   .   .   .   + - +   + - +   .   .   .   .   .   .   .   .   +   +
    ;;                                     \                                                                         /
    ;;      .   .   +   .   .   .   +   +   +   .   .   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .   +   .   +
    ;;                                                                                                               \
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +
    ;;
    ;;      .   .   .   .   .   .   .   + - +   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +
    ;;                                       \   \
    ;;    .   .   .   .   .   .   .   .   +   +   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                       /     \*/
    ;;      .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                             /
    ;;    .   .   .   .   .   .   .   .   .   .   !   .   .   .   .   .   .   .   .   .   .    [t^4]
    ;;                                           /
    ;;      .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/demo/pals/tunnels.fus"
default_tileset: "data/tileset1.fus"
vars:
    "start_blocker": F
    "start_blocker2": F
    "start2_blocker": F
    "start3_blocker": F
    "start4_blocker": F

submaps:
    :
        submaps:
            :
                bg
                file: "data/maps/triangles/tutorial_bg.fus"
                pos: eval: (-10 -6)
                tileset: "data/tileset1_bg.fus"
            :
                bg
                file: "data/maps/triangles/start_bg.fus"
                pos: eval: (0 0)
                tileset: "data/tileset1_bg.fus"
            :
                bg
                file: "data/maps/triangles/start2_bg.fus"
                pos: eval: (14 12)
                tileset: "data/tileset1_bg.fus"
            :
                bg
                file: "data/maps/triangles/start3_bg.fus"
                pos: eval: (14 12) + (22 15)
                tileset: "data/tileset1_bg.fus"
            :
                bg
                file: "data/maps/triangles/start4_bg.fus"
                pos: eval: (14 12) + (22 15) + (-4 3)
                tileset: "data/tileset1_bg.fus"
    :
        submaps:
            :
                file: "data/maps/triangles/tutorial.fus"
                pos: (-10 -6)
                camera: (-5 -10)
                mapper: ("triple")
                recordings:
                    : "data/maps/triangles/recs/bigroller_tutorial.fus"
            :
                #########
                # START #
                #########
                file: "data/maps/triangles/start.fus"
                pos: (0 0)
                camera: (0 0)
                mapper: ("triple")
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (38 -80)
                        rot: 1
                        turn: n
                recordings:
                    : "data/maps/triangles/recs/bigroller000.fus"
                    #: "data/maps/triangles/recs/bigroller000.fus" "cya"
                    #: "data/maps/triangles/recs/bigroller000.fus" "grn" 650
                    #: "data/maps/triangles/recs/bigroller000.fus" "prp" 1110
            :
                file: "data/maps/triangles/start_blocker.fus"
                visible: not "start_blocker"
                pos: (-2 10)
                mapper: ("triple")
            :
                file: "data/maps/triangles/start_blocker2.fus"
                visible: not "start_blocker2"
                pos: (0 9)
                mapper: ("triple")
            :
                file: "data/maps/triangles/start2.fus"
                pos: eval: (14 12)
                camera: (16 6)
                mapper: ("triple")
            :
                file: "data/maps/triangles/start2_blocker.fus"
                visible: not "start2_blocker"
                pos: eval: (14 12) + (10 10)
            :
                file: "data/maps/triangles/start3.fus"
                pos: eval: (14 12) + (22 15)
                camera: (8 8)
                mapper: ("triple")
            :
                file: "data/maps/triangles/start4.fus"
                pos: eval: (14 12) + (22 15) + (-4 3)
                camera: (3 -7)
                mapper: ("double")
            :
                file: "data/maps/triangles/start4_blocker.fus"
                visible: not "start4_blocker"
                pos: eval: (14 12) + (22 15) + (-4 3)
                camera: (3 -7)
                mapper: ("double")
parts:
    "L": recording "data/recs/big_roller_l.fus"
    "R": recording "data/recs/big_roller_r.fus"

    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            /
    ;;   .   .   .   .   !   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .  [L]
    ;;                                          /         \
    ;; .   .   .   .   + - +   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                /     \                 /             \
    ;;   .   .   .   + - + - +   .   .   .   +   .   .   .   +   .   +   .   +   .   .   .   .   .   .
    ;;                                      /                 \
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   ! - + - ! - !   .   .   .   .   .   .    [C][C][C^5]
    ;;                                    /                                 \
    ;;   .   .   +   .   .   .   .   .   +   .   +   .   +   .   +   .   +   !   +   .   .   .   .   .        [C^4]
    ;;          / \                       \                                 /
    ;; .   .   +   +   .   .   .   .   .   + - + - + - + - +   .   .   .   !   .   .   .   .   .   .            [C^4]
    ;;        /   /                       /                                 \
    ;;   .   + - +   + - + - +   .   . - !   +   ?   +   ?   +   .   .   .   +   .   .   .   .   .   .  [C][C][C]
    ;;                \ /                 \                                 /
    ;; .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .
    ;;                  \                   \                             /
    ;;   .   .   .   .   +   .   .   .   .   !   +   .   .   .   + - + - +   .   .   .   .   .   .   .     [C]
    ;;                                        \                 /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   !   .   .   .   .   .   .   .   .   .               [C^4]
    ;;                                          \             /
    ;;   .   .   .   +   .   .   .   .   .   .   !   +   .   +   .   .   .   .   .   .   .   .   .   .       [C]
    ;;              / \                           \           \
    ;; .   .   .   +   +   .   .   .   .   .   .   +   .   .   !   .   .   .   .   .   .   .   .   .                  [C^5]
    ;;              \   \                                       \
    ;;   .   .   +   + - +   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        /     \         /     \
    ;;   .   + - + - +   .   + - + - +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        \     /
    ;; .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                /     \
    ;;   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .   .
    ;;                                                   * * * * * * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                     * * * * *
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                     * * * *                 *               *
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   + - +   .   .   + - +   .   .   .
    ;;                                                   * */* *                 * * *\         /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   +   .   + - + - +   .   .
    ;;                                                   * *\*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                     */       /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   + - +   +   .   +   .   .   .   + - +   +   .   .   .   + - +   + - +   .   + - +
    ;;                                  \ /* *                                                  \   \* *\   \*   */     \
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   +   +   +   .   +
    ;;                                     *                                                       *      \ /     \       \
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +
    ;;                                     * * * * *
    ;;   .   .   .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   * */     \* *
    ;; .   .   .   .   .   .   + - +   +   +   +   +   +   .   +   .   .   .   + - +   +   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            /
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                   *                      /         \
    ;; .   .   .   .   + - +   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                /     \                 /             \
    ;;   .   .   .   + - + - +   .   .   .   +   .   .   .   +   .   +   .   +   .   .   .   .   .   .
    ;;                                      /                 \* * * * * * * *
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   + - + - + - +   .   .   .   .   .   .
    ;;                                    /                      * * * * * *\* *
    ;;   .   .   +   .   .   .   .   .   +   .   +   .   +   .   +   .   +   +   +   .   .   .   .   .
    ;;          / \                       \* * * * * * * *                 */* *
    ;; .   .   +   +   .   .   .   .   .   + - + - + - + - +   .   .   .   +   .   .   .   .   .   .
    ;;        /   /*                      /* * * * * * * * *                \*
    ;;   .   + - +   + - + - +   .   . - +   +   .   +   .   +   .   .   .   +   .   .   .   .   .   .
    ;;                \ /* *              \* *                              /
    ;; .   .   .   .   +   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .
    ;;                  \*                  \* *                          /
    ;;   .   .   .   .   +   .   .   .   .   +   +   .   .   .   + - + - +   .   .   .   .   .   .   .
    ;;                                        \* *              /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                          \* *          /
    ;;   .   .   .   +   .   .   .   .   .   .   +   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;              / \                           \*          \
    ;; .   .   .   +   +   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .
    ;;             *\   \                                       \
    ;;   .   .   +   + - +   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;           *               *
    ;; .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        /     \         /     \
    ;;   .   + - + - +   .   + - + - +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        \     /
    ;; .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                           *
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                   *
    ;; .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                /     \
    ;;   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;     \     /
    ;;      + - +
    ;;     /* * *\
    ;;  - + - + -(+)-
    ;;   /         \
    ;;
parts:
    "c": recording "data/recs/coin_crouch.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "start_blocker2"

collmap:
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /   /
    ;;         +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          \ /
    ;;           +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          / \             /     \
    ;;         +   +   .   .   +   + - + - .   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .
    ;;          \   \           \   \                 /     \         /     \
    ;;           + - + - + - +   + - +   .   .   .   + - + - + - + - + - + - + - + - +   .   .   .   .   .   .
    ;;                \     /                                 \     /         \     /
    ;;             .   + - +   .   .   .   .   .   .   .   .   + - +   .   .   +   +   .   .   .   .   .   .   .
    ;;                                                                          \ /
    ;;   +       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;  / \                                                                     / \
    ;; + - !   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .    [s^3]
    ;;      \                                                                   \ /
    ;;       +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - + - + - + - + - +   .   .   .   .
    ;;                                               D                            \ / \ /             \
    ;;         .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   +   + - +   +   +   +   +   .   .   .   .
    ;;                                            /     \                                       \ /     \
    ;;           .   .   .   .   + - + - +   .   + - + - +   .   .   .   .   .   +   +   +   .   +   .   +   .   .   .
    ;;                            \     /                                                         \  S  /
    ;;             .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                              \ /                                                                 \
    ;;               .   .   .   .   +   .   .   .  (+)- + - +   .   .   .   .   .   .   .   .   .   +   + - +   .   .
    ;;                                              /         \
    ;;                 .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            /             \
    ;;                   + - + - +   .   .   .   + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                    \     /
    ;;                     +   +   .   .   .   .   ?   ?   ?   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .  [c][c][c]
    ;;                    / \ /                                               /     \
    ;;                   +   +   .   .   .   +   .   ! - ! - +   .   + - + - +   .   +   .   .   .   .   .   .   .   .      [c][c]
    ;;                    \ /               / \       \     /                 \     /
    ;;                     +   .   .   .   +   +   .   + - +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                    /   /
    ;;                   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;                 .   .   .   .   .   + - + - +   .   .
    ;;
    ;;               .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                            /
    ;;           .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                          /
    ;;             .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   +   .   .   .   .   .   .   .  (.)  .
    ;;                                  \
    ;;           .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                    \
    ;;             .   .   .   .   .   .   + - + - + - + - +   .   .   .
    ;;
    ;;               .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;                                                                         +   +
    ;;
    ;;                                                                       + - +   +
    ;;                                                                      /     \
    ;;             .   .   .   .   .   .   +   .   +   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          \     / \
    ;;           .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            \ /     \
    ;;             .   .   .   .   +   .   .   .   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              \
    ;;           .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              / \
    ;;             .   .   .   +   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        / \     /         \
    ;;           .   .   .   .   .   .   .   +   + - +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /   /           / \   \
    ;;             .   .   .   .   .   .   + - +   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \   \           \ /   / \
    ;;           .   .   .   .   .   .   .   +   + - +   .   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        \ /     \         /   /
    ;;             .   .   .   .   .   +   .   + - + - +   .   + - +  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "C": recording "data/recs/coin_crouch.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "start3_blocker"

collmap:
    ;;
    ;;                   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;                 .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                /     \
    ;;               .   .   .   .   .   .   .   .   .   .   .   .   + - ! - +   .   .   .   .   .   .   .   .   .   .   .   [s^3]
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .   .
    ;;                                                            \             /
    ;;             .   .   .   .   .   .   .   .   .   .   .   .   ! - ! - ! - +   .   .   .   .   .   .   .   .   .   .   .  [C][C][C]
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;             .   .   .   .   .   .   .   .   .   .   .   +   +   + - +   .   .   .   + - +   .   .   + - +   .   .   .
    ;;                                                                /                         \         /     \
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   +   .   + - + - +   .   .
    ;;                                                                \
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                                /       /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   +   .   +   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   + - +   +   .   +   .   .   .   + - +   +   .   .   .   + - +   + - +   .   + - +
    ;;                                            \ /                                                     \   \   \   \     /     \
    ;;             .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   +   +   +   .   +
    ;;                                                                                                              \ /     \       \
    ;;           .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +
    ;;
    ;;             .   .   .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /     \
    ;;           .   .   .   .   .   .   .   .   +   +   +   +   +   .   +   .   .   .   + - +   +   .   .   .   .   .   .
    ;;                                                \     /
    ;;             .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;           .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
anim: "anim/big_roller.fus"
state: "stand"
pos: ( 8 8)
rot: 3
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w69+d w16+l w52-l w59+r w15-r w76+l w44-l w79+r w23-r w59+r w3-r w1+r w39-r w61+l w22-l w79+l w70-l w55-d w1+r w19-r w104+d w3+l w29-l w66-d w7+l w25-l w11+d w3+r w48-d w29-r w29+l w18-l w66+r w29-r w13+r w4-r w30"
anim: "anim/big_roller.fus"
state: "stand"
pos: ( -15 -19)
rot: 4
turn: yes
keys:
    x:
    y:
    u:
    d: is was
    l: is was
    r:
data: " w71-d w49+d w20-d w52+d w13-d w43+d w10"
collmap:
    ;;
    ;;     + - +               + - +
    ;;    /* * *\             /* */
    ;;   +       + - +%- + - +   +   [1]
    ;;    \* * * * * *\   \* * * *\
    ;;     +       + - +   +   + - +
    ;;    /* * * */         \*/
    ;;  (+)- + - +           +
    ;;
parts:
    "t": "data/maps/water/water_tri4.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]  [t^3]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .  (?)  .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   [t]   [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .


collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               x x x x x x x
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         x x x x x x x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                       x x x x x x x x x x x x x x x
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                     x x x x x x x x x x x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                     x x x x x x x x x x x x x x x x x
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                     x x x x x x x x x x x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                     x x x x x x x x x x x x x x x x x
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                       x x x x x x x x x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         x x x x x x x x x x x x x
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "a": "data/maps/water/air_bubble_walled_sm.fus"
    "b": "data/maps/water/bubble_sm.fus"
    "s": "data/maps/water/save.fus"
    "c": recording "data/recs/coin.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [a]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .           [b]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   ?   .  (?)  .   .   .   .   ?   .   ?   .   .   .   .   .   .   .     [c][c]   [c][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .                 [c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c][c]
    ;;
    ;;   .   .   .   .   .   .   ?   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [s|1][a]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .         [a]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   [c][c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                                                                            /* */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .
    ;;                                                                                    \* * * * * *\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   +   .   .   .
    ;;                                                                            /* * * * * * * * * * *\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   + - + - +   +   .   .   .
    ;;                                                                            \* * * * */         \*/
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   +   .   .   .
    ;;
collmap:
    ;;
    ;;        .   .   .   .
    ;;        x x x x x x x
    ;;      .   .   .   .   .
    ;;      x x x x x x x x x
    ;;    .   .   .   .   .   .
    ;;    x x x x x x x x x x x
    ;;  .   .   .  (.)  .   .   .
    ;;    x x x x x x x x x x x
    ;;    .   .   .   .   .   .
    ;;      x x x x x x x x x
    ;;      .   .   .   .   .
    ;;        x x x x x x x
    ;;        .   .   .   .
    ;;


collmap:
    ;;
    ;;     S
    ;;  (+)- +
    ;;parts:
    "T": "data/maps/water/water_tri8.fus"
    "a": "data/maps/water/air_bubble_sm.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []  [T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .    [T] [T T^3] [T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .        [a|1]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .        [T]  []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "T": "data/maps/water/water_tri8.fus"
    "a": "data/maps/water/air_bubble_sm.fus"
    "D": "data/maps/demo/door.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .       []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   ?   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T][a|1][T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [D|2]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .  (?)  .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [T]  [T]  []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "T": "data/maps/water/water_tri8.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .       []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [T] [T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .  (?)  .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [T]  [T]  []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;


collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               x x x x x x x\
    ;; .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        /x x x\x x x x x x x/x x x\
    ;;   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /x x x x x x x x x x x x x x x\
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                    /x x x x x x x x x x x x x x x x x\
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                     x x x x x x x x x x x x x x x x x/
    ;; .   .   .   .   .   .   .   .   .   + - +   .   .  (.)  .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                    /x x x x x x x x x x x x x x x x x
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                    \x x x x x x x x x x x x x x x x x/
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                      \x x x x x x x x x x x x x x x/
    ;;   .   .   .   .   .   .   .   .   .   +   .   +   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        \x x x/x x x x x x x\x x x/
    ;; .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              \x x x x x x x
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "T": "data/maps/water/water_tri8.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .       []  [T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   ?   .   .   .   .   .   .    [T] [T T^3] [T^3]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .        [T]  []
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;


collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;


collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                       w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                     w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                     w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                     w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                     w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                       w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

unit: 3 2 0 -1
spawn: "data/maps/water/start.fus"
#default_palette: "data/pal1.fus"
default_palette: "data/maps/water/pals/deeps.fus"
#default_palette: "data/maps/demo/pals/light_dark_cycle.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (3 2)
        mapper: ("triple")
        recordings:
            : "data/maps/water/recs/water_roller_000.fus"
            : "data/maps/water/recs/water_roller_001.fus"
            : "data/maps/water/recs/water_roller_002.fus"
            : "data/maps/water/recs/water_roller_003.fus"
            : "data/maps/water/recs/flier_000.fus"
            : "data/maps/water/recs/flier_001.fus"
            : "data/maps/water/recs/roller_chain_000.fus" empty 0
            : "data/maps/water/recs/roller_chain_000.fus" empty 100
            : "data/maps/water/recs/roller_chain_000.fus" empty 200
            : "data/maps/water/recs/roller_chain_000.fus" empty 300
            : "data/maps/water/recs/roller_chain_000.fus" empty 400
            : "data/maps/water/recs/roller_chain_000.fus" empty 500
            : "data/maps/water/recs/roller_chain_000.fus" empty 600
            : "data/maps/water/recs/roller_chain_000.fus" empty 700
            : "data/maps/water/recs/roller_chain_000.fus" empty 800
            : "data/maps/water/recs/roller_chain_000.fus" empty 900
            : "data/maps/water/recs/death_flier_chain_000.fus" empty 0
            : "data/maps/water/recs/death_flier_chain_000.fus" empty 20
            : "data/maps/water/recs/death_flier_chain_000.fus" empty 25
            : "data/maps/water/recs/death_flier_chain_000.fus" empty 35
            : "data/maps/water/recs/death_flier_chain_000.fus" empty 50
        submaps:
            :
                file: "data/maps/water/start.fus"
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (-77 5)
                        rot: 3
                        turn: y
            :
                file: "data/maps/water/bubble_sm.fus"
                pos: (16 -7)
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/water/rubble.fus"
                        pos: (5 -2)
            :
                file: "data/maps/water/bubble_sm.fus"
                pos: (16 6)
                camera: (0 0)
            :
                file: "data/maps/water/bubble_sm.fus"
                pos: (26 6)
                camera: (0 -5)
            :
                file: "data/maps/water/room_sm_bubble1.fus"
                pos: (42 0)
                camera: (0 0)
                mapper: ("double")
            :
                file: "data/maps/water/air_bubble_walled_sm.fus"
                pos: eval: (42 0) + (10 -9)
                camera: (0 0)
            :
                file: "data/maps/water/air_bubbles_walled1.fus"
                pos: eval: (42 0) + (29 10)
                camera: (-1 -4)
                recordings:
                    : "data/maps/water/recs/air_bubbles_walled1_roller_000.fus" empty 0
                    : "data/maps/water/recs/air_bubbles_walled1_roller_000.fus" empty 1000
                    : "data/maps/water/recs/air_bubbles_walled1_roller_000.fus" empty 2000
                    : "data/maps/water/recs/air_bubbles_walled1_roller_000.fus" empty 3000
                submaps:
                    :
                        file: "data/maps/water/bubble_sm.fus"
                        pos: (14 -6)
                        camera: (0 0)
                        mapper: ("double")
                    :
                        file: "data/maps/water/air_bubbles_walled1_tunnel.fus"
                        pos: (24 7)
                        camera: (0 0)
                        mapper: ("quadruple")
            :
                file: "data/maps/water/room_sm_bubble2.fus"
                pos: eval: (42 0) + (20 -19)
                camera: (0 5)
            :
                file: "data/maps/water/water_hex8_bite.fus"
                pos: eval: (42 0) + (20 -19) + (16 2)
                camera: (8 8)
            :
                file: "data/maps/water/water_tri16_bite.fus"
                pos: eval: (42 0) + (20 -19) + (25 4)
                camera: (10 10)
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (-77 5)
                        rot: 3
                        turn: y


collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              /*\     /*\     /*\
    ;; .   .   .   .   .   .   .   .   .   .   .   + - +   + - +   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                    /* * *\
    ;;   .   .   .   .   .   .   + - + - +   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \* * */
    ;; .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            /
    ;;   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          /*\
    ;; .   .   .   .   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                    /* * * * *\                             /*\
    ;;   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   .
    ;;                                            \*/                         \* * */
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "b": "data/maps/water/bubble_sm.fus"

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   [b]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w S w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;
collmap:
    ;;
    ;;        + - + - + - +
    ;;       /*\*/*\*/*\*/*\
    ;;      + - + - + - + - +
    ;;     /*\*/*\*/*\*/*\*/*\
    ;;    + - + - + - + - + - +
    ;;   /*\*/*\*/*\*/*\*/*\*/*\
    ;;  + - + - + -(+)- + - + - +
    ;;   \*/*\*/*\*/*\*/*\*/*\*/
    ;;    + - + - + - + - + - +
    ;;     \*/*\*/*\*/*\*/*\*/
    ;;      + - + - + - + - +
    ;;       \*/*\*/*\*/*\*/
    ;;        + - + - + - +
    ;;



collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w S w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;
parts:
    "b": "data/maps/water/air_bubble_sm.fus"
    "B": "data/maps/water/air_bubble_walled_sm.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   [b]
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     w S w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                    /     \w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w/     \
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   +   .   +   .   .   .    [B]
    ;;                    \     /w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w w\     /
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;


collmap:
    ;; .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .
    ;;               w
    ;; .   .   .   .   .   .   .   .
    ;;             w w w
    ;;   .   .   .   .   .   .   .   .
    ;;           w w w w w
    ;; .   .   .   .   .   .   .   .
    ;;         w w w w w w w
    ;;   .  (.)  .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .
    ;;
parts:
    "t": "data/maps/water/water_tri4.fus"

collmap:
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   ?   .   .   .   ?   .   .   .   .   .   .   .   .      []   [t^3]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   ?   .   .   .   ?   .   .   .   .   .   .   [t]  [t t^3] [t^3]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .  (?)  .   .   .   ?   .   .   .   .   .   .   .   .        [t]   []
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       *
    ;; .   .   .   .   .   .   . - . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     * *          \
    ;;   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                     *     S            \
    ;; .   .   .   .   . - + - + - + - +   .   . - . - . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                           * *    \w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   . - .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                         * *   D   w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   . - + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        /w w w w w\w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   +   . - .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /w w/w w w w w w w w w\w w\
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    /w w/w w w w w w w w w w/w w/
    ;;   .   .   .   .   .   .   .   .   +   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                  /w w w\w w w w w w w w w w w/
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                /w w w w/*\w w w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   . - . - . - . - . - . - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              /w w w w/w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                            /w w w w/w w w w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                            \w w w w w w w w w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   . - + -(+)- +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                              \w w w w w/     \w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   . - . - .   .   +   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                                \w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                                      \w w w w w w w w w w w w w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   + - + - +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                              /w w w\         /w w w w w w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                              \w w w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .
    ;;                                                    \w w w w w w w w w w w w        \w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                                      \w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
anim: "anim/flier.fus"
state: "hover"
pos: ( 67 -6)
rot: 2
turn: yes
keys:
    x:
    y:
    u: is was
    d:
    l:
    r:
data: " w11+r w2-r w15+r w2-r w15+r w2-r w16+r w2-r w12+r w2-r w12+r w4-r w28+r w1-r w6+l w2-l w31+l w7-l w13+r w6-r w5-u w12+l w2-l w5+u w18+r w2-r w14+r w3-r w21+r w3-r w23+r w4-r w21+r w4-r w19+r w3-r w12+r w2-r w16+r w3-r w18+l w3-l w18-u w4+l w2-l w14+u w5-u w6+r w2-r w7+u w6-u w4+l w3-l w7+u w11+r w3-r w16-u w6+l w2-l w32+l w5-l w10+u w11+l w1-u w2-l w19+l w2-l w5+r w2-r w4+r w3-r w6+r w2-r w18+r w4-r w16+u w5-u w3+l w2-l w21+u w13+r w2-r w11+l w2-l w15+l w4-l w12+r w3-r w15+l w3-l w14+r w4-r w10+l w3-l w15+r w2-r w4+l w3-l w14+r w3-r w17+l w12-l w6-u w14+r w7-r w18+r w7-r w21+l w8-l w3+u w36+l w2-l w58+r w8-r w16-u w12+r w10-r w15+u w6+l w3-l w16+r w3-r w14+l w7-l w6-u w24+l w1-l w10+r w5-r w25+u w5+l w2-l w6-u w14+r w4-r w11+u w12+l w2-l w4+r w4-r w18+l w3-l w17+l w4-l w24+r w14-r w24+l w2-l w1-u w15+l w1-l w9+r w2-r w13+u w2-u w7+r w1-r w11+u w15-u w9+r w5-r w32+u w9+l w6-l w12+r w4-r w9+l w3-l w17+r w4-r w15+l w3-l w8+r w3-r w15+r w2-r w39+r w2-r w9+l w3-l w17+r w4-r w17+l w2-l w7+r w6-r w14+l w4-l w10+r w3-r w10+l w7-l w18+r w4-r w19+r w2-r w6+l w3-l w15+r w3-r w13-u w23+l w2-l w3+r w2-r w11+u w10-u w23+r w2-r w5+u w9+r w2-r w16+r w2-r w3"
anim: "anim/death_flier.fus"
state: "hover"
pos: ( -1 -41)
rot: 1
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w13+u w173+l w7-l w15-u w56+u w132+l w3-l w18-u w43"
anim: "anim/roller.fus"
state: "stand"
pos: ( 69 11)
rot: 4
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r: is was
data: " w220+d w32-d w185+d w22-d w14+d w55-d w238+d w30-d w215+d w30-d w241+d w28-d w6-r w1+l w28+d w55-d w1-l w1+l w8-l w14+d w2+l w4-l w1-d w16+d w4-d w6+r w4-r w7+d w3-d w1+r w98-r w1+l w169-l w2+r w45+d w17-d w1-r w1+l w21+d w29-d w239+d w42-d w243-l w2+r w33-r w1+d w2+r w67-d w30+d w27-d w14+d w10-r w4+l w35-d w123"
anim: "anim/water_roller.fus"
state: "stand"
pos: ( 25 10)
rot: 0
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w68+l w49-l w100+l w64-l w122+l w60-l w123+r w29-r w43+l w117-l w97+l w30-l w100+l w92-l w112+r w24-r w65"
anim: "anim/water_roller.fus"
state: "stand"
pos: ( 95 21)
rot: 1
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w213+r w46-r w194+l w24-l w6+d w7+r w18-d w1-r w27+l w4-l w120+r w24"
anim: "anim/flier.fus"
state: "hover"
pos: ( -29 3)
rot: 0
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w10+u w37+r w3-r w32+l w3-l w32+r w2-r w6+l w3-l w15+r w4-r w13+l w2-l w52+r w5-r w12+l w6-l w91+l w3-l w7+r w3-r w43+l w4-l w59+r w3-r w13+l w3-l w14+r w4-r w18+l w6-l w57+r w1-r w14+l w7-l w19+r w6-r w21+l w3-l w10+r w4-r w31+l w4-l w8+r w9-r w13+l w6-l w14+r w4-r w15+l w3-l w15+r w6-r w13+l w5-l w60+r w2-r w13+l w5-l w21+r w2-r w27+l w3-l w13+l w20"
resets_position: no
anim: "anim/roller.fus"
state: "stand"
pos: ( 47 -6)
rot: 0
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w32+r w16-r w29+l w4-l w29"
anim: "anim/water_roller.fus"
state: "stand"
pos: ( 95 16)
rot: 5
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w123+l w33-l w39+r w2-r w86+l w18-l w96+l w9"
anim: "anim/water_roller.fus"
state: "stand"
pos: ( 88 12)
rot: 1
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w54+r w27-r w128+r w24-r w162+r w16-r w8"

colors:

    :   0   0   0
    :   0   0 127
    :  80 127 127
    :   0  80 127
    : 127  80  80
    :   0 127  80
    :  80   0 127
    :   0  80 127

    : 100 100 100
    :  60  80 100
    :  60 255 120
    :  20 120 255
    : animate:
        : (200  30  90) 30
        : (200  60  60) 30
    :   0 220  20
    :  20 110  40
    : 100 200 100

    255: animate:
        : (  0  20   0) 30
        : (  0  20  40) 90
        : (  0   0  30) 30
        : (  0  30  45) 90
        : ( 10   0  20) 30
        : ( 10  10  35) 60
parts:
    "G": "data/maps/wastes/grid2.fus" | -1

collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                     x x x x x x x                                                                       ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                     x x x x x x x                                                                       ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                     * * * * * * *                                                                       ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                     * * * * * * *                                                                       ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;  [G]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
parts:
    "b": "data/maps/wastes/parts/box_sm.fus"

collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   ; [b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   ; [b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   ; [b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   ; [b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
parts:
    "b": "data/maps/wastes/parts/box_sm.fus"
collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   . ; [b][b] [b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   ; [b] [b][b] [b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   . ; [b][b] [b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   ?   .   .   .   .   .   .   ; [b] [b][b] [b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   . ; [b][b] [b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   ; [b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
collmap:
    ;; .   .   + - +   .   .   .   .   .   .   .   .   .   .   + - +   .   .   . ;
    ;;        /     \                                         /     \            ;
    ;;   + - +   .   + - +   .   .   .   .   .   .   .   + - +   .   +   .   .   ;
    ;;  /     \     /                                   /     \                  ;
    ;; +   .   + - +   .   .   .   .   .   .   .   .   +   .   +   .   .   .   . ;
    ;;                                                                           ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   ;
    ;;                                                              /     \      ;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   +   .   +   . ;
    ;;                    /     \                                   \     /      ;
    ;;   + - +   .   .   +   .  (+)- +   .   .   .   .   .   .   .   + - +   .   ;
    ;;        \           \           \                                          ;
    ;; .   .   +   .   .   + - +   .   +   .   .   .   .   .   .   .   .   .   . ;
    ;;        /                 \     /                                          ;
    ;;   .   +   .   .   .   .   + - +   .   .   .   .   + - +   .   .   .   .   ;
    ;;                                                  /     \                  ;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   +   .   +   .   .   .   . ;
    ;;                    /     \                       \     /                  ;
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   + - +   .   + - +   .   ;
    ;;                    \     /                                   /     \      ;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   .   .   + - +   .   +   . ;
    ;;                                                        /           /      ;
    ;;   .   .   .   + - +   .   .   .   .   .   .   .   .   +   .   + - +   .   ;
    ;;              /     \                                   \     /            ;
    ;; .   .   .   +   .   + - +   .   .   .   .   .   .   .   + - +   .   .   . ;
    ;;              \           \                                                ;
    ;;   .   .   .   + - +   .   +   .   .   .   .   .   + - +   .   + - +   .   ;
    ;;                    \     /                       /     \     /     \      ;
    ;; .   .   .   .   .   + - +   .   .   .   .   .   +   .   +   +   .   +   . ;
    ;;                    /                             \     /     \     /      ;
    ;;   .   .   .   .   +   .   + - +   .   .   .   .   + - +   .   + - +   .   ;
    ;;                    \     /     \                       \                  ;
    ;; .   .   .   .   .   + - +   .   + - +   .   + - +   .   +   .   .   .   . ;
    ;;                          \     /     \     /     \     /                  ;
    ;;   .   .   .   .   .   .   + - +   .   + - +   .   + - +   .   .   .   .   ;
    ;;                                                                           ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                           ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;

unit: 3 2 0 -1
#spawn: "data/maps/wastes/start.fus"
spawn: (-2 1)
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

actors:
    #: (0 0) 0 n "actor/aiplayer.fus" "player_cpu"
    : (14 1) 1 n "actor/aibird.fus" "player_cpu"
    #: (-6 -11) 4 y "actor/aibig_roller.fus" "player_cpu"

submaps:
    :
        file: "data/maps/wastes/start.fus"
        pos: (0 0)
        camera: (5 -5)
        mapper: ("triple")
        recordings:
            : "data/maps/wastes/rec/rec038.fus"
            : "data/maps/wastes/rec/rec039.fus"
            : "data/maps/wastes/rec/rec040.fus"
            : "data/maps/wastes/rec/rec041.fus"
            : "data/maps/wastes/rec/rec042.fus"
            : "data/maps/wastes/rec/rec043.fus"
            #: "data/maps/wastes/rec/player000.fus" "player_cpu"
            #: "data/maps/wastes/rec/player001.fus" "player_cpu"
            #: "data/maps/wastes/rec/big_roller000.fus" "player_cpu"
            #: "data/maps/wastes/rec/big_roller001.fus" "player_cpu"
    :
        file: "data/maps/wastes/start2.fus"
        pos: (18 5)
        camera: (-5 -5)
        mapper: ("triple")
    :
        file: "data/maps/wastes/start3.fus"
        pos: (-8 2)
        camera: (-5 -5)
        mapper: ("triple")
    :
        file: "data/maps/wastes/grid1.fus"
        pos: (20 20)
        camera: (0 0)
        mapper: ("double")
    :
        file: "data/maps/wastes/grid2a.fus"
        pos: (0 20)
        camera: (0 0)
        mapper: ("double")
    :
        file: "data/maps/wastes/unsafe_grid1.fus"
        pos: (0 35)
        camera: (0 0)
        mapper: ("double")
parts:
    "b": "data/maps/wastes/parts/box_sm.fus"

collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .   . ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   .   .   ; [b][b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   . ; [b][b][b][b][b][b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   .   .   ; [b][b][b][b][b][b]
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .   . ; [b][b][b][b][b]
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   ?   .   .   ?   .   .   ?   .   .   ?   .   .   .   .   .   .   .   .   .   .   ; [b][b][b][b]
collmap:
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                           ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                           ;
    ;; .   .   .   .   +   + - +   .   +   .   +   .   .   .   .   .   .   .   . ;
    ;;                    /     \                                                ;
    ;;   .   .   .   .   +   .  (+)- +   .   .   .   .   .   .   .   .   .   .   ;
    ;;                    \           \                                          ;
    ;; .   .   .   .   .   + - +   .   +   +   .   +   .   +   .   .   .   .   . ;
    ;;                          \     /                                          ;
    ;;   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                           ;
    ;; .   .   .   .   +   + - +   .   +   .   .   .   .   .   +   .   .   .   . ;
    ;;                    /     \                                                ;
    ;;   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                    \     /                                                ;
    ;; .   .   .   +   .   + - +   +   .   +   .   +   .   +   .   +   .   .   . ;
    ;;                                                                           ;
    ;;   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;              /     \                                                      ;
    ;; .   .   +   +   .   + - +   .   +   .   +   .   +   .   +   .   +   .   . ;
    ;;              \           \                                                ;
    ;;   .   .   .   + - +   .   +   .   .   + - +   +   .   .   .   .   .   .   ;
    ;;                    \     /           /     \                              ;
    ;; .   .   .   +   .   + - +   .   .   +   .   +   .   .   + - +   .   .   . ;
    ;;                                      \     /           /                  ;
    ;;   .   .   .   .   .   .   +   .   .   + - +   .   + - +   .   .   .   .   ;
    ;;                          /                             \                  ;
    ;; .   .   .   .   .   .   +   +   + - +   .   +   +   .   +   .   .   .   . ;
    ;;                          \     /     \     /                              ;
    ;;   .   .   .   .   .   .   + - +   .   + - +   .   .   .   .   .   .   .   ;
    ;;                                                                           ;
    ;; .   .   .   .   .   .   .   +   .   +   .   +   .   .   .   .   .   .   . ;
    ;;                                                                           ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
collmap:
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   + - +   .   + -(+)- + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                            /     \     /             \                                                                  ;
    ;;   .   .   .   .   .   .   +   .   +   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                            \     /             \       \                                                                ;
    ;; .   .   .   .   .   .   .   + - +   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                  \     /                                                                ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   + - +   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                            /     \             / \                                                                      ;
    ;;   .   .   .   .   .   .   +   .   +   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                            \     /       /       /                                                                      ;
    ;; .   .   .   .   .   .   .   + - +   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                  \     /       /                                                                        ;
    ;;   .   .   .   .   .   + - +   .   + - +   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                      /     \     /       /                                                                              ;
    ;; .   .   .   .   .   +   .   +   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                      \     /   /       /                                                                                ;
    ;;   .   .   .   .   .   + - +   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                \     /                                                                                  ;
    ;; .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
    ;;                                                                                                                         ;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ;
    ;;                                                                                                                         ;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ;
collmap:
    ;;    + - +
    ;;   /     \
    ;;  +  (.)  +
    ;;   \     /
    ;;    + - +
anim: "anim/player.fus"
state: "stand"
pos: ( -7 -1)
rot: 3
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w57+r w36-r w389+r w10-r w8+r w10-r w3+r w49-r w16+r w7-r w1+r w5-r w3+r w5-r w4+r w3-r w5+r w4-r w4+r w3-r w3+r w4-r w5+r w2-r w3+r w5-r w2+r w5-r w3+r w4-r w2+r w38-r w20+r w5-r w23+r w4-r w9+r w7-r w6+r w6-r w5+r w5-r w42+r w4-r w63+u w7-u w21+u w7-u w36+r w8-r w22+r w30-r w87"
anim: "anim/big_roller.fus"
state: "stand"
pos: ( -2 1)
rot: 0
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w32+r w62-r w33+r w9-r w12+r w7-r w5+r w30-r w49+l w10-l w31+d w15+l w22-l w1-d w91+u w29+l w27-u w1-l w16+d w21+l w25-l w8+r w19-r w2-d w2+d w4-d w16+l w84-l w46+l w9-l w4+l w4-l w3+l w3-l w74+l w8-l w3+l w5-l w4+l w3-l w4+l w4-l w3+l w3-l w4+l w3-l w5+l w2-l w4+l w2-l w4+l w2-l w5+l w2-l w4+l w5-l w2+l w64-l w34+l w7-l w55+l w4-l w61+r w4-r w33+u w21-u w18+u w15-u w103+l w8-l w2+l w5-l w4+l w4-l w3+l w57-l w71"
anim: "anim/player.fus"
state: "stand"
pos: ( -13 -6)
rot: 4
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w38+r w9-r w1+l w3-l w2+r w6+l w1-r w5-l w1+r w6+l w1-r w5-l w1+r w5-r w1+l w6+r w1-l w7+l w1-r w6-l w1+r w5-r w2+l w4-l w1+r w6-r w2+l w5-l w1+r w6-r w1+l w6-l w1+r w7-r w1+l w4-l w2+r w7+l w1-r w5-l w1+r w7-r w1+l w5-l w1+r w7+l w1-r w5-l w1+r w7-r w1+l w5-l w2+r w7-r w1+l w5-l w1+r w8-r w1+l w3-l w20+r w40-r w97"
anim: "anim/player.fus"
state: "stand"
pos: ( -18 -6)
rot: 1
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w35+r w90-r w12+r w7-r w20+r w6-r w5+r w4-r w4+r w3-r w3+r w5-r w2+r w4-r w3+r w4-r w58"
anim: "anim/player.fus"
state: "stand"
pos: ( -15 -4)
rot: 2
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w35+r w44-r w5+r w53-r w32+d w8-d w4+d w4-d w4+d w3-d w3+d w4-d w2+d w4-d w8+r w41-r w14+l w5+r w1-l w6+l w1-r w4-l w1+r w6+l w1-r w4-l w1+r w6+l w1-r w6+r w1-l w7+l w1-r w5-l w1+r w5+l w1-r w7-l w1+r w6+l w1-r w6-l w1+r w4-r w2+l w5-l w1+r w5-r w1+l w6+r w1-l w5-r w1+l w7-l w1+r w5+l w1-r w7+r w1-l w5+l w2-r w7-l w1+r w5+l w1-r w7-l w1+r w6+l w1-r w4-l w8+d w13+r w4-r w7+r w104-r w3-d w19+r w8-r w12+r w5-r w4+r w2-r w5+d w1+r w2-d w2-r w2+d w6-d w1+r w7+d w1-r w6-d w1+r w4-r w1+d w6-d w1+r w6+d w1-r w7-d w1+r w6+d w1-r w8-d w1+r w4+d w1-r w8-d w1+r w6+d w1-r w7-d w1+r w6-r w1+d w8-d w1+r w5-r w1+d w7+r w1-d w7+d w1-r w6-d w2+r w6+d w1-r w6+r w2-d w6-r w1+d w7-d w1+r w8+d w1-r w6-d w1+r w7+d w1-r w6-d w1+r w8+d w1-r w4-d w2+r w6-r w1+d w9-d w1+r w4-r w2+d w7-d w1+r w7-r w1+d w8-d w1+r w7+d w1-r w6-d w2+r w8+d w1-r w6-d w3+r w7-r w1+d w6-d w2+r w7+d w1-r w6-d w1+r w7-r w1+d w5-d w5+r w6+d w1-r w6-d w6+r w6+d w1-r w6-d w2+r w5-r w1+d w9-d w1+r w8+d w1-r w4-d w1+r w9+d w1-r w5-d w2+r w8-r w1+d w6-d w3+r w7-r w1+d w6-d w2+r w11-r w1+d w7-d w2+r w9-r w1+d w6-d w1+r w9+d w1-r w4-d w3+r w9-r w1+d w4-d w5+r w4-r w78"
anim: "anim/big_roller.fus"
state: "stand"
pos: ( 4 1)
rot: 3
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w32+u w12-u w4+u w5-u w5+u w3-u w4+u w5-u w3+u w4-u w3+u w4-u w4+u w4-u w4+u w4-u w3+u w5-u w4+u w5-u w3+u w5-u w4+u w5-u w5+u w4-u w5+u w4-u w3+u w5-u w5+u w5-u w4+u w5-u w4+u w5-u w3+u w5-u w4+u w42-u w3+u w6-u w2+u w5-u w3+u w5-u w4+u w3-u w4+u w4-u w4+u w3-u w4+u w4-u w4+u w3-u w5+u w4-u w4+u w4-u w6+u w2-u w5+u w3-u w6+u w2-u w5+u w3-u w5+u w3-u w5+u w4-u w4+u w4-u w5+u w3-u w5+u w4-u w4+u w4-u w4+u w4-u w5+u w4-u w5+u w4-u w4+u w4-u w4+u w5-u w20+r w108-r w20+r w10-r w8+r w7-r w9+r w6-r w19+r w7-r w6+r w5-r w13+r w4-r w4+r w4-r w6+r w1-r w6+r w2-r w7+r w3-r w4+r w4-r w6+r w3-r w145+r w4-r w4+r w4-r w3+r w121-r w45+d w21+l w291-l w1-d w269+d w11+l w55-l w1-d w106+l w11-l w34+d w10+l w199-l w1-d w94+u w30-u w25+l w4-l w37+u w20-u w6+u w7-u w3+u w5-u w3+u w6-u w3+u w4-u w3+u w6-u w2+u w6-u w4+u w2-u w86"
anim: "anim/player.fus"
state: "stand"
pos: ( -6 1)
rot: 1
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w44+l w42-l w36+r w24-r w99+l w6-l w28+l w3-l w45+u w6-u w34+u w6-u w60+l w7-l w26+l w6-l w6+l w3-l w14+l w3-l w4+l w4-l w5+l w3-l w50+r w6-r w35+l w36-l w32+l w6-l w40+l w4-l w20+d w19+l w6-l w2-d w133"
anim: "anim/player.fus"
state: "stand"
pos: ( -14 -4)
rot: 4
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w44+r w127-r w38"
anim: "anim/player.fus"
state: "stand"
pos: ( -16 -8)
rot: 3
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w48+r w8-r w2+r w4-r w5+r w7-r w3+r w3-r w3+r w3-r w3+r w3-r w4+r w3-r w4+r w2-r w6+r w1-r w15+r w107-r w31+d w37+l w32-l w1-d w33+l w6-l w60+r w10-r w8+r w16-r w12+r w15-r w32+d w10+l w27-l w17+r w45-r w4-d w380+r w5-r w52+r w47-r w34+d w21+l w25-l w5+l w7-l w2-d w23+r w6-r w10+r w16-r w33+d w19+l w10-l w4-d w32+d w9+r w32-r w2-d w54+l w7-l w72+l w7-l w25+d w18+l w22-l w1-d w21+r w88-r w70+r w5-r w49+l w6-l w30+l w2-l w28+r w7-r w61+u w9-u w18+u w7-u w77"
anim: "anim/player.fus"
state: "stand"
pos: ( -12 2)
rot: 0
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w49+r w34-r w26+d w23+l w29-l w45+l w4-d w1+d w5-l w38+l w10-l w7+l w32-l w11+r w6-r w5+r w3-r w20+r w34-r w15-d w80+u w7-u w32+u w6-u w20+u w5-u w152+u w2-u w100+d w10"
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - +   +   + - +    [r]
    ;;      /*\*/*\     /*\*/*\
    ;; .   + -(+)- + - + - + - +
    ;;    /*\*/*\*/*\*/*\*/*\*/
    ;;   + - + - + - + - + - +
    ;;    \*/*\*/*\*/*\*/
    ;;     + - + - + - +
    ;;          \*/*\*/
    ;;           + - +
    ;;
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

    "d": recording "data/recs/coin.fus"
    "D": recording "data/recs/coin_crouch.fus"
    "d": "data/maps/demo/vert.fus"
    "D": "data/maps/demo/vert.fus"

    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [M]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                      /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   ?   .   .   .   .   .   [C]
    ;;                                                    /
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          /           / \
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   + - +   .   .   .   .   ?   ?   .   .   .   .   .   .   [L][C]
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   .  (+)  ?   ?   ?   ?   .   + - +   .   .   .   .   .   .   .   .   . [c][c][c][c]
    ;;                                          \                           \
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   ?   ?   .   ?   ?   +   .   .   .   .   .   .   .   .        [c][c]  [D][C]
    ;;                                        \                             /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   ? - +   .   .   .   .   .   .   .   .   .       [c]      [D]
    ;;                                          \                     /
    ;;   .   .   .   .   .   .   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                                            \*/*           *\*/
    ;; .   .   .   .   .   .   .   .   .   .   .   + - +   ?   ?   +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                                  \  *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .      [L] [C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .       [L]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   [l]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                     w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                   w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                 w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [l]
    ;;                                       w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                 w w w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                 w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .    [M]
    ;;                                 w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                               w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   ?   .   .  (.)  .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .  [m]   [m]
    ;;                             w w w w w w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                               w w w w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                                   w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;                                 w w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                       w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - +    [r]
    ;;      /*\*/*\
    ;; .   + -(+)- +
    ;;      \*/*\*/
    ;;       + - +
    ;;
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [l]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .    [M]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;; .   .   .   .   .   .   .   ?   .   .  (.)  .   +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .  [m]   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .    [l] [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [l]
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [m]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;;       ? - + - +   [r]
    ;;      /*\*/*\*/*\
    ;; .   + -(+)- + - +
    ;;      \*/*\*/*\*/
    ;;       + - + - +
    ;;        \*/*\*/
    ;;         + - +
    ;;
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c]
    ;;
    ;; .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .   [c][l][C][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                          /         \
    ;; .   .   .   .   .   .   .   .   .   .   +   ?   ?   + - + - +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   ?   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [c]
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   .  (?)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .     [r]
    ;;                                          \*/                   /     \
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   .   +   .   .   .   .   .   .   .   .         [c]
    ;;                                        \                       \     /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   ?   ?   + - +   .   .   .   .   .   .   .   .   .    [c]  [c][c]
    ;;                                          \                     /
    ;;   .   .   .   .   .   ?   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .    [c]
    ;;                                            \*/*           *\*/
    ;; .   .   .   .   .   .   ?   .   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                                  \  *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   ?   ?   .   .   .   .   .   .   .   .   .   .    [c][C][C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: "data/maps/wilderness/start.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (0 0)
        mapper: ("triple")
        submaps:

            ### START ###
            :
                # START
                file: "data/maps/wilderness/start.fus"
                doors:
                    :
                        map: "data/maps/demo/worldmap.fus"
                        pos: (72 29)
                        rot: 0
                        turn: y
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-10, -6)) eval(rand(-10, 10)))
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(10, 12)) eval(rand(-10, 10)))
            :
                # BALL BELOW START
                file: "data/maps/wilderness/ball_md.fus"
                pos: (eval(rand(-10, 10)) eval(rand(-10, -6)))
                camera: (0 0)
            :
                # BALL ABOVE START
                file: "data/maps/wilderness/ball_md.fus"
                pos: (eval(rand(-10, 10)) eval(rand(6, 10)))
                camera: (0 0)
            :
                # BALL LEFT OF START #1
                file: "data/maps/wilderness/ball_lg.fus"
                pos: (eval(rand(-14, -10)) eval(rand(-10, 10)))
                camera: (0 0)
            :
                # BALL LEFT OF START #2
                file: "data/maps/wilderness/ball_sm.fus"
                pos: (eval(rand(-14, -10)) eval(rand(-10, 10)))
                camera: (0 0)

            ### RIGHT OF START ###
            :
                # TOP-RIGHT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(8, 12)) eval(rand(12, 16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # RIGHT
                file: "data/maps/wilderness/start5.fus"
                pos: (eval(rand(8, 12)) eval(rand(-2, 2)))
                camera: (0 0)
                submaps:
                    :
                        # UP
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-10, -14)))
                    :
                        # RIGHT
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(10, 14)) eval(rand(-4, 4)))
            :
                # BOTTOM-RIGHT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(8, 12)) eval(rand(-12, -16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # FAR RIGHT
                file: "data/maps/wilderness/watercorridor.fus"
                pos: (eval(rand(20, 24)) eval(rand(-4, 4)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (14 14)
                        camera: (0 0)
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (16 10)
                        camera: (0 0)

            ### LEFT OF START ###
            :
                # TOP
                file: "data/maps/wilderness/start3.fus"
                pos: (eval(rand(-4, 4)) eval(rand(16, 24)))
                camera: (0 0)
            :
                # TOP-LEFT
                file: "data/maps/wilderness/start2.fus"
                pos: (eval(rand(-8, -12)) eval(rand(14, 16)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
            :
                # LEFT
                file: "data/maps/wilderness/start4.fus"
                pos: (eval(rand(-16, -20)) eval(rand(-2, 2)))
                camera: (0 0)
                submaps:
            :
                # BOTTOM-LEFT
                file: "data/maps/wilderness/start3.fus"
                pos: (eval(rand(-30, -25)) eval(rand(-24, -28)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-4, 4)) eval(rand(-4, 4)))
                    :
                        file: "data/maps/wilderness/ball_lg.fus"
                        pos: (eval(rand(8, 12)) eval(rand(10, 14)))
            :
                # BOTTOM
                file: "data/maps/wilderness/watercorridor.fus"
                pos: (eval(rand(-12, -10)) eval(rand(-20, -24)))
                camera: (0 0)
                submaps:
                    :
                        file: "data/maps/wilderness/ball_sm.fus"
                        pos: (eval(rand(-10, 10)) eval(rand(-10, 10)))
                    :
                        file: "data/maps/wilderness/ball_md.fus"
                        pos: (eval(rand(-10, 10)) eval(rand(-10, 10)))
collmap:
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)

collmap:
    # Size of the "house" in the middle: 8 x 8
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    /                       /
    ;;   .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .
    ;;                                  /                       /
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .
    ;;                                                        /
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                          /     \*/*\
    ;; .   .   .   .   .   .   .   .   .   .   +   .   + - + - + - +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                        \
    ;; .   .   .   .   .   .   .   .   .   +  (+)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                    /     \*/                   /     \
    ;;   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;                                  /       /                     \     /
    ;; .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                /         \  S                  /
    ;;   .   .   .   .   .   .   .   +   .   .   + - +   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;                              /             \*/             \*/
    ;; .   .   .   .   .   .   .   +   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                  \  D      /
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                          /
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                        /
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;            +
    ;;           /
    ;;          +
    ;;         /
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c]
    ;;
    ;; .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   ?   ?   .   .   .   .   .   .   .   .   .   .   .   [c][l][C][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   + - + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;                                          /w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   +   ?   ?   + - + - +   .   .   .   .   .   .   .   .   .   .   .     [c][c]
    ;;                                        /w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   ?   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [c]
    ;;                                        \w w w w w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .  (?)- +   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .     [r]
    ;;                                         w\*/w w w w w w w w w w w w *\
    ;;   .   .   .   .   .   .   .   .   .   +   +   .   .   ?   .   +   . - +   .   .   .   .   .   .   .   .         [c]
    ;;                                        \w w w w w w w w w w w w w/*\*/
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   ?   ?   + - +   .   .   .   .   .   .   .   .   .    [c]  [c][c]
    ;;                                          \w w w w w w w w w w w/
    ;;   .   .   .   .   .   ?   .   .   .   .   + - +   +   +   + - +   .   .   .   .   .   .   .   .   .   .    [c]
    ;;                                            \*/* w w w w w *\*/
    ;; .   .   .   .   .   .   ?   .   .   .   .   + - +   .   .   +   .   .   .   .   .   .   .   .   .   .   .   [M]
    ;;                                                  \w *\*/*\*/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   ?   ?   ?   .   .   .   .   .   .   .   .   .   .    [c][C][C][C]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"
    "l": "data/maps/wilderness/start_line2.fus"
    "L": "data/maps/wilderness/start_line3.fus"
    "m": "data/maps/wilderness/start_line4.fus"
    "M": "data/maps/wilderness/start_line5.fus"
    "r": recording "data/maps/wilderness/recs/roller000.fus"
    "r": "data/maps/demo/vert.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                              /w w w\
    ;; .   .   .   .   .   .   ?   .   .   .   .   +   .   +   .   .   .   .   ?   .   .   .   .   .   .   .   .   [l][L]
    ;;                                            /w w w w w
    ;;   .   .   .   .   .   .   .   ?   .   .   +   ?   .   .   .   ? - +   .   .   .   .   .   .   .   .   .   [C][c]  [r]
    ;;                                          /w w w w w w        /w w w\
    ;; .   .   .   .   .   .   .   .   .   .   +   .   ?   .   .   +   .   +   .   .   .   .   .   .   .   .   .   [c]
    ;;                                        /w w w w w w w w w w w\w w w w
    ;;   .   .   .   .   .   .   ?   .   .   +   .   .   .   ?   .   +   ?   +   .   .   .   .   .   .   .   .     [M]  [c] [C]
    ;;                                        \w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .  (+)  .   +   .   ?   .   .   .   +   .   .   ?   .   .   .   .   .         [c] [m]
    ;;                                          \w w w w\w w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   ?   +   .   +   .   .   .   .   .   .   .            [c]
    ;;                                            \w w w/w w w w          \w w w/
    ;; .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   ?   + - +   .   .   .   .   .   .   .   .           [c]
    ;;                                               w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                \w w w w w w\
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   +   .   ?   +   .   .   + - +   .   .   .   .   .   .   .   [c][c]
    ;;                                                  \w w w w w/           /   /
    ;;   .   .   .   .   .   .   .   .   .   ?   .   .   + - + - +   .   .   + - +   ?   .   .   .   .   .   .        [C] [c]
    ;;
    ;; .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .    [L]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
collmap:
    ;;          +
    ;;         /
    ;;        +
    ;;       /
    ;;      +
    ;;     /
    ;;    +
    ;;   /
    ;; (+)
reacts: yes
anim: "anim/death_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l: is was
    r:
nodata

shapes:

    ##########
    # VERTEX #
    ##########

    "map_vert0":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 4

    "map_vert1":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 8 + 1
            : "tri" (0 0 0 0)  2 f eval: 1 + 8 + 2
            : "tri" (0 0 0 0)  4 f eval: 1 + 8 + 3
            : "tri" (0 0 0 0)  6 f eval: 1 + 8 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 8 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 8 + 6


    "map_vert0_dark":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 4

    "map_vert0_bg":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 16 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 16 + 4

    ########
    # EDGE #
    ########

    "map_edge0":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 6

    "map_edge1":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 8 + 4
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 8 + 6
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 4

    "map_edge2":
        prismels:
            : "dia" (1 0 0  0)  0 f eval: 1 + 8 + 3
            : "dia" (1 0 0  0) 11 f eval: 1 + 8 + 3
            : "tri" (2 0 0  0) 11 f eval: 1 + 8 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 8 + 3

    "map_edge0_dark":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 0 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 0 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 0 + 6

    "map_edge0_bg":
        prismels:
            : "tri" (1 0 0  0) 11 f eval: 1 + 16 + 6
            : "sq"  (1 1 0 -1)  0 f eval: 1 + 16 + 1
            : "tri" (2 2 0 -1)  5 f eval: 1 + 16 + 6

    ########
    # FACE #
    ########

    "map_face0_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 8 + 1

    "map_face0":
        shapes:
            : "map_face0_third" (1 1 1 0)  0 f
            : "map_face0_third" (1 1 1 0)  4 f
            : "map_face0_third" (1 1 1 0)  8 f

    "map_face1_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 8 + 4
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 8 + 4
            : "sq"  (-1 0 1 0)  0 f eval: 1 + 0 + 4

    "map_face1":
        shapes:
            : "map_face1_third" (1 1 1 0)  0 f
            : "map_face1_third" (1 1 1 0)  4 f
            : "map_face1_third" (1 1 1 0)  8 f

    "map_face2_third":
        animation: oscillate 6
        prismels:
            : "sq"  (-1 0 1 0)  0 f eval(1 + 0 + 5) (2 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 5) (3 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 0 + 5) (3 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 5) (3 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 5) (4 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 5) (4 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (4 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 7) (5 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 7) (5 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (5 1)

    "map_face2":
        animation: oscillate 6
        shapes:
            : "map_face2_third" (1 1 1 0)  0 f  0+
            : "map_face2_third" (1 1 1 0)  4 f  0+
            : "map_face2_third" (1 1 1 0)  8 f  0+

    "map_face0_bg_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 + 16 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 + 16 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 +  0 + 1

    "map_face0_bg":
        shapes:
            : "map_face0_bg_third" (1 1 1 0)  0 f
            : "map_face0_bg_third" (1 1 1 0)  4 f
            : "map_face0_bg_third" (1 1 1 0)  8 f

    "map_face0_dark_third":
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval: 1 +  0 + 1
            : "tri" ( 0 0 0 0)  2 f eval: 1 +  0 + 1
            : "sq"  (-1 0 1 0)  0 f eval: 1 +  0 + 2

    "map_face0_dark":
        shapes:
            : "map_face0_dark_third" (1 1 1 0)  0 f
            : "map_face0_dark_third" (1 1 1 0)  4 f
            : "map_face0_dark_third" (1 1 1 0)  8 f

    "map_savepoint_third":
        animation: oscillate 6
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 7) (0 3)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 7) (0 3)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 7) (0 3)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 2) (3 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 8 + 2) (3 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 8 + 2) (3 1)

            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 2) (4 1)
            : "tri" ( 0 0 0 0)  2 f eval(1 + 0 + 2) (4 1)
            : "sq"  (-1 0 1 0)  0 f eval(1 + 0 + 2) (4 1)

    "map_savepoint":
        animation: cycle 12
        shapes:
            : "map_savepoint_third" (1 1 1 0)  0 f  0+
            : "map_savepoint_third" (1 1 1 0)  4 f  4+
            : "map_savepoint_third" (1 1 1 0)  8 f  8+

    "map_door_tri":
        animation: oscillate 6
        prismels:
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 3) (0 2)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 3) (2 1)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 8 + 1) (3 1)
            : "tri" ( 0 0 0 0)  0 f eval(1 + 0 + 1) (4 2)

    "map_door_sq":
        animation: oscillate 6
        prismels:
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 8 + 3) (0 2)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 0 + 3) (2 1)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 8 + 1) (3 1)
            : "sq"  ( 0 0 0 0)  0 f eval(1 + 0 + 1) (4 2)

    "map_door_sixth":
        animation: cycle 12
        prismels:
            : "tri" ( 1 1 1 0) 10 f eval(1 + 8 + 4)
            : "tri" ( 1 1 1 0)  0 f eval(1 + 8 + 4)
            : "tri" ( 1 1 1 0)  2 f eval(1 + 8 + 4)
            #: "sq"  ( 2 1 0 0) 11 f eval(1 + 0 + 4)
            #: "sq"  ( 0 1 2 0)  0 f eval(1 + 0 + 4)
            #: "tri" ( 0 1 2 0)  3 f eval(1 + 0 + 4)
        shapes:
            : "map_door_tri" ( 0 0 0 0)  0 f 0+
            : "map_door_tri" ( 0 0 0 0)  2 f 0+
            : "map_door_tri" ( 0 0 0 0)  4 f 0+
            : "map_door_tri" ( 0 0 0 0)  6 f 0+
            : "map_door_tri" ( 0 0 0 0)  8 f 0+
            : "map_door_tri" ( 0 0 0 0) 10 f 0+

            : "map_door_sq"  ( 1 0 0 0)  1 f 1+
            : "map_door_tri" ( 0 0 1 0)  1 f 1+

            : "map_door_tri" ( 1 1 0 0)  0 f 2+
            : "map_door_tri" ( 1 1 0 0)  2 f 2+
            : "map_door_tri" ( 0 1 1 0)  0 f 2+
            : "map_door_sq"  ( 0 1 1 0)  2 f 2+

            #: "map_door_tri" ( 1 1 1 0) 10 f 3+
            #: "map_door_tri" ( 1 1 1 0)  0 f 3+
            #: "map_door_tri" ( 1 1 1 0)  2 f 3+
            ##: "map_door_sq"  ( 2 1 0 0) 11 f 3+
            ##: "map_door_sq"  ( 0 1 2 0)  0 f 3+
            ##: "map_door_tri" ( 0 1 2 0)  3 f 3+

    "map_door":
        animation: cycle 12
        shapes:
            : "map_door_sixth" (0 1 3 1)  0 f
            : "map_door_sixth" (0 1 3 1)  2 f
            : "map_door_sixth" (0 1 3 1)  4 f
            : "map_door_sixth" (0 1 3 1)  6 f
            : "map_door_sixth" (0 1 3 1)  8 f
            : "map_door_sixth" (0 1 3 1) 10 f

    "_map_water_sixth":
        animation: oscillate 6
        prismels:
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 1) (1 2)
            : "tri" (0 0 0 0)  0 f eval(1 + 0 + 3) (3 2)
            : "tri" (0 0 0 0)  0 f eval(1 + 8 + 1) (5 1)
            #: "tri" (0 0 0 0)  0 f eval(1 + 8 + 3) (4 1)
            #: "tri" (0 0 0 0)  0 f eval(1 + 8 + 7) (5 1)

    "_map_water":
        animation: cycle 12
        shapes:
            : "_map_water_sixth" (0 0 0 0)  0 f 0+
            : "_map_water_sixth" (0 0 0 0)  2 f 1+
            : "_map_water_sixth" (0 0 0 0)  4 f 2+
            : "_map_water_sixth" (0 0 0 0)  6 f 3+
            : "_map_water_sixth" (0 0 0 0)  8 f 4+
            : "_map_water_sixth" (0 0 0 0) 10 f 5+

    "map_water":
        animation: cycle 24
        shapes:
            : "_map_water" ( 1 1 1 0) 0 f  0 ( 0 2)
            : "_map_water" ( 1 1 1 0) 0 f  1 ( 2 2)
            : "_map_water" ( 1 1 1 0) 0 f  2 ( 4 2)
            : "_map_water" ( 1 1 1 0) 0 f  3 ( 6 2)
            : "_map_water" ( 1 1 1 0) 0 f  4 ( 8 2)
            : "_map_water" ( 1 1 1 0) 0 f  5 (10 2)
            : "_map_water" ( 1 1 1 0) 0 f  6 (12 2)
            : "_map_water" ( 1 1 1 0) 0 f  7 (14 2)
            : "_map_water" ( 1 1 1 0) 0 f  8 (16 2)
            : "_map_water" ( 1 1 1 0) 0 f  9 (18 2)
            : "_map_water" ( 1 1 1 0) 0 f 10 (20 2)
            : "_map_water" ( 1 1 1 0) 0 f 11 (22 2)

mappers:
    "test_map":
        solid
        unit: 3 2 0 -1
        entries:
            : "vert" -> "map_vert0"
            : "edge" -> "map_edge0"
            : "sq"   -> "empty"
            : "tri"  -> "map_face0"
            : "dia"  -> "empty"
collmap:
    ;;
    ;;     .   .   .  (.)
    ;;
    ;;       .   .   .
    ;;
    ;; + - + - + - +   .
    ;;       */*\*
    ;;       .   .   .

collmap:
    ;;   + - + - + - + - + - + - + - + - + - +
    ;;    \                             /     \
    ;;     +               + - +       +       +
    ;;      \             /     \       \     /
    ;;       +           +       +   .   + - +
    ;;        \           \     /
    ;;         +           + - +               .   + - +
    ;;          \                                 /     \
    ;;           +           .      (+)- +       +       +
    ;;            \                 /     \       \     /
    ;;             +   + - +       +   .   +       + - +
    ;;              \ /     \       \     /
    ;;               +       +       + - +       .
    ;;                \     /
    ;;                 + - +   .               + - +
    ;;                                        /     \
    ;;                           + - +   .   +       +
    ;;                          /     \       \     /
    ;;                         +       +       + - +
    ;;                          \     /
    ;;                           +   +
    ;;                            \ /
    ;;                             +

default_vert: "1"
default_edge: "1"
default_face: "1"
collmap:
    ;;   + - + - +
    ;;  /         \
    ;; +      ( )  +
    ;;  \           \
    ;;   + - +   + - +
    ;;        \ /
    ;;         +
parts:
    "r": actor "actor/airoller.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "map3x_blocker"

collmap:
    ;;                %*/*                                                             [111]
    ;;                %+ - +                                  %+ - +                   [111][121]
    ;;                                                             %\                  [2]
    ;;               .                                              %+                 [1]
    ;;
    ;;          %  +                                                   .               [1]
    ;;          %*/                                                                    [11]
    ;;          %+               + - + - +   .   + - + - +               .             [1]
    ;;                          /   /     \     /         \
    ;;             .           +   +       +   +           +               .
    ;;                        /     \     /     \         /
    ;;               .       +       +   !       + - + - +   +               .           [s^1]
    ;;                        \     /   /*\
    ;;                 .   .   + - +   + - +  %+       +       +               .         [1]
    ;;                                  \*/*\  %\                                        [1]
    ;;                   +               + - +  %+       + - + - +               .       [1]
    ;;                  / \             /*\*/  %/*\     /         \                      [111]
    ;; +               +   ! - +   +   + - +  %+ - +   +   +       +             % +  [r][121]      [1]
    ;; *\             /       /     \ /*\*/    %\*/*\   \   \       \            %  \    [11211]    [2]
    ;; - + - +       +       +       + - +   .  %+ - +   +   +       +           %   +   [121]      [1]
    ;; */*\*          \       \                  %\*/   /   /    D  /            %  /    [111]      [2]
    ;;                 +       + - + - + -(+)- +  %+   +   + - + - +             % +     [1]        [1]
    ;; *\*/*            \     /         \*/*\*/*\     /         \*/
    ;; - + - +           + - +           + - + - + - +           +               .
    ;; */                                         \*/
    ;; +                   .                       +   +                       .
    ;;  \                                             /
    ;;   + - +   .   .   .   + - + - + - +   + - + - +                       .
    ;;                        \           \       \*/*\
    ;;                         +           +       + - + - +          %+ - +            [121]
    ;;                          \         /       /*\*/*\*/
    ;;                           + - + - +   .   + - + - +
    ;;
    ;;                                 .       .
    ;;
    ;;                               +       .
    ;;                              /
    ;;                             +       +
    ;;                             *\     /
    ;;                             - + - +
    ;;                               *\*/*

collmap:
    ;;
    ;; /*
    ;;  -(+)- +   .   + - +
    ;;  *   *           */*\
    ;;                      +
    ;;
    ;;                        + - +
    ;;                          *collmap:
    ;;    + - +
    ;;   / \ / \
    ;;  + -(+)- +
    ;;   \ / \ /
    ;;    + - +

collmap:
    ;;                       .                               .
    ;;
    ;;                         .                           .
    ;;
    ;;                           + - + - +   .   + - + - +
    ;;                          /       /       /         \
    ;;                         +   + - +       +           +
    ;;                        /   /     \       \           \
    ;;                       +   +   + - +       + - +   + - +                   +       + - +
    ;;                        \     /                 \ /                       / \           \
    ;;                     .   + - +                   +       .               + - +           +
    ;;                                                                                          \
    ;;                   +           +               .       + - +   .   + - + - +               +
    ;;                  / \                  S              /   / \       \       \             / \
    ;;                 +   + - +   .   + -(+)- +   .       +     - +       +       + - +   + - +   +
    ;;                /   /   /         \       \           \     / \       \     /     \   \ /
    ;;   .   .   .   +   +   +           +       +           +     - +       + - +       +   +
    ;;                \   \   \           \     /           /*    \ /                     \
    ;;                 +       +           + - +           + - +   +                       + - + - + - +
    ;;                  \     /                                 \*/                                     \
    ;;                   + - +               .                   +                                       +
    ;;
    ;;                     .       +           .       + - +   .
    ;;                            / \                 /     \
    ;;                       + - +   + - +       + - +   +   +
    ;;                        \      *\*/*\       \   \     /
    ;;                         +     - + - +       +   + - +
    ;;                          \    */*\*/       /       /
    ;;                           + - + - +   .   + - + - +
    ;;
    ;;                         .                           .
    ;;

parts:
    "c": "data/maps/test/bighex_corner.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "map3_end_blocker"

collmap:
    ;;                                 .                           .
    ;;
    ;;                                   + - + - +       .   . - .
    ;;                                  /         \         /* * *\
    ;;                                 +           +   .   .   ?   .            [c]
    ;;                                /           /         \* * */
    ;;                               +       + - +       .   . - .   .
    ;;                                \     /   /*\
    ;;                                 + - +   + - +   +       .
    ;;                                          \*/*\   \
    ;;                           .               + - +   +       + - + - +
    ;;                                          /*\*/   /*\     /         \
    ;;                         .   .   .   +   + - +   + - +   +   +       +
    ;;                                      \ /*\*/     \*/*\   \   \       \
    ;;                       .   ?   .       + - +   .   + - +   +   +       +    [c^2]
    ;;                                   D                \*/   /   /       /
    ;;     + - +               .       + - + - + -(+)- +   +   +   + - +   +
    ;;    /     \*/*                            \*/*\*/*\     /         \ /
    ;;   !       + - +           .   .           + - + - + - +           +       [s^5]
    ;;    \     /                                         \*/
    ;;     +   +                                           +   .   .
    ;;      \   \
    ;;       +   + - +   .   .   .   + - + - + - +   + - +   .       .
    ;;                                \           \
    ;;                                 +           +       .   ?   .             [c^4]
    ;;                                  \         /
    ;;                                   + - + - +       .   .   .
    ;;
    ;;                                 .       .       .           .
    ;;
    ;;                               .       .       .
    ;;
    ;;                             .       +       .
    ;;                                   */
    ;;                   .   .   .       +       +
    ;;                                   *\  D  /*
    ;;                                     + - +
    ;;                                       *

collmap:
    ;;                         .                           .
    ;;
    ;;                           + - + - +   .   + - + - +
    ;;                          /       /       /         \
    ;;                         +       +       +           +
    ;;                        /         \       \           \
    ;;                       +       + - +       + - +   + - +
    ;;                        \     /                 \ /
    ;;                     .   + - +                   +       .
    ;;
    ;;                   +                           .       + - +
    ;;                  / \                                 /     \
    ;;                 +   + - +   .   .  (+)- +   .       +       +
    ;;                /       /           /     \           \       \
    ;;       .   .   +       +           +       +           +       +   .   .
    ;;                \       \           \     /           /       /
    ;;                 +       +           + - +           + - +   +
    ;;                  \     /                                 \ /
    ;;                   + - +               .                   +
    ;;
    ;;                     .       +           .       + - +   .
    ;;                            / \                 /     \
    ;;                       + - +   + - +       + - +       +
    ;;                        \           \       \         /
    ;;                         +           +       +       +
    ;;                          \         /       /       /
    ;;                           + - + - +   .   + - + - +
    ;;
    ;;                         .                           .

collmap:
    ;;
    ;;
    ;;
    ;;                                                    + - +                                           + - +
    ;;            *                                      /     \                                         /     \
    ;;                                                  +   + - +                                   + - +       + - +
    ;;          * * *                \                   \ /                                             \           \
    ;;            + - .   .   . - +                   .   +                                               +           +
    ;;          */                 \  *\*                /
    ;;          .                   +   .           .   +                                   + - +           .
    ;;                               \  *\ /*                                              /     \
    ;;        .                       + - +       .   .                   + - +   .   + - +       +           .
    ;;                                     \*                                  \     /     \
    ;;      +                               +   .       .           +   +   +   +   +       + - +               .
    ;;       \  S                          /                       /           /     \           \
    ;;        + - +   + - +   .   .       +   .           .       +   +   + - +       + - + - + - +               .           +
    ;;               /                                             \     /   / \     /                                        *\
    ;;          + - +           .       .   .               .   .   + - +   + - +   +       +                       .           +
    ;;         /                                                                     \       \                                */
    ;;        +               +       .   .                   +               .   .   +       + - + - +               .       +
    ;;         \             /                               / \                     / \               \  D
    ;;          + - +       +       +   .   +               +   + - +   .   + - +   +   +               + - +           +   .
    ;;               \       \     /       /*\             /       /       /   /     \ /*\               \ /             \
    ;;                +       +   +       + - + - +       +       +       + - +   .   + - +               +               +
    ;;               /       / \         /  */*\*          \       \                   \*/                               /
    ;;              +           + - + - +                   +       + - + - + - + - +   +   + - + - + - +               +   .
    ;;             /           /   /  *     *\*/*            \     /         \     /*\     /*\ /     \   \
    ;;            +                         - + - +           + - +           + - + - +   + - +       + - +           .       .
    ;;                                      */                                         \
    ;;                                      +                   .                       +   +                       .           .
    ;;                                       \                                             /
    ;;                                        + - +   .   .   .   + - + - +   .   + - + - +                       .   +           .           + -
    ;;                                                             \       \           \*/*\                           \                     /* *
    ;;                                                              +       +   .       + - + - +           + - +       + -         .       + -
    ;;                                                               \       \         /*\*/*\*/             \   \     /*\* *                \
    ;;                                                                + - + - +   .   + - + - +               + - + - + - + -         .       +
    ;;                                                                                                          */*\*/*\*                    /
    ;;                                                                      .       .                               +                   + - +
    ;;                                                                                                               \*                /    * *
    ;;                                                + - +   .   .   + - +               + - +                                       + - + -
    ;;                                                 \ /           /   /                 \*/*\                                     / \  *\*
    ;;                                                  +           +   +       + - +       + - +                                   +
    ;;                                                               \   \     /     \
    ;;                                                                +   + - +       +       + - +                               .
    ;;                                                               /       /         \     /     \
    ;;                                                              +       +           + - +   + - +                           +
    ;;                                                               \     /                 \ /                               /
    ;;                                                            .   + - +                   +       .                   + - +
    ;;                                                                                                                     \*
    ;;                                                          +                           .       + - +                   +
    ;;                                                         / \                                 /     \                 /
    ;;                                                        +  (+)- +   .   .   + - +   .       +       +               +
    ;;                                                       /       /           /     \           \     /*\
    ;;                                                      +       +           +       +           +   + - +   .   .   .
    ;;                                                       \       \           \     /           /   /*\*/
    ;;                                                        +       +           + - +           + - + - +           +
    ;;                                                         \     /                                 \*/           /*
    ;;                                                          + - +               .                   +           + -
    ;;                                                                                                             /*
    ;;                                                            .       +           .       + - +   .           + -
    ;;                                                                   / \              D  /     \             /*\*
    ;;                                                              + - +   + - +       + - +       +         - +
    ;;                                                               \           \       \         /
    ;;                                                                +           +       +       +
    ;;                                                                 \         /       /       /
    ;;                                                                  + - + - +   .   + - + - +

unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/demo/pals/tunnels.fus"
default_tileset: "data/tileset1.fus"
vars:
    "map3_blocker": F
    "map3x_blocker": F
    "map3x_blocker2": F

submaps:
    :
        file: "data/maps/test/map3.fus"
        pos: (0 0)
        camera: (0 4)
        mapper: ("triple")
        doors:
            :
                map: "data/maps/demo/worldmap.fus"
                pos: (61 85)
                rot: 0
                turn: n
        submaps:
            :
                file: "data/maps/test/map3_blocker.fus"
                visible: not "map3_blocker"
            :
                file: "data/maps/test/map2.fus"
                pos: (1 10)
    :
        file: "data/maps/test/map2x.fus"
        pos: (15 12)
        camera: (1 8)
        mapper: ("double")
        submaps:
            :
                file: "data/maps/test/map3x.fus"
                pos: (1 10)
                doors:
                    :
                        map: "data/maps/test/worldmap_minimal.fus"
                        pos: (0 0)
                        rot: 0
                        turn: n
            :
                file: "data/maps/test/map3x_blocker.fus"
                visible: not "map3x_blocker2"
                pos: eval: (1 10) + (-2 4)
            :
                file: "data/maps/test/secret_path.fus"
                visible: "map3x_blocker"
                pos: (14 -4)
                camera: (0 0)
            :
                file: "data/maps/test/secret_path2.fus"
                visible: "map3x_blocker"
                pos: eval: (14 -4) + (-8 -17)
                camera: (0 0)
    :
        pos: (-1 -10)
        camera: (4 0)
        mapper: ("triple")
        recordings:
            : "data/maps/test/recs/rec010.fus"
            : "data/maps/test/recs/rec011.fus"
            : "data/maps/test/recs/rec012.fus"
            : "data/maps/test/recs/rec013.fus"
            : "data/maps/test/recs/rec014.fus"
            : "data/maps/test/recs/rec015.fus"
            : "data/maps/test/recs/rec016.fus"
            : "data/maps/test/recs/worldmap_bird_000.fus"
            : "data/maps/test/recs/worldmap_bird_001.fus"
        submaps:
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  0 + (-1 3) *  0
            :
                file: "data/maps/test/map1grid.fus"
                pos: eval: (8 2) *  0 + (-1 3) * -2
            :
                file: "data/maps/test/map1x.fus"
                pos: eval: (8 2) *  0 + (-1 3) * -4
                camera: (-1 -1)
                mapper: ("solid_curvy")
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  1 + (-1 3) *  0
            :
                file: "data/maps/test/map1.fus"
                pos: eval: (8 2) *  1 + (-1 3) * -1


collmap:
    ;;                     + - +
    ;;                    /     \
    ;;       + - +       +       +
    ;;      /     \       \     /
    ;;     +       +   .   + - +
    ;;      \     /
    ;;       + - +               .   + - +
    ;;                              /     \
    ;;         .      (+)- +       +       +
    ;;                /     \       \     /
    ;;   + - +       +   .   +       + - +
    ;;  /     \       \     /
    ;; +       +       + - +       .
    ;;  \     /
    ;;   + - +   .               + - +
    ;;                          /     \
    ;;             + - +   .   +       +
    ;;            /     \       \     /
    ;;           +       +       + - +
    ;;            \     /
    ;;             + - +

collmap:
    ;;                     + - +               + - +
    ;;                    /     \             /
    ;;       + - +       + - +   +           +
    ;;      /     \         /   /
    ;;     +   +   +   .   + - +
    ;;      \ / \ /
    ;;       +   +               .   + - +
    ;;                                \   \
    ;;         .      (+)- +       + - +   +
    ;;                /*\*/*\       \     /
    ;;   + - +       + - + - +       + - +
    ;;  /     \       \*/* */
    ;; +   + - +       + - +       .               + - +
    ;;  \   \                                     / \*/*\
    ;;   + - +   .               + - +       + - +     - +
    ;;               S          / \*/ \       \      *\*/
    ;;             + - +   .   +   +   +       + - + - +
    ;;            /   /*\       \     /
    ;;   +       +   + - +       + - +
    ;;            \     /
    ;;             + - +

unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/demo/pals/water.fus"
default_tileset: "data/tileset1.fus"
vars:
    "map3_end_blocker": F

submaps:
    :
        file: "data/maps/test/map3_end.fus"
        pos: (0 0)
        camera: (0 4)
        mapper: ("triple")
        doors:
            :
                map: "data/maps/test/worldmap.fus"
                pos: (22 25)
                rot: 0
                turn: y
            :
                anim: "anim/aimerplayer.fus"
                pos: (-10 -9)
                rot: 0
                turn: n
        recordings:
            : "data/maps/test/recs/worldmap_minimal_bird_000.fus"
            : "data/maps/test/recs/worldmap_minimal_bird_001.fus"
    :
        file: "data/maps/test/map3_end_puzzle.fus"
        text: "Press Enter to show/hide controls"
        pos: (-7 -7)
        camera: (0 0)
        mapper: ("triple")
    :
        file: "data/maps/test/map3_end_blocker.fus"
        visible: not "map3_end_blocker"
        pos: (-7 -7)
        camera: (0 0)
        mapper: ("triple")

parts:
    "c": "data/maps/test/bighex_corner.fus"
    "r": actor "actor/airoller.fus"
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "map3_blocker"

collmap:
    ;;                         .                           .
    ;;
    ;;                           + - + - +       .   . - .
    ;;                          /         \         /* * *\
    ;;                         +           +   .   .   ?   .            [c]
    ;;                        /           /         \* * */
    ;;                       +       + - +       .   . - .   .
    ;;                        \     /   /*\
    ;;                         + - +   + - +   +       .
    ;;                                  \*/*\   \
    ;;                   .               + - +   +       ! - + - +      [r]
    ;;                                    \*/   /*\     /         \
    ;;                 .   .   .   +   .   !   + - +   +   +       +      [s^2]
    ;;                              \     /     \*/*\   \   \       \
    ;;               .   ?   .       + - +   .   + - +   +   +       +    [c^2]
    ;;                           D                \*/   /   /       /
    ;;                 .       + - + - + -(+)- +   +   +   + - +   +
    ;; *\*/*                            \*/*\*/*\     /         \ /
    ;; - + - +           .   .           + - + - + - +           +
    ;; */                                         \*/
    ;; +                                           +   .   .
    ;;  \
    ;;   + - +   .   .   .   + - + - + - +   + - +   .       .
    ;;                        \           \
    ;;                         +           +       .   ?   .             [c^4]
    ;;                          \         /
    ;;                           + - + - +       .   .   .
    ;;
    ;;                         .                           .
collmap:
    ;;    + - +
    ;;     \*/*\
    ;;  .   + -(+)
parts:
    "s": recording "data/recs/switch.fus"
        vars:
            "key": "map3x_blocker2"

collmap:
    ;;  .   .   .   .   .  (.)  .   + - +   .   .   .
    ;;                             /     \
    ;;    .   .   .   .   +   .   +   .   +   .   .   .
    ;;                           /       /
    ;;  .   .   .   .   .   + - +   + - +   .   .   .
    ;;                             /
    ;;    .   .   .   .   +   +   +   .   .   +   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   +   .
    ;;
    ;;    .   .   .   .   .   .   .   + - +   .   .   .
    ;;                               /     \
    ;;  .   .   .   .   .   +   .   +   .   +   .   .
    ;;                     / \
    ;;    .   .   +   .   +   +   .   .   .   .   .   .
    ;;                   /   /
    ;;  .   .   +   .   +   +   +   .   .   .   +   .   .
    ;;                   \   \                   \
    ;;    .   .   .   .   +   +   .   .   .   .   +   .   +
    ;;                     \ /                   /
    ;;  .   .   .   .   .   !   .   .   .   .   +   .   +     [s^2]
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   +   .   .   +   +   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   + - +   .   .
    ;;                                   /
    ;;  .   .   .   .   .   .   .   + - +   .   .   .
    ;;
    ;;    .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;        *\*/*
    ;;  + - + - + -(+)
    ;;
    ;;    .   .   .
collmap:
    ;;  .   .  (+)  .   .   .   .   .   .   .   .   .
    ;;           \
    ;;    .   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   +   .   .   .   .   .   .   .   .
    ;;               \
    ;;    .   .   .   +   .   .   .   .   .   .   .   .
    ;;               /
    ;;  .   .   .   +   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   +   .   .   .   .   .   .   .   .   .
    ;;           /
    ;;  .   .   +   .   .   .   .   .   .   .   .   .
    ;;           \
    ;;    .   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   + - +   .   .   .   .   .   .   .
    ;;                   \
    ;;    .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;    .   .   .   .   .   +   .   .   .   .   .   .
    ;;                       /
    ;;  .   .   .   .   .   + - +   .   .   .   .   .
    ;;                     /
    ;;    .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;;  .   .   .   .   .   .   .   +   .   .   .   .
    ;;                               \
    ;;    .   .   .   +   .   .   .   +   .   .   .   .
    ;;               /
    ;;  .   .   .   +   .   .   + - + - +   .   .   .
    ;;             /                     \
    ;;    .   .   +   .   .   .   .   .   +   .   .   .
    ;;
anim: "anim/player.fus"
state: "crawl"
pos: ( 3 -26)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w85+r w6-r w174+l w6-l w30"
anim: "anim/bird.fus"
state: "crawl"
pos: ( 8 -25)
rot: 0
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w147-d w16+r w16-r w16+r w7-r w24+l w2-l w73+r w3-r w111+l w9-l w43+l w15-l w4+d w13"
anim: "anim/bird.fus"
state: "stand"
pos: ( 2 7)
rot: 0
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w46+r w11-r w44+l w2-l w30+l w11-l w38+r w2-r w5"
anim: "anim/player.fus"
state: "crawl"
pos: ( -3 -19)
rot: 3
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w25"
anim: "anim/player.fus"
state: "crawl"
pos: ( 1 -20)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w99+r w5-r w159+l w6-l w21"
anim: "anim/player.fus"
state: "crawl"
pos: ( -4 -14)
rot: 0
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w25"
anim: "anim/bird.fus"
state: "stand"
pos: ( 7 1)
rot: 4
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w17+l w1-l w47+l w2-l w37+r w3-r w41+r w2-r w19"
anim: "anim/bird.fus"
state: "crawl"
pos: ( 9 -5)
rot: 1
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w72-d w15+l w2-l w6+r w2-r w15+l w2-l w12+d w15+l w49-l w70-d w11+r w1-r w51+l w3-l w28+d w15+r w34-r w29"
anim: "anim/player.fus"
state: "crawl"
pos: ( 2 -12)
rot: 3
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w24"
anim: "anim/player.fus"
state: "crawl"
pos: ( 4 -14)
rot: 3
turn: no
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w44"
anim: "anim/player.fus"
state: "crawl"
pos: ( -3 -21)
rot: 4
turn: yes
keys:
    x:
    u:
    d: is was
    l:
    r:
data: " w43+r w3-r w46+l w2-l w81+r w1-r w9+l w3-l w38"
parts:
    "T": shape "txt_title_rotate"
    "t": shape "txt_secret"
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .    [T]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   ?   .   .   .   .   .   [c][c]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   ?   ?   .   .   .   .    [c][c][c]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   ?   .   .   .   .   .   .   .   .   .   .   [c]   [c]
    ;;
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   ?   ?   .   .   + - + - + - + - +   .   .   .      [c] [c]
    ;;                          /*\                                             /*\*/         \*/*\
    ;; .   .   .   .   .   .   + - +   .   .   + - + - +   .   .   ?   .   .   + - +   .   .   + - +   .   .   .      [c]
    ;;                                        / \*/*\*/ \                     /                     \
    ;;   .   .   .   .   .   + - + - +   .   +   + - +   +   .   .   .   .   +   .   .   .   +   .   +   .   .
    ;;                      /*\*/     \     /             \                 /                 \  D  /
    ;; .   .   .   .   .   + - +   .   + - +   .   ?   .   + - +   .   + - +   .   .   .   .   + - +   .   .   .  [c]
    ;;                                                      \*/*\     /*\*/
    ;;   .   .   .   .   .   .   .   .   ?   ?   ?   ?   .   + -(+)- + - +   .   .   .   .   .   .   .   .   .  [c][c][c][c]
    ;;
    ;; .   .   .   .   + - +   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;                /*\*/*\
    ;;   .   .   ?   + - + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c]   [c]
    ;;                \*/*\*/
    ;; .   .   .   ?   + - +   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [c]   [c]
    ;;
    ;;   .   .   .   ?   ?   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [c][c][c]
    ;;
parts:
    "T": shape "txt_title"
    "X": shape "txt_new_game"
    "Y": shape "txt_continue"
    "Z": shape "txt_players"

    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .      [T]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                           D                                                               D
    ;; .   .   .   .   ! - + - + - + - + - +   .   .   + - + -(+)- + - +   .   .   .   ! - + - + - + - + - + - +   .   .   .   [X] [Y]
    ;;                /                     \           \             /               /                         \
    ;;   .   .   .   +   .   .   .   .   .   +   .   .   + - + - + - +   .   .   .   +   .   .   .   .   .   .   +   .   .
    ;;                \                       \                                     /                           /
    ;; .   .   .   .   + - + - +   + - + - + - +   .   .   .   .   .   .   .   .   + - + - +   + - + - + - + - +   .   .   .
    ;;                          \ /                                                         \ /
    ;;   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                            / \      D       D          / \
    ;;   .   .   .   .   .   .   .   + - ! - + - +   + - + - + - + - + - + - +   + - + - +   .   .   .   .   .   .   + - +    [Z]
    ;;                                \                                                 /                           /   /
    ;; .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   + - +   .
    ;;                                  \                                             /
    ;;   .   .   .   .   .   .   .   .   + - + - + - + - + - + - + - + - + - + - + - +   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;       D      /
    ;; .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    /
    ;;   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    \
    ;; .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: "data/maps/title/title.fus"
#spawn: "data/maps/demo/bubblecar_test.fus"
default_palette: "data/pal1.fus"
default_tileset: "data/tileset1.fus"

submaps:
    :
        pos: (0 0)
        camera: (2 0)
        mapper: ("triple")
        submaps:
            :
                file: "data/maps/title/title.fus"
                text: "Press Enter to show/hide controls"
                doors:
                    :
                        new_game "data/maps/demo/worldmap.fus"
                    :
                        continue
                    :
                        players 1
                    :
                        players 2
                    :
                        map: "data/maps/wilderness/worldmap.fus"
                        pos: (0 0)
                        rot: 0
                        turn: n
            :
                file: "data/maps/title/secret.fus"
                pos: (20 -14)
                camera: follow
                mapper: ("solid_curvy")
                doors:
                    :
                        pos: (-19 -12)
                        rot: 0
                        turn: n
            :
                file: "data/maps/demo/bubblecar_test.fus"
                pos: (50 50)
                camera: (0 0)
parts:
    "t": "data/maps/trees/trunkr2.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk.fus"
    "T": "data/maps/trees/trunkL.fus"
    "r": "data/maps/trees/trunk2.fus"
    "R": "data/maps/trees/trunk2L.fus"
collmap:
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                            /*\
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .
    ;;                                                                                            \*/*\*/*\*/
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;                      /* * * * * * * */
    ;;     .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              \* * */
    ;;   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "t": "data/maps/trees/trunk2_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk.fus"
    "T": "data/maps/trees/trunkL.fus"
    "r": "data/maps/trees/trunk2.fus"
    "R": "data/maps/trees/trunk2L.fus"
collmap:
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;                                                                                                    /* * *\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   +   .
    ;;                                                                                              /*\ /* * * */
    ;;     .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - .    [R]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [R] [T]
    ;;                                                                      \* * * * * * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   +   .   .   .   .   .   .   .
    ;;                                                                              /* */
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .
    ;;                                                                              \*/
    ;;   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   . [r]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [r]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [r]

collmap:
    ;;
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;              .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 /
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 \
    ;;              .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                 /*\
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   + - +   .   .   .   .   .   .   .   .   .
    ;;                                                                 \*/         \*/
    ;;              .   .   .   .   .   .   .   .   .   .   .   +   .   + - +   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                         /*\       \* *\     /* */
    ;;        + - +   .   .   .   .   .   .   .   .   .   .   +   + - +   + - +   +   + - +   .   .   .   .   .   .   .   .
    ;;       /*\*                                              \* * * *\         /* */
    ;;      + -     .   .   .   .   .   .   .   .   .   .   .   +   .   + - + - +   +   .   .   .   .   .   .   .   .   .
    ;;       \*/*                                              /* * * * * * * * * */
    ;;  - .   + - .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;  * *\   \*/*\*/*                                      /* * * * * * * */
    ;;      .   + - + - +   .   .   .   .   .   .   .   .   + - + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;    */
    ;;            .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;              .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               \ /
    ;;            .   .   .   + - +   .   .   +   + - . - +   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                       /*\*              \ /   / \   \ /         \ /
    ;;              .   .   +   .   .   .   + - . - +   + - . - +   + - . - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                         / \   \ /   / \   \ /   / \
    ;;            .   .   .   .   .   .   .   +   + - . - +   + - . - +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                               / \         / \
    ;;              .   +   .   .   .   .   .   .   +   +   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 /*
    ;;            .   + - .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                 \*
    ;;              .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   +   .   .   .   +   .   .   .
    ;;                      /* * * * * * * */
    ;; .   .   .   .   .   +   .   .   .   +   .   .   .   .
    ;;                    /* * * * * * * */
    ;;   .   .   .   .   +   .   .   .   +   .   .   .   .
    ;;                  /* * * * * * * */
    ;; .   .   .   .  (+)  .   .   .   +   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   +   .   .   .   .   .   +   .   .   .
    ;;                      /* * * * * * * * * * * */
    ;; .   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .
    ;;                    /* * * * * * * * * * * */
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .
    ;;                  /* * * * * * * * * * * */
    ;; .   .   .   .  (+)  .   .   .   .   .   +   .   .   .   .   .
    ;;
collmap:
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   . - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                   * *\
    ;;   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                        \   \  *\  * */
    ;; .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                        /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   . - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                    /
    ;;   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /
    ;; .   .  (.)- + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
parts:
    "r": recording "data/maps/wilderness/recs/roller000.fus"

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                     * * *               w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                     * * *               w w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                                         w w w w w w
    ;;   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                           w w w w w w w w w w w w                                        / \w w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   +   .   + - +   +   .   .   .   .
    ;;                                       w w w w w w w w w w w w w w w w w            /     \ / \       \     /w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - +   + - + - +   +   .   +   +   .   .   .   .
    ;;                                       w w w w w w w w w w w w w\               \           \ /        w\ /w w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - + - + - +   +   .   .   +   .   .   .   .   .
    ;;                             * * *         w w w                   w w w w w w w w\       \            w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   .
    ;;                             * * *                               w w w w w w w w w w w w\ /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;                                             * * *      /        w w w w w w w w w w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                             * * *      \          w w w w w w w w w w w w w            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .
    ;;                                                          \                                                           \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .
    ;;                                                           * * *\                                                       \      D
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   + - + - + - +   + - + - +
    ;;                                                           * * *                                              \       \           \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   + - +
    ;;                                                                                                              /         \         /     \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   + - +   .   .   .   .   .   +   .   .   + - +   +   .   +
    ;;                                                                          \     /     \                       \         /   /   /       /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - !   .   + - + - + - +   .   + - +   +   +   +   [r^3]
    ;;                                                                \ /       /                 \     /                         \     /   /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - +   +   +   .   .   .   .   +   +   .   + - + - +   .   .   + - +   +
    ;;                                                                / \ /     \                   \ /       /         \                 /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   +   .   .   + - +   .   .   +
    ;;                                                                   *\                                 /                 \  D      /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   ! - +   .   + - +   .   .   .   .   + - + - +          [r]
    ;;                                                                   * *\             /     \     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ! - + - + - +   .   + - +   .   .   .   .   .   .   .           [r]
    ;;                                                                     * * *
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   + - + - + - + - +   .   .   .
    ;;                      /*\*/*\*/*\*/*\*
    ;; .   .   .   .   .   + - + - + - + - +   .   .   .   .
    ;;                    /*\*/*\*/*\*/*\*
    ;;   .   .   .   .   + - + - + - + - +   .   .   .   .
    ;;                  /*\*/*\*/*\*/*\*
    ;; .   .   .   .  (+)- + - + - + - +   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   +   .   .   .   +   .   .   .   .   .
    ;;                \* * * * * * * *\
    ;; .   .   .   .   +   .   .   .   +   .   .   .   .   .
    ;;                  \* * * * * * * *\
    ;;   .   .   .   .   +   .   .   .   +   .   .   .   .
    ;;                    \* * * * * * * *\
    ;; .   .   .   .   .  (+)  .   .   .   +   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .
    ;;                \* * * * * * * * * * * *\
    ;; .   .   .   .   +   .   .   .   .   .   +   .   .   .   .   .
    ;;                  \* * * * * * * * * * * *\
    ;;   .   .   .   .   +   .   .   .   .   .   +   .   .   .   .
    ;;                    \* * * * * * * * * * * *\
    ;; .   .   .   .   .  (+)  .   .   .   .   .   +   .   .   .   .
    ;;
parts:
    "t": "data/maps/trees/trunkr.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .  (?)  .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk_bark.fus"
    "T": "data/maps/trees/trunkL_bark.fus"
    "r": "data/maps/trees/trunk2_bark.fus"
    "R": "data/maps/trees/trunk2L_bark.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                                     *\*/*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - + - .   .
    ;;                                                                                               *\ /*\*/*\*
    ;;     .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .    [R]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [R] [T]
    ;;                                                                       */*\*/*\*/*\*
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .
    ;;                                                                               *\*
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . - .   .   .   .   .   .   .   .
    ;;                                                                               *
    ;;   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [r]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   [r]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .     [r]

collmap:
    ;;
    ;;          .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                              *\*/*
    ;;        .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   + - + - + - .   .   .   .
    ;;        * * * * *                          /* */                               /*\*
    ;;          + - +   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   + - .   .   .   .
    ;;        */* * *\*                    /   /                                   /*\*
    ;;    . - + - +   +   .   .   .   .   +   +   .   .   + - + - + - +   .   + - +   .   .   .   .   .
    ;;      *   */*\*/*                  /   /           /* * * * * */
    ;;          +   +   .   .   .   .   +   +   + - + - +   + - + - +   .   .   .   .   .   .   .   .
    ;;        */*   *\*                /   /   /* * * * * */
    ;;        .   .   .   .   .   .   +   +   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                               /   /
    ;;      .   .   .   .   .   .   +   +   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .
    ;;                             /   /           /* */
    ;;    .   .   .   .   .   .   + - +   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                    S      /* */
    ;;      .   .   .   .   .   .   + - + - +   +   +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                             /* * * */   /* */
    ;;    .   .   .   .   .   .   + - + - +   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                       /* */
    ;;          .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .

unit: 3 2 0 -1
spawn: (-1 0)
default_palette: "data/maps/trees/pals/realistic.fus"
default_tileset: "data/maps/trees/tilesets/trees.fus"

submaps:
    :
        pos: (0 0)
        camera: (12 0)
        mapper: ("triple")
        submaps:
            #:
            #    bg
            #    file: "data/maps/trees/start_bg_bark.fus"
            #    tileset: "data/maps/trees/tilesets/bark.fus"
            :
                bg
                file: "data/maps/trees/start_bg.fus"
                tileset: "data/maps/trees/tilesets/trees_dark.fus"
            :
                file: "data/maps/trees/start.fus"
                doors:
                    :
                        map: "data/maps/spidertown/worldmap.fus"
                        pos: (15 16)
                        rot: 0
                        turn: n
    :
        pos: (32 10)
        camera: (0 0)
        mapper: ("triple")
        submaps:
            :
                bg
                file: "data/maps/trees/start2_bg.fus"
                tileset: "data/maps/trees/tilesets/trees_dark.fus"
            :
                file: "data/maps/trees/start2.fus"
            :
                file: "data/maps/trees/start3.fus"
                pos: (5 5)
                camera: (6 6)
            :
                file: "data/maps/trees/start4.fus"
                pos: eval: (5 5) + (12 5)
                camera: (9 6)
            :
                file: "data/maps/trees/start5.fus"
                pos: eval: (5 5) + (11 14)
                camera: (6 6)
            :
                file: "data/maps/trees/start6.fus"
                pos: eval: (5 5) + (11 14) + (10 16)
                camera: (11 6)
                submaps:
                    :
                        file: "data/maps/trees/start6-0.fus"
                        pos: eval: (31 19)
                        camera: (0 0)
            :
                bg
                file: "data/maps/trees/start7_bg.fus"
                pos: eval: (5 5) + (12 5) + (22 3)
                tileset: "data/maps/trees/tilesets/trees_dark.fus"
            :
                file: "data/maps/trees/start7.fus"
                pos: eval: (5 5) + (12 5) + (22 3)
                camera: (6 6)
            :
                pos: eval: (5 5) + (12 5) + (22 3) + (23 8)
                submaps:
                    :
                        file: "data/maps/trees/bubbles.fus"
                        pos: (0 0)
                        camera: (10 0)
                    :
                        file: "data/maps/trees/bubbles2.fus"
                        pos: eval: (25 7)
                        camera: (10 0)
                    :
                        file: "data/maps/trees/bubbles3.fus"
                        pos: eval: (25 7) + (19 0)
                        camera: (8 0)
                    :
                        file: "data/maps/trees/bubbles3-0.fus"
                        pos: eval: (25 7) + (19 0) + (25 12)
                        camera: (10 -10)
                        doors:
                            :
                                anim: "anim/rollerplayer.fus"
                                pos: (181 43)
                                rot: 0
                                turn: y
                            :
                                anim: "anim/spikeyplayer.fus"
                                pos: (179 36)
                                rot: 0
                                turn: y
                    :
                        file: "data/maps/trees/bubbles3-1.fus"
                        pos: eval: (25 7) + (19 0) + (4 -9)
                        camera: (0 0)

parts:
    "t": "data/maps/trees/trunk.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
parts:
    "t": "data/maps/trees/trunk2.fus"
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   [t]
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;(?)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [t]
    ;;

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /w w w w w\
    ;;   .   .   .   .   +   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                  /                            w\w w w w w w\
    ;; .   .   .   .   +   .   .   .   .   .   .   .   +   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                /                              w w w w w w w/
    ;;   .   .   .   +   .   .   + - +   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;              /           /* */              w w w w w w w/
    ;; .   .   .   + - +   + - + - +   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;            /* */   /* */                    w w w w/
    ;;   .   + - +   +   + - +   + - +   .   .   .   .   +   .   + - + - + - +   .   .   .   .   .   .   .   .
    ;;            \*/           /* */                w w w\     /w w w w w w w\
    ;; .   .   .   +   + - + - +   +   .   .   .   .   .   + - +   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                /* * * * * */                w w w w w w w w w w w w w w w\
    ;;   .   .   .   + - +   + - +   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .
    ;;              /   /* */                    w w w w w w w w w w w w w w/
    ;; .   .   .   +   + - +   .   .   .   .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .
    ;;            /                            w w w w w w/         \w w w w\
    ;;   .   .   +   .   .   .   .   .   .   .   .   .   +   .   .   +   .   + - + - +   .   .   .   .   .   .
    ;;          /                            w w w w w w w\         /w w w w w w w w w\
    ;; .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   +   .   .   .   .   .   .
    ;;                                     w w w w w w w w/       /w w w w w w w w w w w\
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   +   .   .   .   .   .
    ;;                                   w w w w w w w w w w w w w w w w w w w w w w w w w\
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;             S                   w w w w w w w w w w w w w w w w w w w w w w w w w w/
    ;;   .   .  (+)- + - +   .   .   .   +   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .
    ;;          /       /              w/w w w w w w w w w w w w w w w w w w w w/
    ;; .   .   + - + - + - +   .   .   +   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .
    ;;                /   /             \w w w w w w w w w w w w w w w w w w w w\
    ;;   .   .   .   + - +   .   .   .   +   .   .   .   + - + - +   .   .   .   +   .   .   .   .   .   .   .
    ;;                                    \w w w w w w w/         \w w w w w w w/
    ;; .   .   .   .   .   .   .   .   .   + - + - + - +   .   .   +   .   .   +   .   .   .   .   .   .   .   .
    ;;                                                              \w w w w w/
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .
parts:
    "t": "data/maps/trees/trunk.fus"
    "T": "data/maps/trees/trunkL.fus"
    "r": "data/maps/trees/trunk2.fus"
    "R": "data/maps/trees/trunk2L.fus"
collmap:
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .
    ;;                                                                                            /*\
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - +   .   .
    ;;                                                                                            \*/*\*/*\*/
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   [t]
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   . [t]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   ?   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   ?   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . [T]
    ;;                      /* * * * * * * */
    ;;     .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              \* * */
    ;;   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .  (+)  .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                            \           \   \
    ;; .   .   .   .   .   .   .   + - +   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                              \   \           \
    ;;   .   .   .   .   .   .   .   + - + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                      \   \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                            \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;     .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /       /
    ;;   .   + - +   .   .   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;      /   /                               /* */
    ;;     + - + - +   .   .   .   .   .   + - +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;        /   /                       /* * * */
    ;;   .   + - + - +   .   .   .   + - +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /   /               /* * * * * */
    ;;     .   + - + - +   .   .   + - + - + - + - + - +   .   .   .   .   .   .   .   .   .   + - +   +   + - +   .   .   .
    ;;            /   /                       /       /                                       /   /   /   /   /
    ;;   .   .   + - +   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   .   +   + - + - +   +   .   .   .
    ;;                                                                          /* */       /               /
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   + - + - +   + - +   .   .   .
    ;;                                                                        /* */               /   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   +   .   .   .   + - +   .   .   .   .
    ;;       S                                              /* * * */       /* */
    ;;     + - +   .   + - +   .   .   + - +   .   .   + - +   .   +   .   + - +   .   .   .   .   .   .   .   .   .
    ;;    /   /       /* */           /   /           /* * * * * */
    ;;   + - +   + -(+)  +   .   .   + - +   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;          /* * * */
    ;;     .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   + - +   .   .   .   + - +
    ;;                                                      /* * * */                           /   /   /   /               /   /
    ;;     .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   + - +   + - +   .   + - +   + - +   .   .   .   +   +
    ;;                                                                    /   /   /   /                                   /   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - + - + - + - + - +   + - +   .   .   .   + - +   + - +
    ;;                                                  /* * * * * * * */   /   /   /   /   /   /               /   /   /
    ;;     .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - +   + - + - + - +   + - +   .   .   .   + - +   +
    ;;                                                                        /   /                                   /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   +
    ;;                                                                                                              /
    ;;     .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +
    ;;         D      /                                                                                       /   /
    ;;   .   + - + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;      /* * * */
    ;;     + - + - +
parts:
    "r": recording "data/maps/trees/recs/big_roller_r.fus"
    "R": recording "data/maps/trees/recs/big_roller_rd.fus"

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                                          /       / \       \       \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   +   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;                                                        /       /     \       \       \
    ;;   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   .   +   .   +   .   +   +   +   .   .   .   .   .   .   .
    ;;                                              /                                 \       \       \
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   +   +   .   +   .   .   .   .   .   .   .
    ;;                                            /                                     \       \       \
    ;;   .   .   .   .   .   .   .   .   ! - + - +   .   .   .   .   .   .   .   .   .   +   .   +   .   + - + - +   .   .   .   .   .  [R]
    ;;
    ;; .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .
    ;;             S
    ;;   .   .  (+)- +   .   .   .   + - + - + - + - +   .   .   .   .   .   .   .   .   .   + - + - +   .   +   .   .   .   .   .   .
    ;;          /     \                               \                                       \       \       \
    ;; .   .   +   .   +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   +   +   .   +   +   +   .   .   .   .   .   .
    ;;          \     /                                 \                                       \       \       \
    ;;   .   .   + - +   .   .   .   .   .   + - +   .   +   .   .   .   .   .   .   .   + - +   +   .   +   .   +   .   .   .   .   .   .
    ;;                                            \       \                             / \   \   \
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   +   +   +   +   .   .   .   .   .   .   .   .   .
    ;;                                                      \                         /     \ /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - + - + - +   .   +   .   +   .   +   .   .   .   .   .   .   .
    ;;                                                                                        \       \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   +   +   +   .   .   .   .   .   .
    ;;                                                                        /     \           \       \
    ;;   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   +   +   .   +   +   .   +   .   +   .   .   .   .   .
    ;;                                                                        \     /
    ;; .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                 w w w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                 w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                                   w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                 w w w              /     \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .
    ;;                   S                           w w w w w            \     /
    ;; .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                /     \                        w w w w w
    ;;   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                \     /
    ;; .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      /     \
    ;; .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                      \     /                            w w w w w
    ;;   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                         w w w w w
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                                           w w w
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;; .   .   .   .   + - + - +   .   + - + - +   .   .   .   .   .   + - + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;                /         \     /       /* * *                  /             \
    ;;   .   .   .   +   .   .   + - +   .   + - + - +   .   .   .   +   + - + - +   +   .   + - +   .   .   .   .   .   .   + - +
    ;;                \                               \* * * * * * */   /* * * * *\   \     /     \                         /     \
    ;; .   .   .   .   +   .   .   .   .   + - + - +   + - + - + - +   +   .   .   +   + - +   .   + - + - +   .   .   .   +   .   +
    ;;                  \                 /*       *\                 /*            \                       \
    ;;   .   .   .   .   + - +   .   +   +   .   .   + - + - +   .   +   .   .   .   + - +   .   .   .   .   +   .   .   .
    ;;                        \         /* *       * * *   * *\     /* *                /                     \
    ;; .   .   .   .   .   .   +   .   +   .   .   .   .   .   + - +   .   .   .   .   +   .   .   .   .   .   +   .   .
    ;;                                                       * * * * *                  \                     /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   +   .   .
    ;;                                                                                    \      S          /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   +
    ;;                                                                                        /               /
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   +
    ;;                                                                                      /               /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   +   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   .   + - + - +
    ;;                                                                                                                  \
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .  (.)  .   .   .   .   .   .   .   .   .   +   .   +   +   .   .
    ;;                                                                                      \      * */
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                                                                  /
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                                                    \   \
    ;; .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;; .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;   .   .   .   .   .   .   .   .   .   .   +   .   .   +   +   .   .   .   .   .   .   .   .   .   .   .
parts:
    "c": recording "data/recs/coin.fus"
    "C": recording "data/recs/coin_crouch.fus"

collmap:
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .
    ;;                                                                                /* * *\
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   +   .   .   .   .   .   .   .
    ;;                                                                                \* * */
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .
    ;;
    ;;       + - +   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - .   . - + - +
    ;;        \*/                               /*\                                                             /               /
    ;;     +   +   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +
    ;;    /*\                                                                                                                 /
    ;;   + - +   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;    \*/                                         \*/                                                                   /
    ;;     +   +   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   + - + - +   .   .   . - +
    ;;        /*\                                                                                   \*/ \*/
    ;;       + - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .
    ;;                                                                                                /*\
    ;;       .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                      /*\
    ;;         .   .   .   .   .   .   .   + - +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                          \*/                                         \
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;;                                                                                                        \
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .
    ;;                                                                                                        /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .
    ;;                                                                                                      /
    ;;         .   .   .   .   .   .   .   .   .   .   +   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .
    ;;                                                /*\             /*\
    ;;       .   .   .   .   + - +   .   .   .   .   + - +   .   .   + - + - +   .   .   .   .   .   .   .   .   .   .
    ;;                        \*/                                         \*/
    ;;         .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .
    ;;                                     S                                      /*\
    ;;       .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   .   .   .
    ;;                                    \*/
    ;;         .   .   .   .   .   .   .   +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .

collmap:
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +
    ;;                                                                  /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   + - +
    ;;                                                                /       /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - + - +
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                                      /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .
    ;;                                         S
    ;;       .   .   .   .   .   .   .   + - + - +   .   .   + - +   .   .   .   .   + - +
    ;;                                  /       /           /   /                   /   /
    ;;         .   .   .   .   .   .   +   .   +   .   .   + - +   .   .   .   .   +   +
    ;;                                /       /                                   /   /
    ;;       .   .   .   .   .   .   + - + - +   .   .   .   .   .   .   + - +   +   +   + - +
    ;;                                                                  /   /   /   /   /   /
    ;;         .   .   .   .   .   .   .   .   .   .   + - + - +   .   +   +   +   +   + - +
    ;;                                                /       /       /   /   /   /
    ;;       .   .   .   .   .   + - + - +   .   .   +   .   +   .   +   +   +   +
    ;;                          /       /           /       /       /   /   /   /
    ;;         .   .   .   .  (+)- + - +   .   .   + - + - +   .   + - +   +   +
    ;;                                                                    /   /
    ;;       .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   +   +   .
    ;;                                                                  /   /
    ;;         .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .
    ;;

collmap:
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;                                                                     /* */
    ;;        .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .
    ;;
    ;;      .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;
    ;;        .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   + - +   .   .
    ;;                                                   /* */           /* */
    ;;      .   .   .   .   .   .   .   .   .   .   .   + - +   .   + - +   +   .   .
    ;;                                                     /       /* * * */
    ;;        .   .   .   .   .   .   .   .   .   .   + - +   .   + - + - +   .   .   .
    ;;                                               /* */
    ;;      .   .   .   .   .   + - +   .   .   .   + - +   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                      *\*/
    ;;        .   .   .   . - +   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;                    *\*/
    ;;      .   .   .   . - + - + - +   .   .   + - + - +   + - +   .   .   .   .   .   .   .   .   .   .   .
    ;;                    */*\*                /* * * */   /* */
    ;;        .   .   .   .   .   .   .   .   + - + - +   + - +   .   .   .   .   .   .   + - .   .   .   .
    ;;                                                                                *\*/
    ;;      .   .   .   .   .   .   .   .   .   .   .   + - +   .   .   .   .   .   . - +   .   .   .   .   .
    ;;                                                 /* */                        *\*/
    ;;        .   .   .   .   .   .   .   .   .   .   +   +   .   .   .   .   .   . - +   .   .   .   .   .
    ;;                                               /* */                          */*\         /
    ;;      .   .   .   .   .   .   .   .   .   .  (+)- +   .   .   .   .   .   .   . - + - + - +   .   .   .
    ;;                                                                                */*\*/*\*
    ;;        .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
    ;;

collmap:
    ;;
    ;;   .   .   .   .   .   + - + - + - + - + - + - +   .   .   .
    ;;                      /*\*/*\*/*\*/*\*/*\*/*\*
    ;; .   .   .   .   .   + - + - + - + - + - + - +   .   .   .   .
    ;;                    /*\*/*\*/*\*/*\*/*\*/*\*
    ;;   .   .   .   .   + - + - + - + - + - + - +   .   .   .   .
    ;;                  /*\*/*\*/*\*/*\*/*\*/*\*
    ;; .   .   .   .  (+)- + - + - + - + - + - +   .   .   .   .   .
    ;;
anim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r: is was
nodataanim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l: is was
    r:
nodataanim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d: is was
    l:
    r: is was
nodata
colors:

    : animate: ((  15  30   0) 100) ((  0   0   0) 100)
    : animate: ((  30  40  50) 100) ((  0   0 127) 100)
    : animate: ((  40  70  30) 100) ((  0 127   0) 100)
    : animate: ((  30  60  60) 100) ((  0 127 127) 100)
    : animate:
        : ( 60  50  15)  50
        : ( 40  40   0)  50
        : (127   0   0) 100
    : animate: ((  50  40  20) 100) ((127   0 127) 100)
    : animate: ((  50  80  30) 100) ((127 127   0) 100)
    : animate: ((  70  80  70) 100) ((127 127 127) 100)

    : animate: ((  30  60   0) 100) (( 60  60  60) 100)
    : animate: ((  60  80 100) 100) (( 60  60 255) 100)
    : animate: ((  80 140 120) 100) (( 60 255  60) 100)
    : animate: ((  60 120 100) 100) (( 60 255 255) 100)
    : animate:
        : (120 100  30)  50
        : ( 80  80   0)  50
        : (255 120  60)  50
        : (255  60  60)  50
    : animate: (( 100  80  40) 100) ((255  60 255) 100)
    : animate: (( 100 160  60) 100) ((255 255  60) 100)
    : animate: (( 140 160 140) 100) ((255 255 255) 100)

    255:
      animate: ((  15  25   5) 100) ((  0   0   0) 100)

shapes:

    ##############
    # BARK FLAKE #
    ##############

    "bark_flake_center_c1":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 6
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 6

    "bark_flake_center_c2":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 5
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 5

    "bark_flake_center_c3":
        prismels:
            : "tri" (0 0 0 0)  0 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  2 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  4 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  6 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0)  8 f eval: 1 + 0 + 4
            : "tri" (0 0 0 0) 10 f eval: 1 + 0 + 4

    "bark_flake_perimeter_c1":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 2
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 6
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 2
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 6
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 2

    "bark_flake_perimeter_c2":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 3
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 5
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 3
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 5
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 3

    "bark_flake_perimeter_c3":
        prismels:
            : "sq"  (-1  0  1  0)  0 f eval: 1 + 8 + 1
            : "tri" ( 0  0  1  0)  1 f eval: 1 + 8 + 4
            : "sq"  ( 1  0  0  0)  1 f eval: 1 + 8 + 1
            : "tri" ( 1  0  0  0) 11 f eval: 1 + 8 + 4
            : "sq"  ( 1  0 -1  0) 11 f eval: 1 + 8 + 1


    ##########################
    # BARK_SIMPLE VERT, FACE #
    ##########################

    "bark_simple_vert_r0":
        shapes:
            : "bark_flake_center_c1" ( 0  0  0  0)  0 f
            : "bark_flake_perimeter_c1" ( 0  0  0  0)  0 f

    "bark_simple_face_r0":
        shapes:
            : "bark_flake_center_c1" ( 1  1  1  0)  0 f
            : "bark_flake_perimeter_c1" ( 1  1  1  0)  0 f

    "bark_simple_face_r1":
        shapes:
            : "bark_flake_center_c1" (-1  0  2  1)  0 f
            : "bark_flake_perimeter_c1" (-1  0  2  1)  0 f


    #########################
    # BARK VERT, EDGE, FACE #
    #########################

    "bark_vert_r0":
        shapes:
            : "bark_flake_center_c1" ( 0  0  0  0)  0 f

    "bark_edge_r0":
        shapes:
            : "bark_flake_perimeter_c1" ( 0  0  0  0)  0 f

    "bark_edge_r1":
        shapes:
            : "bark_flake_perimeter_c2" ( 1  1  1  0)  0 f

    "bark_edge_r2":
        shapes:
            : "bark_flake_perimeter_c3" (-1  0  2  1)  0 f

    "bark_face_r0":
        shapes:
            : "bark_flake_center_c2" ( 1  1  1  0)  0 f

    "bark_face_r1":
        shapes:
            : "bark_flake_center_c3" (-1  0  2  1)  0 f


verts:
    "0":
        "bark_simple_vert_r0"
edges:
    "0": "empty"
faces:
    "0":
        "bark_simple_face_r0"
        "bark_simple_face_r1"
    "S": "map_savepoint"

verts:
    "0": "map_vert0"
    "1": "map_vert1"
edges:
    "0": "map_edge0"
    "1": "map_edge1"
    "2": "map_edge2"
faces:
    "0": "map_face0"
    "1": "map_face1"
    "2": "map_face2"
    "S": "map_savepoint"
    "D": "map_door"
    "w": frame_offset(1) "map_water"

verts:
    "0":
        "bark_vert_r0"
edges:
    "0":
        "bark_edge_r0"
        "bark_edge_r1"
        "bark_edge_r2"
faces:
    "0":
        "bark_face_r0"
        "bark_face_r1"
    "S": "map_savepoint"

verts:
    "0": "map_vert0_dark"
edges:
    "0": "map_edge0_dark"
faces:
    "0": "map_face0_dark"

unit: 3 2 0 -1
spawn: (0 0)
default_palette: "data/maps/trees/pals/realistic.fus"
default_tileset: "data/maps/trees/tilesets/trees.fus"

submaps:
    :
        bg
        file: "data/maps/trees/start_bg.fus"
        pos: (-21 -21)
        tileset: "data/maps/trees/tilesets/trees_dark.fus"
    :
        bg
        file: "data/maps/trees/start_bg.fus"
        pos: (0 0)
        tileset: "data/maps/trees/tilesets/trees_dark.fus"
    :
        bg
        file: "data/maps/trees/start_bg.fus"
        pos: ( 21  21)
        tileset: "data/maps/trees/tilesets/trees_dark.fus"
    :
        file: "data/maps/test/map3xx.fus"
        pos: (0 0)
        camera: (0 4)
        mapper: ("double")
        doors:
            :
                map: "data/maps/trees/worldmap.fus"
                pos: (1 1)
                rot: 0
                turn: n
            :
                map: "data/maps/demo/worldmap.fus"
                pos: (40 60)
                rot: 0
                turn: n

create_body:
    if() then:
        play: "actor/rec/aibird.fus"
        goto: mainloop

import "actor/_aibird.fus"

mainloop:
    # Main AI loop

    if() then:
        key: up b
        continue


    if:
        key: isdown u
        coll: all yes
            ;; (+)- +
    then:
        # We're still on the ground, wait for our jump to start...


    if:
        coll: any no
            ;; (+)- +
    then:
        # If we're jumping, then do nothing...
        key: up u


    # Sometimes, jump!
    if:
        chance: 20%
        any:
            all:
                coll: all yes
                    ;; ( )  .   .   + - +
                coll: any no
                    ;; ( )  . - + - .   .
                coll: all no
                    ;;       \*/*\*/*\*/*
                    ;;        + - + - + -
                    ;;       /*\*/*\*/*\*
                    ;; ( )  .   .   .   .
            all:
                coll: all yes
                    ;;                +
                    ;;               /
                    ;; ( )  .   .   +
                coll: any no
                    ;; ( )  . - + - .
                coll: all no
                    ;;       \*/*\*/*
                    ;;        + - + -
                    ;;       /*\*/*\*
                    ;; ( )  .   .   .
            all:
                coll: all yes
                    ;; ( )  .   .   .   + - +
                coll: any no
                    ;; ( )  . - + - + - .   .
                coll: all no
                    ;;       \*/*\*/*\*/*\*/*
                    ;;        + - + - + - + -
                    ;;       /*\*/*\*/*\*/*\*
                    ;; ( )  .   .   .   .   .
            all:
                coll: all yes
                    ;;                    +
                    ;;                   /
                    ;; ( )  .   .   .   +
                coll: any no
                    ;; ( )  . - + - + - .
                coll: all no
                    ;;       \*/*\*/*\*/*
                    ;;        + - + - + -
                    ;;       /*\*/*\*/*\*
                    ;; ( )  .   .   .   .
    then:
        key: up f
        key: down u


    # Sometimes, crawl!
    if:
        chance: 25%
        any:
            all:
                coll: any yes
                    # Only crawl somewhere we couldn't just walk
                    ;;       \*/*
                    ;;        + -
                    ;;
                    ;; ( )  .
                coll: all yes
                    ;; ( )  + - +
                coll: all no
                    ;;     \*/*
                    ;; (.)  .
            all:
                coll: any yes
                    # Only crawl somewhere we couldn't just walk
                    ;;       \*/*
                    ;;        + -
                    ;;         \*/*
                    ;; ( )  .   + -
                    ;;           \*
                coll: all yes
                    ;; ( )  +
                    ;;       \
                    ;;        +
                coll: all no
                    ;;     \*/*
                    ;; (.)  . -
                    ;;        *
    then:
        key: up f
        key: down d
        zero: crawl_time
        goto: mainloop_crawl


    if:
        # Small chance to spontaneously turn around...
        # Can help get un-stuck from certain situations
        # NOTE: multiple "chance" conditions can be used to achieve sub-1% chance...
        chance: 1%
        chance: 20%
    then:
        key: up f
        key: down b
        delay: 4


    # Always walk straight ahead if we can
    if: any:
        all:
            coll: all yes
                ;; ( )  + - +
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*
                ;; ( )
        all:
            coll: all yes
                ;;            +
                ;;           /
                ;; ( )  .   +
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*
                ;; ( )
        all:
            coll: all yes
                ;;        +
                ;;       /
                ;; ( )  +
        all:
            coll: all yes
                ;;      +
                ;;       \
                ;;        +
                ;;
                ;; ( )  +
        all:
            coll: all yes
                ;;  + - +
                ;;
                ;;        +
                ;;
                ;; ( )  +
        all:
            coll: all yes
                ;;          +
                ;;         /
                ;;        +
                ;;
                ;; ( )  +
            coll: all no
                ;;
                ;;    *\*/*
                ;;    - + - .
                ;;       \*
                ;;        .
                ;;
                ;; ( )  .
        all:
            coll: all yes
                ;; ( )  +
                ;;       \
                ;;        +
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*/*
                ;; ( )    - + -
                ;;        */*\*
    then:
        key: down f


    # Turn around if we're stuck
    if() then:
        key: up f
        key: down b
        delay: 6


mainloop_crawl:

    if() then:
        key: up b
        inc: crawl_time
        continue


    # Sometimes, stand!
    if:
        expr: > crawl_time 7 # Don't just stand up right after crouching...
        chance: 25%
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;    */*\*
            ;;   ( )
    then:
        key: up f
        key: up d
        goto: mainloop


    # Always walk straight ahead if we can
    if: any:
        all:
            coll: all yes
                ;;        +
                ;;       /
                ;; ( )  +
            coll: all no
                ;;     \*
                ;; ( )
        all:
            coll: all yes
                ;; ( )  + - +
            coll: all no
                ;;     \*/*
                ;; (.)  .
        all:
            coll: all yes
                ;; ( )  +
                ;;       \
                ;;        +
            coll: all no
                ;;     \*/*
                ;; (.)  . -
                ;;        *
    then:
        key: down f


    # Stand up if we're stuck
    if:
        chance: 70%
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;    */*\*
            ;;   ( )
    then:
        key: up f
        key: up d
        goto: mainloop


    # Turn around if we're stuck
    if() then:
        key: up f
        key: down b
        delay: 6

mainloop:

    if:
    then:
        key: up f
        key: up b
        continue

    if: any:
        all:
            coll: all yes
                ;;              +
                ;;
                ;;        .   +
                ;;
                ;; ( )  .
            coll: all no
                ;;         .   .
                ;;         *\*/*
                ;;   .   + - . - .
                ;;        \*/*\*
                ;; .   .   .   .
                ;;
                ;;  (.)  .
        all:
            coll: all yes
                ;; ( )  .
                ;;
                ;;        +   +
            coll: all no
                ;;        .   .
                ;;       /*\*/*
                ;;      + - + - .
                ;;       \*/*\*
                ;;        + - .
                ;;       /*\*/*
                ;; ( )  . - + - .
                ;;        */*\*
                ;;        .   .
        all:
            coll: all yes
                ;;        +   +
                ;;
                ;; ( )  .
            coll: all no
                ;;        .   .
                ;;        *\*/*
                ;;      . - + - .
                ;;       \*/*\*
                ;;        + - .
                ;;       /*\*/*
                ;;      + - + - .
                ;;       \*/*\*
                ;;        .   .
                ;;
                ;; ( )  .
        all:
            coll: all yes
                ;; ( )  +
                ;;
                ;;        +
            coll: all no
                ;;        .   .
                ;;       /*\*/*
                ;;      + - + - .   .
                ;;       \*/*\*/*\*/*
                ;;        + - + - + - .
                ;;       /*\*/*\*/*\*
                ;; ( )  . - + - .   .
                ;;        */*\*
                ;;        .   .
        all:
            coll: all yes
                ;; ( )  +   +
            coll: all no
                ;;   .   .   .
                ;;        \*/*
                ;; .   .   + - .
                ;;        /*\*
                ;;   .   + - +
                ;;        \*/*
                ;; .   .   + - .
                ;;        /*\*
                ;;  (.)  .   .
    then:
        key: down f


    if:
    then:
        key: down b
create_body:
    if() then:
        play: "actor/rec/airollerplayer.fus"
        goto: mainloop

import "actor/_aiplayer.fus"
create_body:
    if() then:
        play: "actor/rec/aibig_roller.fus"
        goto: mainloop

$SET_BOOL BIGROLLER

$SET_INT KUP_F 30
$SET_INT KDOWN_F 200

$SET_INT KUP_D 200
$SET_INT KDOWN_D 200

$SET_INT GRAB 200

$SET_INT TURN 10

import "actor/_airoller.fus"
create_body:
    if() then:
        play: "actor/rec/aiplayer.fus"
        goto: mainloop

import "actor/_aiplayer.fus"
create_body:
    if() then:
        play: "actor/rec/airoller.fus"
        goto: mainloop

$UNSET_BOOL BIGROLLER

$SET_INT KUP_F 40
$SET_INT KDOWN_F 200

$SET_INT KUP_D 40
$SET_INT KDOWN_D 150

$SET_INT TURN 40

import "actor/_airoller.fus"
create_body:
    if() then:
        play: "actor/rec/aiwater_roller.fus"
        goto: mainloop

$UNSET_BOOL BIGROLLER

$SET_INT KUP_F 100
$SET_INT KDOWN_F 2

$SET_INT KUP_D 150
$SET_INT KDOWN_D 150

$SET_INT TURN 1

import "actor/_airoller.fus"

# Expected variables:
#  bool BIGROLLER
#  int KUP_F
#  int KDOWN_F
#  int KUP_D
#  int KDOWN_D
#  int GRAB
#  int TURN

mainloop:

    if:
    then:
        key: up b
        key: up u
        continue

    if:
        chance: $GET_INT KUP_F/1000
    then:
        key: up f
        continue

    if:
        chance: $GET_INT KDOWN_F/1000
    then:
        key: down f
        continue

    if:
        chance: $GET_INT TURN/1000
    then:
        key: up f
        key: down b
        continue

    if: all:
        chance: $GET_INT GRAB/1000
        coll: all yes
            $IF BIGROLLER:
                ;;      .   .   +
                ;;
                ;;    .   .   .
                ;;
                ;; (.)  .   .
            $IF !BIGROLLER:
                ;;    .   +
                ;;
                ;; (.)  .
        coll: all no
            $IF BIGROLLER:
                ;;      .   .   .
                ;;       \*/*\*
                ;;    .   + - .
                ;;         \*
                ;; (.)  .   .
            $IF !BIGROLLER:
                ;;    .   +
                ;;     \*
                ;; (.)  .
    then:
        key: down u
        continue

    if: any:
        chance: $GET_INT KDOWN_D/1000
        coll: all yes
            $IF BIGROLLER:
                ;;      +
                ;;
                ;;    .   .
                ;;
                ;; (+)  .   +
            $IF !BIGROLLER:
                ;;    +
                ;;
                ;; (+)  +
    then:
        key: down d
        continue

    if:
        chance: $GET_INT KUP_D/1000
        not: coll: all yes
            $IF BIGROLLER:
                ;;      +
                ;;
                ;;    .   .
                ;;
                ;; (+)  .   +
            $IF !BIGROLLER:
                ;;    +
                ;;
                ;; (+)  +
    then:
        key: up d
        continue


create_body:
    if() then:
        play: "actor/hermit/recs/trapped.fus"
        goto: trapped

trapped:
    if:
        coll: any yes
            ;;  .   .   .
            ;;           \
            ;;    .   .   +
            ;;           /
            ;; (.)  .   .   .
    then:
        play: "actor/hermit/recs/trapped.fus"
    if() then:
        play: "actor/hermit/recs/escape1.fus"
        goto: escape1_wait

escape1_wait:
    if:
        # If the bird on jungle5.fus walks to our edge of platform,
        # he's about to turn and head away, so now's our chance to make
        # a break for it!..
        coll: bodies "crush" any yes
            ;;       .   .   .   .   .   .   .   + - +
            ;;                                  /*\*/*\
            ;;     .   .   .   .   .   .   .   + - + - +
            ;;                                /*\*/*\*/
            ;;   .   .   .   .   .   .   .   + - + - +
            ;;                                \*/*\*/
            ;;    (.)  .   .   .   .   .       + - +
    then:
        play: "actor/hermit/recs/escape2.fus"
        goto: open_door
    if() then:
        play: "actor/hermit/recs/escape1_wait.fus"

open_door:
    if() then:
        set mapvar("vines3_door"): T
        goto: escaped

escaped:
anim: "anim/player.fus"
state: "sleep"
pos: ( -11 10)
rot: 0
turn: yes
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w5"
anim: "anim/player.fus"
state: "crawl"
pos: ( -11 10)
rot: 0
turn: yes
keys:
    x:
    y:
    u:
    d: is was
    l:
    r:
data: " w20-d w32+r w4-r w28+l w2-l w30+l w1-l w59+l w21-l w17+l w9-l w1+d w3+l w11-l w41+r w17-d w32-r w4+l w2-l w18+r w8-r w25+d w2+l w18-l w14-d w2+r w14-r w43"
anim: "anim/player.fus"
state: "stand"
pos: ( -11 7)
rot: 3
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w20+r w46-r w5+l w7-l w30+l w38-l w14+r w3-r w25+l w31-l w10+d w4+r w43-r w34+r w3-r w2-d w18+y w1-y w10+d w5+y w3-y w11-d w44+u w3-u w53+r w41+d w14-r w12+l w7-l w1-d w7+r w29-r w45+l w10-l w8+r w2+u w1-r w2-u w14+r w27-r w10+d w4+r w38-d w3-r w13+r w6-r w8+d w3+l w10-l w15+r w30-r w6+l w43-d w13-l w2+d w3+r w19-d w14-r w7+r w3-r w10+l w2-l w14+d w3+r w35-d w15-r w23+d w5+r w61-r w6-d w11+l w16-l w4+d w34+l w8-l w16+y w1-y w12+r w11-r w5+l w3-l w1-d w9+y w1-y w18+d w5+r w51-d w10-r w3+l w3-l w12+r w3-r w9+d w8+l w19-l w12-d w9+r w29-r w30+l w15-l w2+r w2-r w16+r w2-r w43"
anim: "anim/player.fus"
state: "stand"
pos: ( -11 7)
rot: 3
turn: no
keys:
    x:
    y:
    u:
    d:
    l:
    r:
data: " w1"

start:
    if:
        coll: bodies any yes
            ;;
            ;;
            ;;        .   .
            ;;        *\*/*\*/*\
            ;; ( )  . - + - + - +
            ;;        */
            ;;        .   .   .   .
    then:
        play: "actor/guide/rec/start_to_start2.fus"
        goto: start2
    if() then:
        play: "actor/guide/rec/start.fus"

start2:
    if:
        coll: bodies any yes
            ;;   + - + - +
            ;;  /*\*/*\*/*\
            ;; + - + - + - + - + - +
            ;;  \*/*\*/*\*/*\*/*\*/*\
            ;;   + - + - + - + - + - +
            ;;    \*/*\*/*\*/*\*/*\*/
            ;;    (+)- + - + - + - +
    then:
        play: "actor/guide/rec/start2_to_start3.fus"
        goto: start3
    if() then:
        play: "actor/guide/rec/start2.fus"

start3:
    if:
        coll: bodies any yes
            ;;   + - + - + - + - +
            ;;  /*\*/*\*/*\*/*\*/*\
            ;; + - + - + - + - + - +
            ;;  \*/*\*/*\*/*\*/*\*/
            ;;  (+)- + - + - + - +
    then:
        play: "actor/guide/rec/start3_to_dodecas_0_0.fus"
        goto: dodecas_0_0
    if() then:
        play: "actor/guide/rec/start3.fus"

dodecas_0_0:
    if() then:
        play: "actor/guide/rec/dodecas_0_0.fus"
anim: "anim/player.fus"
state: "stand"
pos: ( 13 18)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w4+d w1+l w15-d w64-l w1+r w59-r w2+l w3-l w8"
anim: "anim/player.fus"
state: "stand"
pos: ( 27 30)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w18+r w37-r w23+l w2-l w26+r w11-r w49+r w27-r w48+l w5-l w38+u w4-u w16+r w11-r w4+l w2-l w9+u w3-u w14+l w3-l w30+l w7-l w11+r w2-r w12+u w3-u w9+d w2+r w10-r w9-d w5+r w33-r w31+l w9-l w12+u w20-u w3+l w42-l w16+l w2-l w5+u w3-u w42+d w9+l w12-l w16-d w27+r w7-r w44+d w5+l w17-l w13-d w29+r w23-r w17+r w9-r w1+l w3-l w77+r w1-r w31"
anim: "anim/player.fus"
state: "stand"
pos: ( 5 5)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w4+r w232-r w32+l w1-l"
anim: "anim/player.fus"
state: "stand"
pos: ( 37 -4)
rot: 5
turn: no
keys:
    x:
    u:
    d:
    l:
    r:
data: " w58+l w6-l w82+r w23-r w94+l w33-l w3+r w4-r w85+r w13-r w17"
anim: "anim/player.fus"
state: "stand"
pos: ( 13 18)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w64+r w2-r w88+l w3-l w65"
anim: "anim/player.fus"
state: "stand"
pos: ( 5 5)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w10"
anim: "anim/player.fus"
state: "stand"
pos: ( 27 30)
rot: 0
turn: yes
keys:
    x:
    u:
    d:
    l:
    r:
data: " w11"
anim: "anim/bird.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata
anim: "anim/water_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata
anim: "anim/rollerplayer.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata
anim: "anim/big_roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata
anim: "anim/player.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata
anim: "anim/roller.fus"
state: "stand"
pos: (0 0)
rot: 0
turn: no
keys:
    u:
    d:
    l:
    r:
nodata

born:
    rgraph: "flier_born"

    if:
        coll: all no
            ;;  *\*/*
            ;;  -(+)-
            ;;  */*\*
    then:
        goto: hover

    if:
        key: wasdown b
        key: not wasdown f
    then:
        rot: 1
        move: 1 0
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
    then:
        rot: -1
        move: 1 0
        delay: 1

    if:
        key: wasdown u
    then:
        move: 1 0
        delay: 1


import "anim/_flier_core.fus"

dead:
    rgraph: "dead"
    if() then: die

$SET_STR RGRAPH_PREFIX "switch_oneway_"
$SET_BOOL ONEWAY
import "anim/_switch.fus"

$SET_STR RGRAPH_NS "spikey_"
$SET_BOOL SPIKEY
import "anim/_spit.fus"

$SET_STR RGRAPH_NS ""
$UNSET_BOOL SPIKEY
import "anim/_spit.fus"

collmsgs: "collect"
on "crush": goto: dead

$SET_STR NS player_
import "anim/_player.fus"

# Expected to be imported by "anim/_player.fus"

# Expected vars:
# NS (str), e.g. "player_"

crawl_looking_up:
    rgraph: $PREFIX NS "crawl_looking_up"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "crouch_fly" (1 0) 1 f
        goto: crawl_looking_up_spit
        delay: 9

    if:
        key: not isdown d
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;  */ \*
            ;; ( )
    then:
        goto: looking_up
        delay: 3

    if: key: isdown f
    then: goto immediate: crawl

    if: key: isdown b
    then: goto immediate: crawl

    if: key: not isdown x
    then: goto: crawl

crawl_spit:
    rgraph: $PREFIX NS "crawl_spit"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding
    if() then: goto: crawl

crawl_looking_up_spit:
    rgraph: $PREFIX NS "crawl_looking_up_spit"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding
    if() then: goto: crawl_looking_up

crawl:
    rgraph: $PREFIX NS "crawl"

    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .

    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    $IF PLAYER_BIRD:
        if:
            key: wentdown x
            coll: all no
                ;;   .   .
                ;;   *\*/*
                ;; . - + - .
                ;;   */*\*
                ;;   . - .
                ;;   *\*/*
                ;; . - + - .
                ;;   */*\*
                ;;  (.)  .
        then:
            goto: bird_crawl
            delay: 1

    if:
        key: not isdown d
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;  */ \*
            ;; ( )
    then:
        goto: stand
        delay: 3

    if:
        key: isdown f
        coll: all no
            ;;     \*
            ;; ( )
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;     \*/*
            ;; (.)  .
    then:
        move: 1 0
        goto: crawl_step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;     \*/*
            ;; (.)  . -
            ;;        *
    then:
        move: 1 0
        rot: -1
        goto: crawl_step_down
        delay: 2

    $IF PLAYER_ROLLER:
        if:
            key: isdown f
            coll: all no
                ;;     \*
                ;; (.)  .
        then:
            goto: roller_stand
            move: 1 0
            turn
            rot: 1
            delay: $GET_INT ROLLER_STAND_DELAY

    $IF PLAYER_ROLLER:
        if:
            key: isdown f
            coll: all yes
                ;;    +
                ;;     \
                ;; (.)  +
        then:
            goto: crawl_step
            move: 1 0
            rot: 2
            delay: 2

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: crawl_turn
        delay: 2

    $IF PLAYER_AIMER:
        if:
            key: not isdown f
            key: isdown x
        then:
            goto: crawl_look_up

crawl_look_up:
    rgraph: $PREFIX NS "crawl_look_up"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding
    if() then: goto: crawl_looking_up

crawl_step_down:
    rgraph: $PREFIX NS "crawl_step"
    hitbox:
        ;;    .   .
        ;;    *\*/*
        ;;  . -(.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    if() then: goto: crawl

crawl_step:
    # If you make changes to this, you'll probably want to make same
    # changes to crawl_turn
    rgraph: $PREFIX NS "crawl_step"
    hitbox:
        ;;    .   .
        ;;      */*
        ;;     (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    if() then: goto: crawl

crawl_turn:
    # Like crawl_step, but without the extended hitbox
    # (so you can turn around in-place while crouching, without exposing yourself
    # to being crushed)
    rgraph: $PREFIX NS "crawl_step"
    hitbox:
        ;;        .
        ;;        *
        ;;     (.)  .
    $IF PLAYER_SPIKEY: on "crush": goto: crawl_shielding

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "crouch_fly" (0 0) 0 f
        goto: crawl_spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    if() then: goto: crawl

$IF PLAYER_SPIKEY: crawl_shielding:
    #rgraph: $PREFIX NS "crawl_shielding"
    #rgraph: "dead"
    if:
    then:
        delay: 4
        goto: _crawl_shielding

$IF PLAYER_SPIKEY: _crawl_shielding:
    rgraph: $PREFIX NS "crawl_shielding"
    # No hitbox!..
    if:
    then: goto: crawl

collmsgs: "collect"
on "crush": goto: dead

$SET_STR NS rollerplayer_
$SET_BOOL PLAYER_ROLLER
import "anim/_player.fus"

$SET_STR ANIM_NS roller_
$SET_STR RGRAPH_NS rollerplayer_
$SET_BOOL PLAYER_ROLLER
import "anim/_roller.fus"

collmsgs: "crush"

stand:
    rgraph: "big_roller"
    hitbox:
        ;;      .
        ;;      *
        ;;    . - .
        ;;    *\*/*
        ;; ( )  .   .
    on "spikeyspit": goto: turn

    if:
        # Grabbing
        key: wasdown u
        coll: all yes
            ;;      .   .   +
            ;;
            ;;    .   .   .
            ;;
            ;; ( )  .   .
        coll: all no
            ;;      .   .   .
            ;;       \*/*\*
            ;;    .   + - .
            ;;         \*
            ;; ( )  .   .
    then:
        move: 4 2
        rot: 3
        goto: grab
        delay: 1

    if:
        # Rolling forward (not holding d)
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  .   +
    then:
        move: 2 0
        rot: 2
        delay: 1

    if:
        # Spinning around forward (possibly holding d)
        key: not isdown b
        key: isdown f
        coll: all no
            ;; ( )- + -
            ;;    */*\*
            ;;      -
    then:
        rot: -1
        delay: 1

    if:
        # Rolling forward (possibly holding d)
        key: not isdown b
        key: isdown f
        coll: all yes
            ;; ( )  .   +
    then:
        move: 2 0
        rot: 2
        delay: 1

    if:
        key: not isdown f
        key: isdown b
    then:
        turn
        rot: 2
        delay: 1

turn:
    # When bumped, turn around
    if:
    then:
        confused: toggle
        goto: stand

grab:
    rgraph: "big_roller_grab"
    hitbox:
        ;;      .   .   .
        ;;      *\*/*\*
        ;;    . - + - .
        ;;    *\*/*\*
        ;; ( )  .   .

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

stand:
    rgraph: "roller2"

    #    + - +
    #   /   /
    # (+)- +

    if:
        key: isdown u
        coll: all yes
            ;;        +
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 3
        goto: grab
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: stand_flipped
        delay: 1

    if:
        key: isdown u
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  .   +
        coll: all no
            ;;    *\*/*
            ;; ( )
    then:
        move: 2 0
        rot: 2
        goto: grab
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        rot: -1
        delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 2
        delay: 1


stand_flipped:
    rgraph: "roller2_flipped"

    # + - +
    #  \   \
    #  (+)- +

    if:
        key: isdown d
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all yes
            ;; ( )  +
    then:
        move: 1 0
        rot: 2
        goto: stand
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 1
        delay: 1

grab:
    rgraph: "roller2"

    if:
        key: not isdown u
    then:
        goto: stand
        delay: 1

on "collect": goto: collected

stand:
    rgraph: "coin"
    hitbox:
        ;;  (+)

crouch:
    rgraph: "coin_crouch"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .

collected:
    rgraph: "coin_collected"
collmsgs: "crush"

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS "death_"
import "anim/_flier.fus"

# Expected vars:
# ANIM_NS (str), e.g. "hexroller_", ""
# RGRAPH_NS (str), e.g. "hexrollerplayer_", ""

collmsgs: "crush"
on "spit":
    confused: toggle


$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS ""


$SET_INT DELAY 2


$SET_STR R0 ""
$SET_STR R1 "_R1"
$SET_STR R2 "_R2"
$SET_STR R3 "_R3"
$SET_STR R4 "_R4"
$SET_STR R5 "_R5"
import "anim/_hexroller.fus"
$SET_STR R0 "_R1"
$SET_STR R1 "_R2"
$SET_STR R2 "_R3"
$SET_STR R3 "_R4"
$SET_STR R4 "_R5"
$SET_STR R5 ""
import "anim/_hexroller.fus"
$SET_STR R0 "_R2"
$SET_STR R1 "_R3"
$SET_STR R2 "_R4"
$SET_STR R3 "_R5"
$SET_STR R4 ""
$SET_STR R5 "_R1"
import "anim/_hexroller.fus"
$SET_STR R0 "_R3"
$SET_STR R1 "_R4"
$SET_STR R2 "_R5"
$SET_STR R3 ""
$SET_STR R4 "_R1"
$SET_STR R5 "_R2"
import "anim/_hexroller.fus"
$SET_STR R0 "_R4"
$SET_STR R1 "_R5"
$SET_STR R2 ""
$SET_STR R3 "_R1"
$SET_STR R4 "_R2"
$SET_STR R5 "_R3"
import "anim/_hexroller.fus"
$SET_STR R0 "_R5"
$SET_STR R1 ""
$SET_STR R2 "_R1"
$SET_STR R3 "_R2"
$SET_STR R4 "_R3"
$SET_STR R5 "_R4"
import "anim/_hexroller.fus"

stand_r0:
    rgraph: "bubblecar_r0"
    collmsgs: "crush"
    hitbox:
        ;;                 .   .
        ;;                 *\*/*
        ;;           .   . - + - .   .
        ;;           *\*/*\*/*\*/*\*/*
        ;;     .   . - + - + - + - + - .   .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + -(+)- + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     .   . - + - + - + - + - .   .
        ;;           */*\*/*\*/*\*/*\*
        ;;           .   . - + - .   .
        ;;                 */*\*
        ;;                 .   .
        #                           Moving towards the upper-right!

    if:
        key: wasdown b
    then:
        turn
        rot: -1
        goto: stand_r2
        delay: 4

    if:
        key: wasdown f
        coll: any yes
            ;;                 .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .  (.)  .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .       +
            ;;                                        /
            ;;   .   .   .   .   .   .   .   .   + - +
            ;;                                  /
            ;;     .   .   .   .   .   .   + - +
            ;;                            /
            ;;           .   .   .   + - +
            ;;
            ;;                 .   .
        coll: all no
            ;;                       .   .
            ;;                       *\*/*
            ;;                 .   . - + - .   .
            ;;                      \*/*\*/*\*/*
            ;;           .   .   .   + - + - + - .   .
            ;;                            \*/*\*/*\*/
            ;;     .   .   .   .   .   .   + - + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .  (.)  .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;                 .   .
    then:
        move: 2 1
        goto: stand_r3
        delay: 4

    if:
        key: wasdown f
    then:
        rot: -1
        goto: stand_r2
        delay: 4

stand_r1:
    rgraph: "bubblecar_r1"
    collmsgs: "crush"
    hitbox:
        ;;                 .   .
        ;;                 *\*/*
        ;;           .   . - + - .   .
        ;;           *\*/*\*/*\*/*\*/*
        ;;     .   . - + - + - + - + - .   .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + -(+)- + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     .   . - + - + - + - + - .   .
        ;;           */*\*/*\*/*\*/*\*
        ;;           .   . - + - .   .
        ;;                 */*\*
        ;;                 .   .
        #                           Moving towards the upper-right!

    if:
        key: wasdown b
    then:
        turn
        rot: -1
        goto: stand_r1
        delay: 4

    if:
        key: wasdown f
        coll: any yes
            ;;                 .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .  (.)  .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .       +
            ;;                                        /
            ;;   .   .   .   .   .   .   .   .   + - +
            ;;                                  /
            ;;     .   .   .   .   .   .   + - +
            ;;                            /
            ;;           .   .   .   + - +
            ;;
            ;;                 .   .
        coll: all no
            ;;                       .   .
            ;;                       *\*/*
            ;;                 .   . - + - .   .
            ;;                      \*/*\*/*\*/*
            ;;           .   .   .   + - + - + - .   .
            ;;                            \*/*\*/*\*/
            ;;     .   .   .   .   .   .   + - + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .  (.)  .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;                 .   .
    then:
        move: 2 1
        goto: stand_r0
        delay: 4

    if:
        key: wasdown f
    then:
        rot: -1
        goto: stand_r3
        delay: 4

stand_r2:
    rgraph: "bubblecar_r2"
    collmsgs: "crush"
    hitbox:
        ;;                 .   .
        ;;                 *\*/*
        ;;           .   . - + - .   .
        ;;           *\*/*\*/*\*/*\*/*
        ;;     .   . - + - + - + - + - .   .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + -(+)- + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     .   . - + - + - + - + - .   .
        ;;           */*\*/*\*/*\*/*\*
        ;;           .   . - + - .   .
        ;;                 */*\*
        ;;                 .   .
        #                           Moving towards the upper-right!

    if:
        key: wasdown b
    then:
        turn
        rot: -1
        goto: stand_r0
        delay: 4

    if:
        key: wasdown f
        coll: any yes
            ;;                 .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .  (.)  .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .       +
            ;;                                        /
            ;;   .   .   .   .   .   .   .   .   + - +
            ;;                                  /
            ;;     .   .   .   .   .   .   + - +
            ;;                            /
            ;;           .   .   .   + - +
            ;;
            ;;                 .   .
        coll: all no
            ;;                       .   .
            ;;                       *\*/*
            ;;                 .   . - + - .   .
            ;;                      \*/*\*/*\*/*
            ;;           .   .   .   + - + - + - .   .
            ;;                            \*/*\*/*\*/
            ;;     .   .   .   .   .   .   + - + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .  (.)  .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;                 .   .
    then:
        move: 2 1
        goto: stand_r1
        delay: 4

    if:
        key: wasdown f
    then:
        rot: -1
        goto: stand_r0
        delay: 4

stand_r3:
    rgraph: "bubblecar_r3"
    collmsgs: "crush"
    hitbox:
        ;;                 .   .
        ;;                 *\*/*
        ;;           .   . - + - .   .
        ;;           *\*/*\*/*\*/*\*/*
        ;;     .   . - + - + - + - + - .   .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + -(+)- + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     . - + - + - + - + - + - + - .
        ;;     *\*/*\*/*\*/*\*/*\*/*\*/*\*/*
        ;;   . - + - + - + - + - + - + - + - .
        ;;     */*\*/*\*/*\*/*\*/*\*/*\*/*\*
        ;;     .   . - + - + - + - + - .   .
        ;;           */*\*/*\*/*\*/*\*
        ;;           .   . - + - .   .
        ;;                 */*\*
        ;;                 .   .
        #                           Moving towards the upper-right!

    if:
        key: wasdown b
    then:
        turn
        rot: -1
        goto: stand_r3
        delay: 4

    if:
        key: wasdown f
        coll: any yes
            ;;                 .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;   .   .   .   .  (.)  .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .       +
            ;;                                        /
            ;;   .   .   .   .   .   .   .   .   + - +
            ;;                                  /
            ;;     .   .   .   .   .   .   + - +
            ;;                            /
            ;;           .   .   .   + - +
            ;;
            ;;                 .   .
        coll: all no
            ;;                       .   .
            ;;                       *\*/*
            ;;                 .   . - + - .   .
            ;;                      \*/*\*/*\*/*
            ;;           .   .   .   + - + - + - .   .
            ;;                            \*/*\*/*\*/
            ;;     .   .   .   .   .   .   + - + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .  (.)  .   .   .   + - .
            ;;                                  /*\*/*
            ;;     .   .   .   .   .   .   .   + - + - .
            ;;                                  \*/*\*
            ;;   .   .   .   .   .   .   .   .   .   .
            ;;
            ;;     .   .   .   .   .   .   .   .
            ;;
            ;;           .   .   .   .   .
            ;;
            ;;                 .   .
    then:
        move: 2 1
        goto: stand_r2
        delay: 4

    if:
        key: wasdown f
    then:
        rot: -1
        goto: stand_r1
        delay: 4

on "crush": goto: dead

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS "water_"
$SET_BOOL WATER_ROLLER
import "anim/_roller.fus"

dead:
    rgraph: "dead"
    if() then: die

# Expected vars:
# ANIM_NS (str), e.g. "roller_", ""
# RGRAPH_NS (str), e.g. "rollerplayer_", ""

# Optional vars:
#
# STICKY_GRAB: you can "catch" an otherwise uncatchable vertex
# as you rotate past it
#
#      + - +             + - +
#     /   /      =>       \   \
#   (+)- +   +         +   + - +
#
# FLIPPY_GRAB: you can roll onto your "side"
# (and grabbing with your side has a separate anim)
#
#   + - +
#    \   \
#    (+)- +
#
# GOTO_GRABBED: when you grab something, you stay grabbed until
# letting go of "f"
#



#$SET_BOOL FLIPPY_GRAB

#$SET_BOOL STICKY_GRAB

$SET_BOOL STICKY_GRAB
$SET_BOOL FLIPPY_GRAB

#$SET_BOOL STICKY_GRAB
#$SET_BOOL GOTO_GRABBED

# TODO: when GOTO_GRABBED is active, when you do the STICKY_GRAB "side grab",
# you should stay grabbed until you let go of "f"
#$SET_BOOL STICKY_GRAB
#$SET_BOOL GOTO_GRABBED
#$SET_BOOL FLIPPY_GRAB


$PREFIX ANIM_NS stand:
    rgraph: $PREFIX RGRAPH_NS "roller"
    hitbox:
        ;;    .
        ;;    *
        ;; (.)  .
    on "spit": goto: $PREFIX ANIM_NS turn


    ################################################
    # rollerplayer turning back into player

    $IF PLAYER_ROLLER:
        if:
            key: not isdown x
            coll: all yes
                ;; (+)- +
        then:
            goto: crawl

        if:
            key: not isdown x
            coll: all yes
                ;;    +
                ;;   /
                ;; (+)  .
        then:
            goto: crawl
            rot: -2
            turn


    ################################################
    # Grabbing

    $IF !NOGRAB:
        # Grabbing a vertex
        if:
            key: wasdown u
            coll: any yes
                ;;    .   +
                ;;
                ;; ( )  .
            coll: all no
                ;;    .
                ;;     \*
                ;; ( )  .
            $IF WATER_ROLLER:
                coll: water all no
                    ;;    .
                    ;;     \*
                    ;; ( )  .
        then:
            move: 2 1
            rot: 3
            $IF GOTO_GRABBED:
                goto: $PREFIX ANIM_NS grabbed
            $IF !GOTO_GRABBED:
                goto: $PREFIX ANIM_NS grab
            delay: 1

    $IF !NOGRAB:
        # Attempting to grab, but no vertex (so we just stick out our pseudopod)
        if:
            key: wasdown u
            coll: all no
                ;;    .
                ;;     \*
                ;; ( )  .
            $IF WATER_ROLLER:
                coll: water all no
                    ;;    .
                    ;;     \*
                    ;; ( )  .
        then:
            goto: $PREFIX ANIM_NS grab
            delay: 1


    ################################################
    # Rolling forward

    if:
        # Roll forward (not holding d)
        key: not isdown d
        key: not isdown b
        key: isdown f
        any:
            coll: any yes
                ;; ( )  +
            $IF WATER_ROLLER:
                coll: water any yes
                    ;; ( )  .
                    ;;    *
    then:
        move: 1 0
        rot: 2
        delay: 1

    if:
        # Spin around forward (possibly holding d)
        key: not isdown b
        key: isdown f
        all:
            coll: all no
                ;; ( )- .
                ;;    *
            $IF WATER_ROLLER:
                coll: water all no
                    ;; ( )- .
                    ;;    *
    then:
        rot: -1
        delay: 1

    if:
        # Roll forward (possibly holding d)
        key: not isdown b
        key: isdown f
        any:
            coll: any yes
                ;; ( )  +
            $IF WATER_ROLLER:
                coll: water any yes
                    ;; ( )  .
                    ;;    *
    then:
        move: 1 0
        rot: 2
        delay: 1


    ################################################
    # Turning around

    if:
        # Turn around
        key: not isdown f
        key: isdown b
    then:
        turn
        rot: 2
        delay: 1



$PREFIX ANIM_NS turn:
    # When bumped, turn around
    if:
    then:
        confused: toggle
        goto: $PREFIX ANIM_NS stand


$PREFIX ANIM_NS grab:
    # Rolling around with your pseudopod stuck out

    rgraph: $PREFIX RGRAPH_NS "roller_grab"
    hitbox:
        ;;    .   .
        ;;    *\*
        ;; (.)  .

    if:
        key: not isdown u
    then:
        goto: $PREFIX ANIM_NS stand
        delay: 1

    $IF FLIPPY_GRAB:
        if:
            key: isdown f
            key: not isdown b
            any:
                coll: any yes
                    ;; ( )  +
                $IF WATER_ROLLER:
                    coll: water any yes
                        ;; ( )  .
                        ;;    *
        then:
            move: 1 0
            rot: 1
            goto: $PREFIX ANIM_NS grab_flipped
            delay: 1

    $IF STICKY_GRAB:
        if:
            key: isdown f
            key: not isdown b
            coll: any yes
                ;; ( )  .   +
            coll: all no
                ;;    *\*/*
                ;; ( )  .   .
            $IF WATER_ROLLER:
                coll: water all no
                    ;;    * * *
                    ;; ( )  .   .
        then:
            move: 2 0
            rot: 2
            $IF GOTO_GRABBED:
                goto: $PREFIX ANIM_NS grabbed
            delay: 1

    $IF FLIPPY_GRAB:
        if:
            key: isdown f
            key: not isdown b
            any:
                coll: any yes
                    ;;        .
                    ;;
                    ;; ( )  .   .
                    ;;
                    ;;    +   .
                $IF WATER_ROLLER:
                    coll: water any yes
                        ;;        .
                        ;;
                        ;; ( )  .   .
                        ;;  *
                        ;;    .   .
            coll: all no
                ;;        .
                ;;       /*
                ;; ( )- + - .
                ;;    */*\*
                ;;    .   .
            $IF WATER_ROLLER:
                coll: water all no
                    ;;        .
                    ;;       /*
                    ;; ( )- + - .
                    ;;    */*\*
                    ;;    .   .
        then:
            move: 0 -1
            goto: $PREFIX ANIM_NS grab_flipped
            delay: 1

    if:
        key: isdown f
        key: not isdown b
        any:
            coll: any yes
                ;;        .
                ;;
                ;; ( )  .   .
                ;;
                ;;    .   +
            $IF WATER_ROLLER:
                coll: water any yes
                    ;;        .
                    ;;
                    ;; ( )  .   .
                    ;;
                    ;;    .   .
                    ;;      *
        coll: all no
            ;;        .
            ;;       /*
            ;; ( )- + - .
            ;;    */*\*
            ;;    .   .
        $IF WATER_ROLLER:
            coll: water all no
                ;;        .
                ;;       /*
                ;; ( )- + - .
                ;;    */*\*
                ;;    .   .
    then:
        move: 1 -1
        rot: 2
        $IF GOTO_GRABBED:
            goto: $PREFIX ANIM_NS grabbed
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
        $IF WATER_ROLLER:
            coll: water all no
                ;;       /*
                ;; ( )- + -
                ;;    */*\*
    then:
        rot: -1
        delay: 1

    $IF GRAB_WHEN_TURNING:
        if:
            key: isdown b
            key: not isdown f
            coll: any yes
                ;;    .   +
                ;;
                ;; ( )  .
            coll: all no
                ;;    .
                ;;     \*
                ;; ( )  .
            $IF WATER_ROLLER:
                coll: water all no
                    ;;    .
                    ;;     \*
                    ;; ( )  .
        then:
            move: 2 1
            rot: 3
            turn
            rot: 2
            $IF GOTO_GRABBED:
                goto: $PREFIX ANIM_NS grabbed
            delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 2
        delay: 1


$PREFIX ANIM_NS grab_flipped:
    rgraph: $PREFIX RGRAPH_NS "roller_grab_flipped"
    hitbox:
        ;; .   .
        ;;   */*
        ;;  (.)  .

    if:
        key: not isdown u
        key: isdown f
    then:
        goto: $PREFIX ANIM_NS stand
        delay: 1

    if:
        key: not isdown u
        key: isdown b
    then:
        goto: $PREFIX ANIM_NS stand
        turn
        rot: 1
        delay: 1

    if:
        key: isdown d
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
        $IF WATER_ROLLER:
            coll: water all no
                ;; ( )-
                ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        any:
            coll: any yes
                ;; ( )  +
            $IF WATER_ROLLER:
                coll: water any yes
                    ;; ( )  .
                    ;;    *
    then:
        move: 1 0
        rot: 2
        goto: $PREFIX ANIM_NS grab
        delay: 1

    if:
        key: isdown f
        key: not isdown b
        coll: all no
            ;; ( )-
            ;;    *
        $IF WATER_ROLLER:
            coll: water all no
                ;; ( )-
                ;;    *
    then:
        rot: -1
        delay: 1

    if:
        key: isdown b
        key: not isdown f
    then:
        turn
        rot: 1
        delay: 1


$PREFIX ANIM_NS grabbed:
    rgraph: $PREFIX RGRAPH_NS "roller_grab"
    hitbox:
        ;;    .   .
        ;;    *\*
        ;; (.)  .

    if:
        key: not isdown u
    then:
        goto: $PREFIX ANIM_NS stand
        delay: 1

collmsgs: "crush"

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS "death_"
import "anim/_roller.fus"

dead:
    rgraph: "dead"
    if() then: die

# Expected variables:
# RGRAPH_NS (str): e.g. "spiky_", ""

$SET_INT MAX_AGE 100

fly:
    rgraph: $PREFIX RGRAPH_NS "spit_fly"
    collmsgs: "collect" "spit" $IF SPIKEY("spikeyspit")
    hitbox:
        ;;   .   .
        ;;   *\*/*\*/
        ;; . - + - +
        ;;
        ;;   .  (.)

    on "crush": goto: dead

    if:
    then:
        inc: age
        continue

    if: any:
        expr: > age $GET_INT MAX_AGE
        coll: any yes
            ;;   .   .
            ;;   *\*
            ;; .   .   .
            ;;
            ;;  ( )  .
    then:
        goto: dead
        delay: 11

    if:
        coll: all yes
            ;;   .   .
            ;;      /
            ;; .   .   .
            ;;
            ;;  ( )  .
    then:
        move: 2 1
        rot: 1

    if() then:
        move: 1 0

crouch_fly:
    rgraph: $PREFIX RGRAPH_NS "spit_crouch_fly"
    collmsgs: "collect" "spit" $IF SPIKEY("spikeyspit")
    hitbox:
        ;;    .   .
        ;;  */*\*/*\
        ;;  .  (.)  .

    on "crush": goto: crouch_dead

    if:
    then:
        inc: age
        continue

    if: any:
        expr: > age $GET_INT MAX_AGE
        coll: any yes
            ;;    .   .
            ;;    *\*
            ;; ( )  .
    then:
        goto: crouch_dead
        delay: 11

    if:
        coll: all yes
            ;;    .   .
            ;;       /
            ;; ( )  .
    then:
        move: 1 0
        rot: 1

    if() then:
        move: 1 0

dead:
    rgraph: "spit_dead"
    if() then: die

crouch_dead:
    rgraph: "spit_crouch_dead"
    if() then: die





##############################
# UNUSED:
crouch_fly_bouncy:
    rgraph: $PREFIX RGRAPH_NS "spit_crouch_fly"
    collmsgs: "collect" "spit" $IF SPIKEY("spikeyspit")
    hitbox:
        ;;    .
        ;;    *
        ;; ( )  .


    if:
        coll: all yes
            ;;    .
            ;;     \
            ;; ( )  .
    then:
        move: 1 1
        rot: 2
        turn

    if:
        coll: any yes
            ;;    .
            ;;    *
            ;; ( )  .
    then:
        goto: dead

    if() then:
        move: 1 1
        rot: 3
        turn

# Expected variables:
# ANIM_NS (str), e.g. "bird_", ""
# RGRAPH_NS (str): e.g. "player_", ""

#$SET_BOOL CRAWL_MOVE


$PREFIX ANIM_NS stand:
    rgraph: $PREFIX RGRAPH_NS "bird_stand"

    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: isdown d
    then:
        goto: $PREFIX ANIM_NS crawl_arrive
        delay: 1

    if:
        key: isdown f
    then:
        goto: $PREFIX ANIM_NS step
        delay: 1

    if:
        key: isdown b
    then:
        goto: $PREFIX ANIM_NS turn
        delay: 1

$PREFIX ANIM_NS turn:
    rgraph: $PREFIX RGRAPH_NS "bird_turn"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then:
        move: 1 0
        turn
        goto: $PREFIX ANIM_NS turn_arrive
        delay: 1

$PREFIX ANIM_NS step:
    rgraph: $PREFIX RGRAPH_NS "bird_step"

    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        # Turned off for now (with false)... I think I prefer it so
        # tapping f attempts a full step.
        false
        key: not isdown f
    then:
        goto: $PREFIX ANIM_NS step_rev
        delay: 2

    if:
        coll: all yes
            ;;              +
            ;;
            ;;        .   +
            ;;
            ;; ( )  .
        coll: all no
            ;;         .   .
            ;;         *\*/*
            ;;   .   + - . - .
            ;;        \*/*\*
            ;; .   .   .   .
            ;;
            ;;  (.)  .
    then:
        move: 3 1
        rot: 1
        goto: $PREFIX ANIM_NS step_rot_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  .
            ;;
            ;;        +   +
        coll: all no
            ;;        .   .
            ;;       /*\*/*
            ;;      + - + - .
            ;;       \*/*\*
            ;;        + - .
            ;;       /*\*/*
            ;; ( )  . - + - .
            ;;        */*\*
            ;;        .   .
    then:
        move: 1 -1
        goto: $PREFIX ANIM_NS step_down_arrive
        delay: 2

    if:
        coll: all yes
            ;;        +   +
            ;;
            ;; ( )  .
        coll: all no
            ;;        .   .
            ;;        *\*/*
            ;;      . - + - .
            ;;       \*/*\*
            ;;        + - .
            ;;       /*\*/*
            ;;      + - + - .
            ;;       \*/*\*
            ;;        .   .
            ;;
            ;; ( )  .
    then:
        move: 2 1
        goto: $PREFIX ANIM_NS step_up_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  +
            ;;
            ;;        +
        coll: all no
            ;;        .   .
            ;;       /*\*/*
            ;;      + - + - .   .
            ;;       \*/*\*/*\*/*
            ;;        + - + - + - .
            ;;       /*\*/*\*/*\*
            ;; ( )  . - + - .   .
            ;;        */*\*
            ;;        .   .
    then:
        move: 1 0
        rot: -1
        goto: $PREFIX ANIM_NS step_rot_down_arrive
        delay: 2

    if:
        coll: all yes
            ;; ( )  +   +
        coll: all no
            ;;   .   .   .
            ;;        \*/*
            ;; .   .   + - .
            ;;        /*\*
            ;;   .   + - +
            ;;        \*/*
            ;; .   .   + - .
            ;;        /*\*
            ;;  (.)  .   .
    then:
        move: 1 0
        goto: $PREFIX ANIM_NS step_arrive
        delay: 2

    if() then:
        goto: $PREFIX ANIM_NS step_rev
        delay: 2

$PREFIX ANIM_NS turn_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_turn_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_rev:
    rgraph: $PREFIX RGRAPH_NS "bird_step_rev"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_rot_up_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_step_rot_up_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_step_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_down_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_step_down_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_up_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_step_up_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS step_rot_down_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_step_rot_down_arrive"
    collmsgs: "crush"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS stand

$PREFIX ANIM_NS crawl_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_crawl_arrive"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
    then: goto: $PREFIX ANIM_NS crawl

$PREFIX ANIM_NS crawl:
    rgraph: $PREFIX RGRAPH_NS "bird_crawl"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    $IF PLAYER_BIRD:
        if:
            key: not isdown x
            coll: all yes
                ;; (+)- +
        then:
            goto: crawl

    if:
        key: not isdown d
        coll: all no
            ;;   .   .
            ;;   *\*/*
            ;; . - + - .
            ;;   */ \*
            ;;   . - .
            ;;
            ;; .   .   .
            ;;
            ;;  ( )  .
    then:
        delay: 1
        goto: $PREFIX ANIM_NS crawl_stand

    $IF CRAWL_MOVE:
        if:
            key: isdown f
            coll: all yes
                ;;        +
                ;;
                ;; ( )  +
        then:
            move: 1 0
            rot: 1
            delay: 2

        if:
            key: isdown f
            coll: all yes
                ;; ( )  +   +
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*
                ;; ( )
        then:
            move: 1 0
            delay: 2

        if:
            key: isdown f
            coll: all yes
                ;; ( )  +
                ;;
                ;;        +
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*/*
                ;; ( )    - + -
                ;;        */*\*
        then:
            move: 1 0
            rot: -1
            delay: 2

    if:
        key: isdown b
    then:
        goto: $PREFIX ANIM_NS crawl_turn
        delay: 1

$PREFIX ANIM_NS crawl_turn:
    rgraph: $PREFIX RGRAPH_NS "bird_crawl_turn"
    hitbox:
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then:
        move: 1 0
        turn
        goto: $PREFIX ANIM_NS crawl_turn_arrive
        delay: 1

$PREFIX ANIM_NS crawl_turn_arrive:
    rgraph: $PREFIX RGRAPH_NS "bird_crawl_turn_arrive"
    hitbox:
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: $PREFIX ANIM_NS crawl

$PREFIX ANIM_NS crawl_stand:
    rgraph: $PREFIX RGRAPH_NS "bird_crawl_stand"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;   . - .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
    then: goto: $PREFIX ANIM_NS stand

collmsgs: "collect"
on "crush": goto: dead

$SET_BOOL PLAYER_AIMER
$SET_STR NS aimerplayer_
import "anim/_player.fus"

on "crush": goto: dead

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS ""
import "anim/_flier.fus"

# Expected vars:
# NS (str), e.g. "player_"

# NOTE: make sure "stand" is the first anim, so any imports
# should go below it

$IF PLAYER_SPIKEY:
    $SET_STR SPIT_FUS "anim/spikeyspit.fus"
$IF !PLAYER_SPIKEY:
    $SET_STR SPIT_FUS "anim/spit.fus"


$SET_INT ROLLER_STAND_DELAY 0


stand:
    rgraph: $PREFIX NS "stand"

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "fly" (0 0) 0 f
        goto: spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    $IF PLAYER_BIRD:
        if:
            key: wentdown x
            coll: all no
                ;;   .   .
                ;;   *\*/*
                ;; . - + - .
                ;;   */*\*
                ;;   . - .
                ;;   *\*/*
                ;; . - + - .
                ;;   */*\*
                ;;  (.)  .
        then:
            goto: bird_crawl
            delay: 1

    if:
        key: isdown d
    then:
        goto: crawl
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    $IF PLAYER_AIMER:
        if:
            key: wasdown x
            key: wasdown u
            coll: all no
                ;;    *\*/*
                ;;    - + -
                ;;       \*
                ;;
                ;;
                ;; ( )
        then:
            move: 1 0
            rot: 1
            goto immediate: start_jump

    if:
        key: wasdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all yes
            ;; ( )  + - +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        key: isdown f
        coll: all yes
            ;; ( )  +
            ;;       \
            ;;        +
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*/*
            ;; ( )    - + -
            ;;        */*\*
    then:
        move: 1 0
        rot: -1
        goto: step_down
        delay: 2

    if:
        key: isdown f
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if:
        key: isdown f
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        goto: step
        delay: 2

    $IF PLAYER_AIMER:
        if:
            key: isdown x
        then:
            goto: look_up

look_up:
    rgraph: $PREFIX NS "look_up"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: looking_up

looking_up:
    rgraph: $PREFIX NS "looking_up"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "fly" (1 0) 1 f
        goto: looking_up_spit
        delay: 9

    if:
        key: wasdown u
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;
            ;;
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if: key: isdown f
    then: goto immediate: stand

    if: key: isdown b
    then: goto immediate: stand

    if:
        key: isdown d
    then:
        goto: crawl_looking_up
        delay: 2

    if: key: not isdown x
    then: goto: stand

spit:
    rgraph: $PREFIX NS "spit"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: stand

looking_up_spit:
    rgraph: $PREFIX NS "looking_up_spit"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: looking_up

start_jump:

    $IF PLAYER_FLIER:
        if:
            key: wasdown x
            coll: all no
                ;;       \*/*
                ;;        + -
                ;;       /*\*
                ;; ( )
        then:
            goto: flier_fly
            move: 2 1
            delay: 2

    if:
        coll: water any yes
            ;;   .   .
            ;;   *\*/*
            ;; . - + - .
            ;;   */*\*
            ;;  (.)  .
    then:
        goto: swim_jump
        delay: 4

    if() then:
        goto: jump
        delay: 2

jump:
    # NOTE: the only "goto: jump" is in "start_jump", which checks whether
    # we're in water, and does "goto: jump" or "goto: swim_jump"
    # accordingly.
    # Therefore, if we're in "jump", then we can safely assume we're not in
    # water without checking.

    rgraph: $PREFIX NS "jump"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        coll: all yes
            ;; ( )  +
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
    then:
        move: 1 0
        rot: 1
        goto immediate: start_jump

    if:
        key: not isdown u
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
        coll: all yes
            ;; ( )  + - +
    then:
        move: 1 0
        goto: step
        delay: 2

    if:
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if() then:
        goto: mostly_dead
        delay: 11

step_down:
    rgraph: $PREFIX NS "step"
    hitbox:
        ;;   .   .   .
        ;;   *\*/*\*/*
        ;; . - + - + - .
        ;;   */*\*/*\*
        ;;   .  (.)  .

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "fly" (0 0) 0 f
        goto: spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    if() then: goto: stand

step:
    rgraph: $PREFIX NS "step"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "fly" (0 0) 0 f
        goto: spit
        delay: 9

    $IF PLAYER_ROLLER:
        if:
            key: wentdown x
        then:
            goto: roller_stand
            delay: $GET_INT ROLLER_STAND_DELAY

    if() then: goto: stand

sleep:
    rgraph: $PREFIX NS "sleep"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)  .
    if: any:
        key: isdown u
        key: isdown d
        key: isdown l
        key: isdown r
    then: goto: crawl

mostly_dead:
    rgraph: "dead"
    unsafe
    if() then: die mostly

dead:
    rgraph: "dead"
    unsafe
    if() then: die

import "anim/_player_crawl.fus"
import "anim/_player_swim.fus"

collmsgs: "collect"
on "crush": goto: dead

$SET_STR NS spikeyplayer_
$SET_BOOL PLAYER_SPIKEY
import "anim/_player.fus"

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS ""
$UNSET_BOOL PLAYER_BIRD
import "anim/_bird.fus"

# Expected to be imported by "anim/_player.fus"

# Expected vars:
# NS (str), e.g. "player_"

swim_spit:
    rgraph: $PREFIX NS "swim_spit"
    unsafe
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .
    if() then: goto: swim

swim_jump:
    # NOTE: the only "goto: swim_jump" is in "start_jump", which checks
    # whether we're in water, and does "goto: jump" or "goto: swim_jump"
    # accordingly.
    # Therefore, if we're in "swim_jump", then we can safely assume we're in
    # water without checking.

    rgraph: $PREFIX NS "swim_jump"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: any yes
            ;;        +
            ;;       /
            ;; ( )
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 1
        goto immediate: start_jump

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: any yes
            ;;       \
            ;;        +
            ;;
            ;; ( )
        coll: all no
            ;;
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        move: 0 0
        rot: -1
        goto immediate: start_jump

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if() then:
        goto immediate: swim

swim:
    rgraph: $PREFIX NS "swim"
    unsafe

    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: wentdown y
    then:
        spawn: $GET_STR SPIT_FUS "fly" (0 0) 0 f
        goto: swim_spit
        delay: 9

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: all yes
            ;;        +
            ;;       /
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: step
        delay: 2

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        any:
            key: isdown u
            coll: any yes
                ;;        +
                ;;       /
                ;; ( )
        coll: all no
            ;;    *\*/*
            ;;    - + -
            ;;       \*
            ;;    .
            ;;
            ;; ( )
    then:
        move: 2 1
        rot: 1
        goto immediate: start_jump

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        any:
            key: isdown d
            coll: any yes
                ;;       \
                ;;        +
                ;;
                ;; ( )
        coll: all no
            ;;
            ;;       /*
            ;; ( )- + -
            ;;    */*\*
    then:
        move: 0 0
        rot: -1
        goto immediate: start_jump

    if:
        any:
            key: isdown f
            key: isdown u
            key: isdown d
        coll: all no
            ;;       \*/*
            ;;        + -
            ;;       /*\*
            ;; ( )
    then:
        move: 1 0
        goto immediate: start_jump

    if:
        key: isdown b
    then:
        move: 1 0
        turn
        delay: 2

    if:
        coll: all yes
            ;; (+)- +
    then:
        goto: stand
        delay: 2

$SET_STR RGRAPH_PREFIX "switch_"
$UNSET_BOOL ONEWAY
import "anim/_switch.fus"

on "crush": goto: dead

$SET_STR ANIM_NS ""
$SET_STR RGRAPH_NS ""
import "anim/_roller.fus"

dead:
    rgraph: "dead"
    if() then: die

collmsgs: "collect"
on "crush": goto: dead

$SET_STR NS flierplayer_
$SET_BOOL PLAYER_FLIER
import "anim/_player.fus"

$SET_STR ANIM_NS flier_
$SET_STR RGRAPH_NS flierplayer_
$SET_BOOL PLAYER_FLIER
import "anim/_flier_core.fus"

collmsgs: "collect"
on "crush": goto: dead

$SET_STR NS birdplayer_
$SET_BOOL PLAYER_BIRD
import "anim/_player.fus"

$SET_STR ANIM_NS bird_
$SET_STR RGRAPH_NS birdplayer_
$SET_BOOL PLAYER_BIRD
import "anim/_bird.fus"

# Expected vars:
# * RGRAPH_PREFIX (str) e.g. "switch_", "switch_oneway_"
# * ONEWAY (bool)

# Expected vars at runtime:
# * key (str)

$SET_INT DELAY 2

init:
    if:
        get_bool mapvar(myvar("key"))
    then:
        goto immediate: switch_on

    if:
    then:
        goto immediate: switch_off

switch_off:
    rgraph: $PREFIX RGRAPH_PREFIX "off"
    hitbox:
        ;;     +
        ;;     *
        ;;  (.)- .
    on "spit":
        set mapvar(myvar("key")): T
        goto: switching_on
        delay: $GET_INT DELAY

switching_on:
    rgraph: $PREFIX RGRAPH_PREFIX "on"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)- .
    if:
    then: goto: switch_on

switch_on:
    rgraph: $PREFIX RGRAPH_PREFIX "on"
    hitbox:
        ;;     .
        ;;     *
        ;;  (.)- .
    $IF !ONEWAY: on "spit":
        set mapvar(myvar("key")): F
        goto: switching_off
        delay: $GET_INT DELAY

switching_off:
    rgraph: $PREFIX RGRAPH_PREFIX "off"
    hitbox:
        ;;     +
        ;;     *
        ;;  (.)- .
    if:
    then: goto: switch_off

# Expected vars:
# ANIM_NS (str), e.g. "flier_", ""
# RGRAPH_NS (str), e.g. "flierplayer_", ""


#$SET_BOOL ONLY_STICK_IF_NOT_SHIFT


$PREFIX ANIM_NS hover:
    rgraph: $PREFIX RGRAPH_NS "flier"
    unsafe
    flying
    hitbox:
        ;;   *\*/*
        ;;   -(+)-
        ;;   */*\*


    ############
    # ROTATE B #
    ############

    $IF PLAYER_FLIER:
        if:
            key: wasdown b
            key: not wasdown f
            $IF ONLY_STICK_IF_NOT_SHIFT:
                key: not isdown x
            coll: all yes
                ;;  . - .
                ;;
                ;;   ( )
        then:
            move: 0 1
            turn
            rot: 3
            goto: crawl
            delay: 2

    if:
        key: wasdown b
        key: not wasdown f
        coll: all no
            ;;  *\*/*
            ;;  - + -
            ;;     \*
            ;; ( )
    then:
        rot: 1
        move: 1 0
        goto: $PREFIX ANIM_NS fly
        delay: 1

    if:
        key: wasdown b
        key: not wasdown f
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        rot: 1
        goto: $PREFIX ANIM_NS fly
        delay: 1

    if:
        key: wasdown b
        key: not wasdown f
    then:
        rot: 1
        goto: $PREFIX ANIM_NS fly
        delay: 1


    ############
    # ROTATE F #
    ############

    $IF PLAYER_FLIER:
        if:
            key: wasdown f
            key: not wasdown b
            $IF ONLY_STICK_IF_NOT_SHIFT:
                key: not isdown x
            coll: all yes
                ;;   ( )
                ;;
                ;;  . - .
        then:
            move: -1 -1
            goto: crawl
            delay: 2

    if:
        key: wasdown f
        key: not wasdown b
        coll: all no
            ;; ( )
            ;;     /*
            ;;  - + -
            ;;  */*\*
    then:
        rot: -1
        move: 1 0
        goto: $PREFIX ANIM_NS fly
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        rot: -1
        goto: $PREFIX ANIM_NS fly
        delay: 1

    if:
        key: wasdown f
        key: not wasdown b
    then:
        rot: -1
        goto: $PREFIX ANIM_NS fly
        delay: 1


    ############
    # STRAIGHT #
    ############

    $IF PLAYER_FLIER:
        if:
            key: wasdown u
            $IF ONLY_STICK_IF_NOT_SHIFT:
                key: not isdown x
            coll: all yes
                ;;   ( )  .
                ;;       /
            coll: all no
                ;;       \
                ;;   ( )  .
        then:
            move: 0 -1
            rot: 1
            goto: crawl
            delay: 2

        if:
            key: wasdown u
            $IF ONLY_STICK_IF_NOT_SHIFT:
                key: not isdown x
            coll: all yes
                ;;       \
                ;;   ( )  .
            coll: all no
                ;;   ( )  .
                ;;       /
        then:
            move: 1 1
            rot: 2
            turn
            goto: crawl
            delay: 2

    if:
        key: wasdown u
        coll: all no
            ;;     \*/*
            ;; ( )  + -
            ;;     /*\*
    then:
        move: 1 0
        goto: $PREFIX ANIM_NS fly
        delay: 0


$PREFIX ANIM_NS fly:
    rgraph: $PREFIX RGRAPH_NS "flier_fly"
    unsafe
    flying
    hitbox:
        ;;   *\*/*
        ;;   -(+)-
        ;;   */*\*

    # DOESN'T WORK BECAUSE NO WAY TO KNOW WHETHER WE SHOULD TURN OR NOT:
    #$IF PLAYER_FLIER:
    #    if:
    #        coll: water any yes
    #            ;;   .   .
    #            ;;   *\*/*
    #            ;; . -(+)- .
    #            ;;   */*\*
    #            ;;   .   .
    #    then:
    #        move: -1 -1
    #        goto: swim_jump
    #        delay: 4

    if:
    then:
        goto: $PREFIX ANIM_NS hover

# Expected vars:
# ANIM_NS (str), e.g. "hexroller_", ""
# RGRAPH_NS (str), e.g. "hexrollerplayer_", ""
# R0, R1, R4, R5 (str), e.g. "", "_R1", ..., "_R5"



$SUFFIX R0 $PREFIX ANIM_NS stand:
    rgraph: $SUFFIX R0 $PREFIX RGRAPH_NS "hexroller"
    hitbox:
        ;;   .   .
        ;;   *\*/*
        ;; . - + - .
        ;;   */*\*
        ;;  (.)  .

    if:
        key: isdown u
        key: not isdown b
        key: isdown f
        coll: any yes
            ;;      +
            ;;
            ;;        .
            ;;
            ;; ( )  .
    then:
        move: 2 2
        rot: 2
        goto: $SUFFIX R3 $PREFIX ANIM_NS stand
        delay: $GET_INT DELAY

    if:
        key: not isdown d
        key: not isdown b
        key: isdown f
        coll: any yes
            ;;        +
            ;;
            ;; ( )  .
    then:
        move: 2 1
        rot: 2
        goto: $SUFFIX R4 $PREFIX ANIM_NS stand

    if:
        key: not isdown b
        key: isdown f
        coll: any yes
            ;; ( )  +
    then:
        move: 1 0
        rot: 1
        goto: $SUFFIX R5 $PREFIX ANIM_NS stand

    if:
        key: not isdown b
        key: isdown f
        coll: all no
            ;;        .
            ;;       /*
            ;; ( )- + - .
            ;;    */*\*
            ;;    .   .
    then:
        rot: -1
        delay: $GET_INT DELAY

    if:
        key: not isdown f
        key: isdown b
    then:
        rot: -1
        turn
        delay: $GET_INT DELAY
